/*! For license information please see main.d21dfa69.js.LICENSE.txt */
!function(){var e={110:function(e,t,n){"use strict";var r=n(441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var l=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=c(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{l(t,m,g)}catch(b){}}}}return t}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},757:function(e,t,n){"use strict";t.B6=t.vk=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(791),o=n(7),u=(r=o)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f="undefined"!==typeof navigator,h=function(e){var t=e.url,n=e.timeout;return new Promise((function(e){var r=function(){return e(!1)},i=new XMLHttpRequest;i.onerror=r,i.ontimeout=r,i.onreadystatechange=function(){i.readyState===i.HEADERS_RECEIVED&&(i.status?e(!0):r())},i.open("GET",t),i.timeout=n,i.send()}))},d={children:u.default.node,onChange:u.default.func,polling:u.default.oneOfType([u.default.shape({url:u.default.string,interval:u.default.number,timeout:u.default.number}),u.default.bool]),wrapperType:u.default.string},p={polling:!0,wrapperType:"span"},v={enabled:f&&/Windows.*Chrome|Windows.*Firefox|Linux.*Chrome/.test(navigator.userAgent),url:"https://httpbin.org/get",timeout:5e3,interval:5e3},y=function(e){function t(){s(this,t);var e=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={online:!f||"boolean"!==typeof navigator.onLine||navigator.onLine},e.goOnline=e.goOnline.bind(e),e.goOffline=e.goOffline.bind(e),e}return c(t,e),i(t,[{key:"componentDidMount",value:function(){window.addEventListener("online",this.goOnline),window.addEventListener("offline",this.goOffline),this.getPollingConfig().enabled&&this.startPolling()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("online",this.goOnline),window.removeEventListener("offline",this.goOffline),this.pollingId&&this.stopPolling()}},{key:"renderChildren",value:function(){var e=this.props,t=e.children,n=e.wrapperType;return(0,a.isValidElement)(t)?t:t?a.createElement.apply(void 0,[n,{}].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(a.Children.toArray(t)))):null}},{key:"getPollingConfig",value:function(){switch(this.props.polling){case!0:return v;case!1:return{enabled:!1};default:return Object.assign({},v,this.props.polling)}}},{key:"goOnline",value:function(){this.state.online||(this.callOnChangeHandler(!0),this.setState({online:!0}))}},{key:"goOffline",value:function(){this.state.online&&(this.callOnChangeHandler(!1),this.setState({online:!1}))}},{key:"callOnChangeHandler",value:function(e){this.props.onChange&&this.props.onChange(e)}},{key:"startPolling",value:function(){var e=this,t=this.getPollingConfig().interval;this.pollingId=setInterval((function(){var t=e.getPollingConfig(),n=t.url,r=t.timeout;h({url:n,timeout:r}).then((function(t){t?e.goOnline():e.goOffline()}))}),t)}},{key:"stopPolling",value:function(){clearInterval(this.pollingId)}}]),t}(a.Component);y.propTypes=d,y.defaultProps=p;var m=t.vk=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,e),i(t,[{key:"render",value:function(){return this.state.online?this.renderChildren():null}}]),t}(y);m.propTypes=d,m.defaultProps=p;var g=t.B6=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,e),i(t,[{key:"render",value:function(){return this.state.online?null:this.renderChildren()}}]),t}(y);g.propTypes=d,g.defaultProps=p;var b=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,e),i(t,[{key:"render",value:function(){return this.props.render({online:this.state.online})}}]),t}(y);b.propTypes=Object.assign({},d,{render:u.default.func.isRequired}),b.defaultProps=p},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var j,M=Object.assign;function F(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case _:return"Portal";case x:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function K(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ae(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Ee=null,Se=null;function xe(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=ki(t),_e(e.stateNode,e.type,t))}}function Ce(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function Te(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function Ie(e,t){return e(t)}function Oe(){}var Ae=!1;function Ne(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ie(e,t,n)}finally{Ae=!1,(null!==Ee||null!==Se)&&(Oe(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=ki(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(c)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){De=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ce){De=!1}function Le(e,t,n,r,i,a,o,u,s){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var je=!1,Me=null,Fe=!1,Ue=null,Ve={onError:function(e){je=!0,Me=e}};function Be(e,t,n,r,i,a,o,u,s){je=!1,Me=null,Le.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ke(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(ze(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Qe=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var lt=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,_t,Et,St,xt,Ct=!1,Tt=[],It=null,Ot=null,At=null,Nt=new Map,Pt=new Map,Dt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function jt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ke(n)))return e.blockedOn=t,void xt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Ct=!1,null!==It&&Ft(It)&&(It=null),null!==Ot&&Ft(Ot)&&(Ot=null),null!==At&&Ft(At)&&(At=null),Nt.forEach(Ut),Pt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Bt(It,e),null!==Ot&&Bt(Ot,e),null!==At&&Bt(At,e),Nt.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Dt.shift()}var Kt=w.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var i=bt,a=Kt.transition;Kt.transition=null;try{bt=1,Qt(e,t,n,r)}finally{bt=i,Kt.transition=a}}function Ht(e,t,n,r){var i=bt,a=Kt.transition;Kt.transition=null;try{bt=4,Qt(e,t,n,r)}finally{bt=i,Kt.transition=a}}function Qt(e,t,n,r){if(qt){var i=$t(e,t,n,r);if(null===i)qr(e,t,r,Gt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=jt(It,e,t,n,r,i),!0;case"dragenter":return Ot=jt(Ot,e,t,n,r,i),!0;case"mouseover":return At=jt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nt.set(a,jt(Nt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,jt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&kt(a),null===(a=$t(e,t,n,r))&&qr(e,t,r,Gt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Gt=null;function $t(e,t,n,r){if(Gt=null,null!==(e=gi(e=ke(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ke(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),fn=M({},ln,{view:0,detail:0}),hn=an(fn),dn=M({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(M({},dn,{dataTransfer:0})),yn=an(M({},fn,{relatedTarget:0})),mn=an(M({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=M({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),wn=an(M({},ln,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function xn(){return Sn}var Cn=M({},fn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Cn),In=an(M({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=an(M({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),An=an(M({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=M({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Nn),Dn=[9,13,27,32],Rn=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var jn=c&&"TextEvent"in window&&!Ln,Mn=c&&(!Rn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ce(r),0<(t=Hr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Qn=null;function Gn(e){Fr(e,0)}function $n(e){if(Q(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Qn=Hn=null)}function nr(e){if("value"===e.propertyName&&$n(Qn)){var t=[];Wn(t,Qn,e,ke(e)),Ne(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Qn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Qn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==yr||yr!==G(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Hr(mr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},Er={},Sr={};function xr(e){if(Er[e])return Er[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Cr=xr("animationend"),Tr=xr("animationiteration"),Ir=xr("animationstart"),Or=xr("transitionend"),Ar=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),s(t,[e])}for(var Dr=0;Dr<Nr.length;Dr++){var Rr=Nr[Dr];Pr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Pr(Cr,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Ir,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Or,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,l){if(Be.apply(this,arguments),je){if(!je)throw Error(a(198));var c=Me;je=!1,Me=null,Fe||(Fe=!0,Ue=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,l=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,l),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,l=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,l),a=s}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Kr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Kr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(jr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function Kr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Ht;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ne((function(){var r=a,i=ke(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":l="focus",s=yn;break;case"focusout":l="blur",s=yn;break;case"beforeblur":case"afterblur":s=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=On;break;case Cr:case Tr:case Ir:s=mn;break;case Or:s=An;break;case"scroll":s=hn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=In}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==u?u+"Capture":null:u;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&c.push(Wr(p,v,d)))),f)break;p=p.return}0<c.length&&(u=new s(u,l,null,n,i),o.push({event:u,listeners:c}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===we||!(l=n.relatedTarget||n.fromElement)||!gi(l)&&!l[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(l=(l=n.relatedTarget||n.toElement)?gi(l):null)&&(l!==(f=ze(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(s=null,l=r),s!==l)){if(c=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:wi(s),d=null==l?u:wi(l),(u=new c(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=d,c.relatedTarget=f,v=c),f=v,s&&l)e:{for(h=l,p=0,d=c=s;d;d=Qr(d))p++;for(d=0,v=h;v;v=Qr(v))d++;for(;0<p-d;)c=Qr(c),p--;for(;0<d-p;)h=Qr(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Qr(c),h=Qr(h)}c=null}else c=null;null!==s&&Gr(o,u,s,c,!1),null!==l&&null!==f&&Gr(o,f,l,c,!0)}if("select"===(s=(u=r?wi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Yn;else if(qn(u))if(Xn)y=or;else{y=ir;var m=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=ar);switch(y&&(y=y(e,r))?Wn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ee(u,"number",u.value)),m=r?wi(r):window,e){case"focusin":(qn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":wr(o,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(m=Hr(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:m}),g?b.data=g:null!==(g=Bn(n))&&(b.data=g))),(g=jn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Rn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,l=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==l&&(u=l,i?null!=(s=Pe(n,a))&&o.unshift(Wr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Wr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,yi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ki(e){return e[di]||null}var _i=[],Ei=-1;function Si(e){return{current:e}}function xi(e){0>Ei||(e.current=_i[Ei],_i[Ei]=null,Ei--)}function Ci(e,t){Ei++,_i[Ei]=e.current,e.current=t}var Ti={},Ii=Si(Ti),Oi=Si(!1),Ai=Ti;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){xi(Oi),xi(Ii)}function Ri(e,t,n){if(Ii.current!==Ti)throw Error(a(168));Ci(Ii,t),Ci(Oi,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,K(e)||"Unknown",i));return M({},n,r)}function ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ii.current,Ci(Ii,e),Ci(Oi,Oi.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,xi(Oi),xi(Ii),Ci(Ii,e)):xi(Oi),Ci(Oi,n)}var Fi=null,Ui=!1,Vi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Qe(Ze,zi),i}finally{bt=t,Vi=!1}}return null}var Ki=[],qi=0,Wi=null,Hi=0,Qi=[],Gi=0,$i=null,Yi=1,Xi="";function Ji(e,t){Ki[qi++]=Hi,Ki[qi++]=Wi,Wi=e,Hi=t}function Zi(e,t,n){Qi[Gi++]=Yi,Qi[Gi++]=Xi,Qi[Gi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Yi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=Ki[--qi],Ki[qi]=null,Hi=Ki[--qi],Ki[qi]=null;for(;e===$i;)$i=Qi[--Gi],Qi[Gi]=null,Xi=Qi[--Gi],Qi[Gi]=null,Yi=Qi[--Gi],Qi[Gi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Nl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=li(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=w.ReactCurrentBatchConfig;function ya(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=Si(null),ga=null,ba=null,wa=null;function ka(){wa=ba=ga=null}function _a(e){var t=ma.current;xi(ma),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,wa=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wu=!0),e.firstContext=null)}function xa(e){var t=e._currentValue;if(wa!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ga)throw Error(a(308));ba=e,ga.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ca=null;function Ta(e){null===Ca?Ca=[e]:Ca.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Oa(e,r)}function Oa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Is)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Oa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Oa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function ja(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,l=s.next;s.next=null,null===o?a=l:o.next=l,o=s;var c=e.alternate;null!==c&&((u=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===u?c.firstBaseUpdate=l:u.next=l,c.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,c=l=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=M({},f,h);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===c?(l=c=d,s=f):c=c.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(s=f),i.baseState=s,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);js|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nl(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nl(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(nl(t,e,r,n),La(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function Ka(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=xa(a):(i=Pi(t)?Ai:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function qa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=xa(a):(a=Pi(t)?Ai:Ii.current,i.context=Ni(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Qa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ga(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ml(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Ga(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Rl(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ll(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ml(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Rl(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case _:return(t=Fl(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ll(t,e.mode,n,null)).return=e,t;Qa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?l(e,t,n,r):null;case _:return n.key===i?c(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Qa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Qa(t,r)}return null}function v(i,a,u,s){for(var l=null,c=null,f=a,v=a=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m,f=y}if(v===u.length)return n(i,f),ia&&Ji(i,v),l;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===c?l=f:c.sibling=f,c=f);return ia&&Ji(i,v),l}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===c?l=y:c.sibling=y,c=y);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),l}function y(i,u,s,l){var c=L(s);if("function"!==typeof c)throw Error(a(150));if(null==(s=c.call(s)))throw Error(a(151));for(var f=c=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var b=d(i,v,g.value,l);if(null===b){null===v&&(v=m);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,y),null===f?c=b:f.sibling=b,f=b,v=m}if(g.done)return n(i,v),ia&&Ji(i,y),c;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,l))&&(u=o(g,u,y),null===f?c=g:f.sibling=g,f=g);return ia&&Ji(i,y),c}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,l))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=o(g,u,y),null===f?c=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,y),c}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case k:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===E){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===P&&Ga(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Ha(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===E?((a=Ll(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Rl(o.type,o.key,o.props,null,r.mode,s)).ref=Ha(r,a,o),s.return=r,r=s)}return u(r);case _:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fl(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(c=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return y(r,a,o,s);Qa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Ml(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=$a(!0),Xa=$a(!1),Ja={},Za=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ci(to,t),Ci(eo,e),Ci(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Za),Ci(Za,t)}function io(){xi(Za),xi(eo),xi(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ci(eo,e),Ci(Za,n))}function oo(e){eo.current===e&&(xi(Za),xi(eo))}var uo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var fo=w.ReactCurrentDispatcher,ho=w.ReactCurrentBatchConfig,po=0,vo=null,yo=null,mo=null,go=!1,bo=!1,wo=0,ko=0;function _o(){throw Error(a(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),bo){o=0;do{if(bo=!1,wo=0,25<=o)throw Error(a(301));o+=1,mo=yo=null,t.updateQueue=null,fo.current=lu,e=n(r,i)}while(bo)}if(fo.current=ou,t=null!==yo&&null!==yo.next,po=0,mo=yo=vo=null,go=!1,t)throw Error(a(300));return e}function xo(){var e=0!==wo;return wo=0,e}function Co(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?vo.memoizedState=mo=e:mo=mo.next=e,mo}function To(){if(null===yo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=yo.next;var t=null===mo?vo.memoizedState:mo.next;if(null!==t)mo=t,yo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(yo=e).memoizedState,baseState:yo.baseState,baseQueue:yo.baseQueue,queue:yo.queue,next:null},null===mo?vo.memoizedState=mo=e:mo=mo.next=e}return mo}function Io(e,t){return"function"===typeof t?t(e):t}function Oo(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,l=null,c=o;do{var f=c.lane;if((po&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(s=l=h,u=r):l=l.next=h,vo.lanes|=f,js|=f}c=c.next}while(null!==c&&c!==o);null===l?u=r:l.next=s,ur(r,t.memoizedState)||(wu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,js|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(wu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(){}function Po(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,wu=!0),r=r.queue,qo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,Uo(9,Ro.bind(null,n,r,i,t),void 0,null),null===Os)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,jo(t)&&Mo(e)}function Lo(e,t,n){return n((function(){jo(t)&&Mo(e)}))}function jo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Mo(e){var t=Oa(e,1);null!==t&&nl(t,e,1,-1)}function Fo(e){var t=Co();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function Bo(e,t,n,r){var i=Co();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==yo){var o=yo.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function Ko(e,t){return Bo(8390656,8,e,t)}function qo(e,t){return zo(2048,8,e,t)}function Wo(e,t){return zo(4,2,e,t)}function Ho(e,t){return zo(4,4,e,t)}function Qo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Go(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Qo.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,wu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,js|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ia(e,t,n,r))){nl(n,e,r,el()),au(n,t,r)}}function nu(e,t,n){var r=tl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ia(e,t,i,r))&&(nl(n,e,r,i=el()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:xa,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},uu={readContext:xa,useCallback:function(e,t){return Co().memoizedState=[e,void 0===t?null:t],e},useContext:xa,useEffect:Ko,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Qo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=Co();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Co();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Co().memoizedState=e},useState:Fo,useDebugValue:$o,useDeferredValue:function(e){return Co().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),Co().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Co();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Os)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ko(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Co(),t=Os.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=wo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ko++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:xa,useCallback:Yo,useContext:xa,useEffect:qo,useImperativeHandle:Go,useInsertionEffect:Wo,useLayoutEffect:Ho,useMemo:Xo,useReducer:Oo,useRef:Vo,useState:function(){return Oo(Io)},useDebugValue:$o,useDeferredValue:function(e){return Jo(To(),yo.memoizedState,e)},useTransition:function(){return[Oo(Io)[0],To().memoizedState]},useMutableSource:No,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},lu={readContext:xa,useCallback:Yo,useContext:xa,useEffect:qo,useImperativeHandle:Go,useInsertionEffect:Wo,useLayoutEffect:Ho,useMemo:Xo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Io)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===yo?t.memoizedState=e:Jo(t,yo.memoizedState,e)},useTransition:function(){return[Ao(Io)[0],To().memoizedState]},useMutableSource:No,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function cu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qs||(qs=!0,Ws=r),hu(0,t)},n}function vu(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Hs?Hs=new Set([this]):Hs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function yu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=xl.bind(null,e,t,n),t.then(e,e))}function mu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bu=w.ReactCurrentOwner,wu=!1;function ku(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function _u(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=xo(),null===e||wu?(ia&&n&&ea(t),t.flags|=1,ku(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qu(e,t,i))}function Eu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return qu(e,t,i)}return t.flags|=1,(e=Dl(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(wu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,qu(e,t,i);0!==(131072&e.flags)&&(wu=!0)}}return Tu(e,t,n,r,i)}function xu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Ds,Ps),Ps|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Ds,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ci(Ds,Ps),Ps|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ci(Ds,Ps),Ps|=r;return ku(e,t,i,n),t.child}function Cu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Pi(n)?Ai:Ii.current;return a=Ni(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=xo(),null===e||wu?(ia&&r&&ea(t),t.flags|=1,ku(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qu(e,t,i))}function Iu(e,t,n,r,i){if(Pi(n)){var a=!0;ji(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Ku(e,t),Ka(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=xa(l):l=Ni(t,l=Pi(n)?Ai:Ii.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==l)&&qa(t,o,r,l),Aa=!1;var h=t.memoizedState;o.state=h,Ma(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Oi.current||Aa?("function"===typeof c&&(Va(t,n,c,r),s=t.memoizedState),(u=Aa||za(t,n,u,r,h,s,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=l,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,l=t.type===t.elementType?u:ya(t.type,u),o.props=l,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=xa(s):s=Ni(t,s=Pi(n)?Ai:Ii.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&qa(t,o,r,s),Aa=!1,h=t.memoizedState,o.state=h,Ma(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Oi.current||Aa?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(l=Aa||za(t,n,l,r,h,p,s)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=l):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ou(e,t,n,r,a,i)}function Ou(e,t,n,r,i,a){Cu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),qu(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):ku(e,t,u,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function Nu(e,t,n,r,i){return da(),pa(i),t.flags|=256,ku(e,t,n,r),t.child}var Pu,Du,Ru,Lu={dehydrated:null,treeContext:null,retryLane:0};function ju(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ci(uo,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=jl(s,i,0,null),e=Ll(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=ju(n),t.memoizedState=Lu,e):Fu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Uu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=jl({mode:"visible",children:r.children},i,0,null),(o=Ll(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=ju(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return Uu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Uu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),wu||s){if(null!==(r=Os)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Oa(e,i),nl(r,e,i,-1))}return vl(),Uu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tl.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Qi[Gi++]=Yi,Qi[Gi++]=Xi,Qi[Gi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),(t=Fu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Dl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Dl(r,u):(u=Ll(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?ju(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Dl(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fu(e,t){return(t=jl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Fu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ku(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vu(e,n,t);else if(19===e.tag)Vu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ku(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),js|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hu(t),null;case 1:case 17:return Pi(t.type)&&Di(),Hu(t),null;case 3:return r=t.stateNode,io(),xi(Oi),xi(Ii),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ol(aa),aa=null))),Hu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Du(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Hu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var l=o[s];"children"===s?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):u.hasOwnProperty(s)&&null!=l&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Pu(e,t),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?ye(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Ur("scroll",e):null!=c&&b(e,o,c,s))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hu(t),null;case 6:if(e&&null!=t.stateNode)Ru(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Hu(t),null;case 13:if(xi(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hu(t),o=!1}else null!==aa&&(ol(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Rs&&(Rs=3):vl())),null!==t.updateQueue&&(t.flags|=4),Hu(t),null);case 4:return io(),null===e&&zr(t.stateNode.containerInfo),Hu(t),null;case 10:return _a(t.type._context),Hu(t),null;case 19:if(xi(uo),null===(o=t.memoizedState))return Hu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Wu(o,!1);else{if(0!==Rs||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Wu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>zs&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Hu(t),null}else 2*Xe()-o.renderingStartTime>zs&&1073741824!==n&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Ci(uo,r?1&n|2:1&n),t):(Hu(t),null);case 22:case 23:return fl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ps)&&(Hu(t),6&t.subtreeFlags&&(t.flags|=8192)):Hu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Gu(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),xi(Oi),xi(Ii),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(xi(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(uo),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return fl(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Du=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(u.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(null!=l||null!=s))if("style"===c)if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(u.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Ur("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ru=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Yu=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sl(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Sl(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var cs=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||Zu(n,t);case 6:var r=cs,i=fs;cs=null,hs(e,t,n),fs=i,null!==(cs=r)&&(fs?(e=cs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cs.removeChild(n.stateNode));break;case 18:null!==cs&&(fs?(e=cs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(cs,n.stateNode));break;case 4:r=cs,i=fs,cs=n.stateNode.containerInfo,fs=!0,hs(e,t,n),cs=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Yu&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Sl(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,hs(e,t,n),Yu=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Il.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:cs=s.stateNode,fs=!1;break e;case 3:case 4:cs=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===cs)throw Error(a(160));ds(o,u,i),cs=null,fs=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Sl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ms(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(y){Sl(e,e.return,y)}try{ns(5,e,e.return)}catch(y){Sl(e,e.return,y)}}break;case 1:vs(t,e),ms(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ms(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(y){Sl(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),be(s,u);var c=be(s,o);for(u=0;u<l.length;u+=2){var f=l[u],h=l[u+1];"style"===f?ye(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,c)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(y){Sl(e,e.return,y)}}break;case 6:if(vs(t,e),ms(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Sl(e,e.return,y)}}break;case 3:if(vs(t,e),ms(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(y){Sl(e,e.return,y)}break;case 4:default:vs(t,e),ms(e);break;case 13:vs(t,e),ms(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Xe())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(c=Yu)||f,vs(t,e),Yu=c):vs(t,e),ms(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(h=Ju=f;null!==Ju;){switch(p=(d=Ju).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Zu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){Sl(r,n,y)}}break;case 5:Zu(d,d.return);break;case 22:if(null!==d.memoizedState){ks(h);continue}}null!==p?(p.return=d,Ju=p):ks(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,s.style.display=ve("display",u))}catch(y){Sl(e,e.return,y)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){Sl(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ms(e),4&r&&ps(e);case 21:}}function ms(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ls(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Sl(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Ju=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$u;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=$u;var l=Yu;if($u=o,(Yu=s)&&!l)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?_s(i):null!==s?(s.return=o,Ju=s):_s(i);for(;null!==a;)Ju=a,bs(a,t,n),a=a.sibling;Ju=i,$u=u,Yu=l}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):ws(e)}}function ws(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ya(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Yu||512&t.flags&&is(t)}catch(d){Sl(t,t.return,d)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function ks(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function _s(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Sl(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Sl(t,i,s)}}var a=t.return;try{is(t)}catch(s){Sl(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Sl(t,o,s)}}}catch(s){Sl(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var Es,Ss=Math.ceil,xs=w.ReactCurrentDispatcher,Cs=w.ReactCurrentOwner,Ts=w.ReactCurrentBatchConfig,Is=0,Os=null,As=null,Ns=0,Ps=0,Ds=Si(0),Rs=0,Ls=null,js=0,Ms=0,Fs=0,Us=null,Vs=null,Bs=0,zs=1/0,Ks=null,qs=!1,Ws=null,Hs=null,Qs=!1,Gs=null,$s=0,Ys=0,Xs=null,Js=-1,Zs=0;function el(){return 0!==(6&Is)?Xe():-1!==Js?Js:Js=Xe()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Is)&&0!==Ns?Ns&-Ns:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nl(e,t,n,r){if(50<Ys)throw Ys=0,Xs=null,Error(a(185));mt(e,n,r),0!==(2&Is)&&e===Os||(e===Os&&(0===(2&Is)&&(Ms|=n),4===Rs&&ul(e,Ns)),rl(e,r),1===n&&0===Is&&0===(1&t.mode)&&(zs=Xe()+500,Ui&&zi()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Os?Ns:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(sl.bind(null,e)):Bi(sl.bind(null,e)),oi((function(){0===(6&Is)&&zi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ol(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if(Js=-1,Zs=0,0!==(6&Is))throw Error(a(327));var n=e.callbackNode;if(_l()&&e.callbackNode!==n)return null;var r=ht(e,e===Os?Ns:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yl(e,r);else{t=r;var i=Is;Is|=2;var o=pl();for(Os===e&&Ns===t||(Ks=null,zs=Xe()+500,hl(e,t));;)try{gl();break}catch(s){dl(e,s)}ka(),xs.current=o,Is=i,null!==As?t=0:(Os=null,Ns=0,t=Rs)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=al(e,i))),1===t)throw n=Ls,hl(e,0),ul(e,r),rl(e,Xe()),n;if(6===t)ul(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yl(e,r))&&(0!==(o=pt(e))&&(r=o,t=al(e,o))),1===t))throw n=Ls,hl(e,0),ul(e,r),rl(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:kl(e,Vs,Ks);break;case 3:if(ul(e,r),(130023424&r)===r&&10<(t=Bs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(kl.bind(null,e,Vs,Ks),t);break}kl(e,Vs,Ks);break;case 4:if(ul(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ss(r/1960))-r)){e.timeoutHandle=ri(kl.bind(null,e,Vs,Ks),r);break}kl(e,Vs,Ks);break;default:throw Error(a(329))}}}return rl(e,Xe()),e.callbackNode===n?il.bind(null,e):null}function al(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(hl(e,t).flags|=256),2!==(e=yl(e,t))&&(t=Vs,Vs=n,null!==t&&ol(t)),e}function ol(e){null===Vs?Vs=e:Vs.push.apply(Vs,e)}function ul(e,t){for(t&=~Fs,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sl(e){if(0!==(6&Is))throw Error(a(327));_l();var t=ht(e,0);if(0===(1&t))return rl(e,Xe()),null;var n=yl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=al(e,r))}if(1===n)throw n=Ls,hl(e,0),ul(e,t),rl(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kl(e,Vs,Ks),rl(e,Xe()),null}function ll(e,t){var n=Is;Is|=1;try{return e(t)}finally{0===(Is=n)&&(zs=Xe()+500,Ui&&zi())}}function cl(e){null!==Gs&&0===Gs.tag&&0===(6&Is)&&_l();var t=Is;Is|=1;var n=Ts.transition,r=bt;try{if(Ts.transition=null,bt=1,e)return e()}finally{bt=r,Ts.transition=n,0===(6&(Is=t))&&zi()}}function fl(){Ps=Ds.current,xi(Ds)}function hl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),xi(Oi),xi(Ii),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:xi(uo);break;case 10:_a(r.type._context);break;case 22:case 23:fl()}n=n.return}if(Os=e,As=e=Dl(e.current,null),Ns=Ps=t,Rs=0,Ls=null,Fs=Ms=js=0,Vs=Us=null,null!==Ca){for(t=0;t<Ca.length;t++)if(null!==(r=(n=Ca[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ca=null}return e}function dl(e,t){for(;;){var n=As;try{if(ka(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,mo=yo=vo=null,bo=!1,wo=0,Cs.current=null,null===n||null===n.return){Rs=1,Ls=t,As=null;break}e:{var o=e,u=n.return,s=n,l=t;if(t=Ns,s.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=mu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&yu(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(l),t.updateQueue=y}else v.add(l);break e}if(0===(1&t)){yu(o,c,t),vl();break e}l=Error(a(426))}else if(ia&&1&s.mode){var m=mu(u);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),gu(m,u,s,0,t),pa(cu(l,s));break e}}o=l=cu(l,s),4!==Rs&&(Rs=2),null===Us?Us=[o]:Us.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,ja(o,pu(0,l,t));break e;case 1:s=l;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Hs||!Hs.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,ja(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wl(n)}catch(w){t=w,As===n&&null!==n&&(As=n=n.return);continue}break}}function pl(){var e=xs.current;return xs.current=ou,null===e?ou:e}function vl(){0!==Rs&&3!==Rs&&2!==Rs||(Rs=4),null===Os||0===(268435455&js)&&0===(268435455&Ms)||ul(Os,Ns)}function yl(e,t){var n=Is;Is|=2;var r=pl();for(Os===e&&Ns===t||(Ks=null,hl(e,t));;)try{ml();break}catch(i){dl(e,i)}if(ka(),Is=n,xs.current=r,null!==As)throw Error(a(261));return Os=null,Ns=0,Rs}function ml(){for(;null!==As;)bl(As)}function gl(){for(;null!==As&&!$e();)bl(As)}function bl(e){var t=Es(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?wl(e):As=t,Cs.current=null}function wl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qu(n,t,Ps)))return void(As=n)}else{if(null!==(n=Gu(n,t)))return n.flags&=32767,void(As=n);if(null===e)return Rs=6,void(As=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(As=t);As=t=e}while(null!==t);0===Rs&&(Rs=5)}function kl(e,t,n){var r=bt,i=Ts.transition;try{Ts.transition=null,bt=1,function(e,t,n,r){do{_l()}while(null!==Gs);if(0!==(6&Is))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Os&&(As=Os=null,Ns=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qs||(Qs=!0,Ol(tt,(function(){return _l(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=bt;bt=1;var s=Is;Is|=4,Cs.current=null,function(e,t){if(ei=qt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(k){n=null;break e}var u=0,s=-1,l=-1,c=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(l=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++c===i&&(s=u),d===o&&++f===r&&(l=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===l?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:ya(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(a(163))}}catch(k){Sl(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ts,ts=!1}(e,n),ys(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Ye(),Is=s,bt=u,Ts.transition=o}else e.current=n;if(Qs&&(Qs=!1,Gs=e,$s=i),0===(o=e.pendingLanes)&&(Hs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(qs)throw qs=!1,e=Ws,Ws=null,e;0!==(1&$s)&&0!==e.tag&&_l(),0!==(1&(o=e.pendingLanes))?e===Xs?Ys++:(Ys=0,Xs=e):Ys=0,zi()}(e,t,n,r)}finally{Ts.transition=i,bt=r}return null}function _l(){if(null!==Gs){var e=wt($s),t=Ts.transition,n=bt;try{if(Ts.transition=null,bt=16>e?16:e,null===Gs)var r=!1;else{if(e=Gs,Gs=null,$s=0,0!==(6&Is))throw Error(a(331));var i=Is;for(Is|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var l=0;l<s.length;l++){var c=s[l];for(Ju=c;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Ju=h;else for(;null!==Ju;){var d=(f=Ju).sibling,p=f.return;if(as(f),f===c){Ju=null;break}if(null!==d){d.return=p,Ju=d;break}Ju=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var b=e.current;for(Ju=b;null!==Ju;){var w=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==w)w.return=u,Ju=w;else e:for(u=b;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(_){Sl(s,s.return,_)}if(s===u){Ju=null;break e}var k=s.sibling;if(null!==k){k.return=s.return,Ju=k;break e}Ju=s.return}}if(Is=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,Ts.transition=t}}return!1}function El(e,t,n){e=Ra(e,t=pu(0,t=cu(n,t),1),1),t=el(),null!==e&&(mt(e,1,t),rl(e,t))}function Sl(e,t,n){if(3===e.tag)El(e,e,n);else for(;null!==t;){if(3===t.tag){El(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hs||!Hs.has(r))){t=Ra(t,e=vu(t,e=cu(n,e),1),1),e=el(),null!==t&&(mt(t,1,e),rl(t,e));break}}t=t.return}}function xl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Os===e&&(Ns&n)===n&&(4===Rs||3===Rs&&(130023424&Ns)===Ns&&500>Xe()-Bs?hl(e,0):Fs|=n),rl(e,t)}function Cl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=el();null!==(e=Oa(e,t))&&(mt(e,t,n),rl(e,n))}function Tl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cl(e,n)}function Il(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Cl(e,n)}function Ol(e,t){return Qe(e,t)}function Al(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nl(e,t,n,r){return new Al(e,t,n,r)}function Pl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dl(e,t){var n=e.alternate;return null===n?((n=Nl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rl(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pl(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Ll(n.children,i,o,t);case S:u=8,i|=8;break;case x:return(e=Nl(12,n,t,2|i)).elementType=x,e.lanes=o,e;case O:return(e=Nl(13,n,t,i)).elementType=O,e.lanes=o,e;case A:return(e=Nl(19,n,t,i)).elementType=A,e.lanes=o,e;case D:return jl(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:u=10;break e;case T:u=9;break e;case I:u=11;break e;case N:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Nl(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ll(e,t,n,r){return(e=Nl(7,e,r,t)).lanes=n,e}function jl(e,t,n,r){return(e=Nl(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Ml(e,t,n){return(e=Nl(6,e,null,t)).lanes=n,e}function Fl(e,t,n){return(t=Nl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ul(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vl(e,t,n,r,i,a,o,u,s){return e=new Ul(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Nl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Na(a),e}function Bl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zl(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function Kl(e,t,n,r,i,a,o,u,s){return(e=Vl(n,r,!0,e,0,a,0,u,s)).context=zl(null),n=e.current,(a=Da(r=el(),i=tl(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,mt(e,i,r),rl(e,r),e}function ql(e,t,n,r){var i=t.current,a=el(),o=tl(i);return n=zl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(nl(e,i,o,a),La(e,i,o)),o}function Wl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ql(e,t){Hl(e,t),(e=e.alternate)&&Hl(e,t)}Es=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oi.current)wu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wu=!1,function(e,t,n){switch(t.tag){case 3:Au(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&ji(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mu(e,t,n):(Ci(uo,1&uo.current),null!==(e=qu(e,t,n))?e.sibling:null);Ci(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,xu(e,t,n)}return qu(e,t,n)}(e,t,n);wu=0!==(131072&e.flags)}else wu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ku(e,t),e=t.pendingProps;var i=Ni(t,Ii.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=xo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,ji(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Na(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Ou(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ku(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ku(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===N)return 14}return 2}(r),e=ya(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Iu(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=Eu(null,t,r,ya(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 1:return r=t.type,i=t.pendingProps,Iu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Ma(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Nu(e,t,r,n,i=cu(Error(a(423)),t));break e}if(r!==i){t=Nu(e,t,r,n,i=cu(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=qu(e,t,n);break e}ku(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Cu(e,t),ku(e,t,u,n),t.child;case 6:return null===e&&la(t),null;case 13:return Mu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):ku(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 7:return ku(e,t,t.pendingProps,n),t.child;case 8:case 12:return ku(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ci(ma,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Oi.current){t=qu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var l=s.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Da(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ea(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Ea(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}ku(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=xa(i)),t.flags|=1,ku(e,t,r,n),t.child;case 14:return i=ya(r=t.type,t.pendingProps),Eu(e,t,r,i=ya(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ya(r,i),Ku(e,t),t.tag=1,Pi(r)?(e=!0,ji(t)):e=!1,Sa(t,n),Ka(t,r,i),Wa(t,r,i,n),Ou(null,t,r,!0,e,n);case 19:return zu(e,t,n);case 22:return xu(e,t,n)}throw Error(a(156,t.tag))};var Gl="function"===typeof reportError?reportError:function(e){console.error(e)};function $l(e){this._internalRoot=e}function Yl(e){this._internalRoot=e}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Wl(o);u.call(e)}}ql(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wl(o);a.call(e)}}var o=Kl(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),cl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Wl(s);u.call(e)}}var s=Vl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),cl((function(){ql(t,s,n,r)})),s}(n,t,e,i,r);return Wl(o)}Yl.prototype.render=$l.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));ql(e,t,null,null)},Yl.prototype.unmount=$l.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl((function(){ql(null,e,null,null)})),t[pi]=null}},Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Mt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rl(t,Xe()),0===(6&Is)&&(zs=Xe()+500,zi()))}break;case 13:cl((function(){var t=Oa(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),Ql(e,1)}},_t=function(e){if(13===e.tag){var t=Oa(e,134217728);if(null!==t)nl(t,e,134217728,el());Ql(e,134217728)}},Et=function(e){if(13===e.tag){var t=tl(e),n=Oa(e,t);if(null!==n)nl(n,e,t,el());Ql(e,t)}},St=function(){return bt},xt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ki(r);if(!i)throw Error(a(90));Q(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=ll,Oe=cl;var tc={usingClientEntryPoint:!1,Events:[bi,wi,ki,Ce,Te,ll]},nc={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xl(t))throw Error(a(200));return Bl(e,t,null,n)},t.createRoot=function(e,t){if(!Xl(e))throw Error(a(299));var n=!1,r="",i=Gl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new $l(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Gl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Kl(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yl(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(a(40));return!!e._reactRootContainer&&(cl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case l:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function _(e){return k(e)===f}t.AsyncMode=c,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||k(e)===c},t.isConcurrentMode=_,t.isContextConsumer=function(e){return k(e)===l},t.isContextProvider=function(e){return k(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return k(e)===h},t.isFragment=function(e){return k(e)===a},t.isLazy=function(e){return k(e)===y},t.isMemo=function(e){return k(e)===v},t.isPortal=function(e){return k(e)===i},t.isProfiler=function(e){return k(e)===u},t.isStrictMode=function(e){return k(e)===o},t.isSuspense=function(e){return k(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===s||e.$$typeof===l||e.$$typeof===h||e.$$typeof===g||e.$$typeof===b||e.$$typeof===w||e.$$typeof===m)},t.typeOf=k},441:function(e,t,n){"use strict";e.exports=n(372)},459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case c:case l:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},900:function(e,t,n){"use strict";n(459)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:u.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var w=b.prototype=new g;w.constructor=b,v(w,m.prototype),w.isPureReactComponent=!0;var k=Array.isArray,_=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:E.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+I(s,0):a,k(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),O(o,t,i,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",k(e))for(var l=0;l<e.length;l++){var c=a+I(u=e[l],l);s+=O(u,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(u=e.next()).done;)s+=O(u=u.value,t,i,c=a+I(u,l++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return O(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:E};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)_.call(t,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==s?s[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],l=u+1,c=e[l];if(0>a(s,n))l<i&&0>a(c,s)?(e[r]=c,e[l]=n,r=l):(e[r]=s,e[u]=n,r=u);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var l=[],c=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function k(e){if(y=!1,w(e),!v)if(null!==r(l))v=!0,D(_);else{var t=r(c);null!==t&&R(k,t.startTime-e)}}function _(e,n){v=!1,y&&(y=!1,g(C),C=-1),p=!0;var a=d;try{for(w(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!O());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(l)&&i(l),w(n)}else i(l);h=r(l)}if(null!==h)var s=!0;else{var f=r(c);null!==f&&R(k,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,x=null,C=-1,T=5,I=-1;function O(){return!(t.unstable_now()-I<T)}function A(){if(null!==x){var e=t.unstable_now();I=e;var n=!0;try{n=x(!0,e)}finally{n?E():(S=!1,x=null)}}else S=!1}if("function"===typeof b)E=function(){b(A)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,P=N.port2;N.port1.onmessage=A,E=function(){P.postMessage(null)}}else E=function(){m(A,0)};function D(e){x=e,S||(S=!0,E())}function R(e,n){C=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(y?(g(C),C=-1):y=!0,R(k,a-o))):(e.sortIndex=u,n(l,e),v||p||(v=!0,D(_))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},561:function(e,t,n){"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return u((function(){i.value=n,i.getSnapshot=t,l(i)&&c({inst:i})}),[e,n,t]),o((function(){return l(i)&&c({inst:i}),e((function(){l(i)&&c({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},595:function(e,t,n){"use strict";var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,u=r.useRef,s=r.useEffect,l=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=u(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=l((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return u=t}return u=e}if(t=u,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,u=n)}var o,u,s=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return s((function(){h.hasValue=!0,h.value=d}),[d]),c(d),d}},248:function(e,t,n){"use strict";e.exports=n(561)},327:function(e,t,n){"use strict";e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}!function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e=n(791),t=n.t(e,2),r=n(250);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u={container:"textinput_container__btZXd",icon:"textinput_icon__CA8WF","input-icon":"textinput_input-icon__cNRdc","input-wo-icon":"textinput_input-wo-icon__Ug2AZ",coverup:"textinput_coverup__jinHl",input:"textinput_input__pKz1J",Big:"textinput_Big__B+2me",Small:"textinput_Small__3WwuQ"},s=n(184),l=e.forwardRef((function(t,n){var r=o((0,e.useState)(""),2),i=r[0],a=r[1];if(!t)return(0,s.jsx)("div",{className:"container",children:(0,s.jsx)("input",{className:u.big+" "+u.input})});var l=t.size&&t.size===u.Small?u.Small:u.Big;return l+=t.icon?" "+u.input+" "+u["input-icon"]:" "+u.input+" "+u["input-wo-icon"],(0,s.jsxs)(s.Fragment,{children:[t.onFocusPointOut?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:t.focus?u.coverup:u["coverup-gone"],onClick:function(e){t.onBlur&&t.setFocus&&(t.onBlur(),t.setFocus(!1))}})}):(0,s.jsx)(s.Fragment,{}),(0,s.jsxs)("div",{className:u.container,children:[t.icon?(0,s.jsx)("div",{className:u.icon,children:t.icon}):(0,s.jsx)(s.Fragment,{}),(0,s.jsx)("input",{ref:n,type:t.type?t.type:"text",value:i,className:l,onClick:function(e){t.onClick&&t.onClick(e)},onChange:function(e){t.regexValidator?e.currentTarget.value.match(t.regexValidator)&&a(e.currentTarget.value):a(e.currentTarget.value),t.onChange&&t.onChange(e)},onKeyDown:function(e){t.regexValidator?e.currentTarget.value.match(t.regexValidator)&&a(e.currentTarget.value):a(e.currentTarget.value),t.onKeyDown&&t.onKeyDown(e)},onKeyUp:function(e){t.regexValidator?e.currentTarget.value.match(t.regexValidator)&&a(e.currentTarget.value):a(e.currentTarget.value),t.onKeyUp&&t.onKeyUp(e)},placeholder:t.placeholder?t.placeholder:void 0,onFocus:function(){t.setFocus&&t.setFocus(!0)},pattern:t.pattern?t.pattern:void 0,onBlur:function(e){t.onBlur&&t.onBlur(e),t.setFocus},children:t.children})]})]})})),c={container:"signinscreen_container__ECFzq",loginbox:"signinscreen_loginbox__+ImP-",loginboxcontainer:"signinscreen_loginboxcontainer__9rbnd",username:"signinscreen_username__673ol",password:"signinscreen_password__EKCX6",header:"signinscreen_header__D4TuP",headertext:"signinscreen_headertext__XfJbp",loginButton:"signinscreen_loginButton__kTEYV",loginbuttoncontainer:"signinscreen_loginbuttoncontainer__ZRMZR",usereingabe:"signinscreen_usereingabe__7xnWn"},f={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},h=e.createContext&&e.createContext(f),d=function(){return d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},d.apply(this,arguments)},p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function v(t){return t&&t.map((function(t,n){return e.createElement(t.tag,d({key:n},t.attr),v(t.child))}))}function y(t){return function(n){return e.createElement(m,d({attr:d({},t.attr)},n),v(t.child))}}function m(t){var n=function(n){var r,i=t.attr,a=t.size,o=t.title,u=p(t,["attr","size","title"]),s=a||n.size||"1em";return n.className&&(r=n.className),t.className&&(r=(r?r+" ":"")+t.className),e.createElement("svg",d({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,u,{className:r,style:d(d({color:t.color||n.color},n.style),t.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&e.createElement("title",null,o),t.children)};return void 0!==h?e.createElement(h.Consumer,null,(function(e){return n(e)})):n(f)}function g(e){return y({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"}}]})(e)}function b(e){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M18 8h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h2V7a6 6 0 1 1 12 0v1zM5 10v10h14V10H5zm6 4h2v2h-2v-2zm-4 0h2v2H7v-2zm8 0h2v2h-2v-2zm1-6V7a4 4 0 1 0-8 0v1h8z"}}]}]})(e)}function w(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function k(e){return!!e&&!!e[ce]}function _(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===fe}(e)||Array.isArray(e)||!!e[le]||!!e.constructor[le]||O(e)||A(e))}function E(e,t,n){void 0===n&&(n=!1),0===S(e)?(n?Object.keys:he)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function S(e){var t=e[ce];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:O(e)?2:A(e)?3:0}function x(e,t){return 2===S(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function C(e,t){return 2===S(e)?e.get(t):e[t]}function T(e,t,n){var r=S(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function I(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function O(e){return ae&&e instanceof Map}function A(e){return oe&&e instanceof Set}function N(e){return e.o||e.t}function P(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=de(e);delete t[ce];for(var n=he(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function D(e,t){return void 0===t&&(t=!1),L(e)||k(e)||!_(e)||(S(e)>1&&(e.set=e.add=e.clear=e.delete=R),Object.freeze(e),t&&E(e,(function(e,t){return D(t,!0)}),!0)),e}function R(){w(2)}function L(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function j(e){var t=pe[e];return t||w(18,e),t}function M(e,t){pe[e]||(pe[e]=t)}function F(){return re}function U(e,t){t&&(j("Patches"),e.u=[],e.s=[],e.v=t)}function V(e){B(e),e.p.forEach(K),e.p=null}function B(e){e===re&&(re=e.l)}function z(e){return re={p:[],l:re,h:e,m:!0,_:0}}function K(e){var t=e[ce];0===t.i||1===t.i?t.j():t.O=!0}function q(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||j("ES5").S(t,e,r),r?(n[ce].P&&(V(t),w(4)),_(e)&&(e=W(t,e),t.l||Q(t,e)),t.u&&j("Patches").M(n[ce].t,e,t.u,t.s)):e=W(t,n,[]),V(t),t.u&&t.v(t.u,t.s),e!==se?e:void 0}function W(e,t,n){if(L(t))return t;var r=t[ce];if(!r)return E(t,(function(i,a){return H(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return Q(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=P(r.k):r.o;E(3===r.i?new Set(i):i,(function(t,a){return H(e,r,i,t,a,n)})),Q(e,i,!1),n&&e.u&&j("Patches").R(r,n,e.u,e.s)}return r.o}function H(e,t,n,r,i,a){if(k(i)){var o=W(e,i,a&&t&&3!==t.i&&!x(t.D,r)?a.concat(r):void 0);if(T(n,r,o),!k(o))return;e.m=!1}if(_(i)&&!L(i)){if(!e.h.F&&e._<1)return;W(e,i),t&&t.A.l||Q(e,i)}}function Q(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&D(t,n)}function G(e,t){var n=e[ce];return(n?N(n):e)[t]}function $(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Y(e){e.P||(e.P=!0,e.l&&Y(e.l))}function X(e){e.o||(e.o=P(e.t))}function J(e,t,n){var r=O(t)?j("MapSet").N(t,n):A(t)?j("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:F(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=ve;n&&(i=[r],a=ye);var o=Proxy.revocable(i,a),u=o.revoke,s=o.proxy;return r.k=s,r.j=u,s}(t,n):j("ES5").J(t,n);return(n?n.A:F()).p.push(r),r}function Z(e){return k(e)||w(22,e),function e(t){if(!_(t))return t;var n,r=t[ce],i=S(t);if(r){if(!r.P&&(r.i<4||!j("ES5").K(r)))return r.t;r.I=!0,n=ee(t,i),r.I=!1}else n=ee(t,i);return E(n,(function(t,i){r&&C(r.t,t)===i||T(n,t,e(i))})),3===i?new Set(n):n}(e)}function ee(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return P(e)}function te(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[ce];return ve.get(t,e)},set:function(t){var n=this[ce];ve.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][ce];if(!i.P)switch(i.i){case 5:r(i)&&Y(i);break;case 4:n(i)&&Y(i)}}}function n(e){for(var t=e.t,n=e.k,r=he(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==ce){var o=t[a];if(void 0===o&&!x(t,a))return!0;var u=n[a],s=u&&u[ce];if(s?s.t!==o:!I(u,o))return!0}}var l=!!t[ce];return r.length!==he(t).length+(l?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};M("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=de(n);delete a[ce];for(var o=he(a),u=0;u<o.length;u++){var s=o[u];a[s]=e(s,t||!!a[s].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:F(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,ce,{value:a,writable:!0}),i},S:function(e,n,i){i?k(n)&&n[ce].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[ce];if(n){var i=n.t,a=n.k,o=n.D,u=n.i;if(4===u)E(a,(function(t){t!==ce&&(void 0!==i[t]||x(i,t)?o[t]||e(a[t]):(o[t]=!0,Y(n)))})),E(i,(function(e){void 0!==a[e]||x(a,e)||(o[e]=!1,Y(n))}));else if(5===u){if(r(n)&&(Y(n),o.length=!0),a.length<i.length)for(var s=a.length;s<i.length;s++)o[s]=!1;else for(var l=i.length;l<a.length;l++)o[l]=!0;for(var c=Math.min(a.length,i.length),f=0;f<c;f++)a.hasOwnProperty(f)||(o[f]=!0),void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var ne,re,ie="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),ae="undefined"!=typeof Map,oe="undefined"!=typeof Set,ue="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,se=ie?Symbol.for("immer-nothing"):((ne={})["immer-nothing"]=!0,ne),le=ie?Symbol.for("immer-draftable"):"__$immer_draftable",ce=ie?Symbol.for("immer-state"):"__$immer_state",fe=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),he="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,de=Object.getOwnPropertyDescriptors||function(e){var t={};return he(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},pe={},ve={get:function(e,t){if(t===ce)return e;var n=N(e);if(!x(n,t))return function(e,t,n){var r,i=$(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!_(r)?r:r===G(e.t,t)?(X(e),e.o[t]=J(e.A.h,r,e)):r},has:function(e,t){return t in N(e)},ownKeys:function(e){return Reflect.ownKeys(N(e))},set:function(e,t,n){var r=$(N(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=G(N(e),t),a=null==i?void 0:i[ce];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(I(n,i)&&(void 0!==n||x(e.t,t)))return!0;X(e),Y(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==G(e.t,t)||t in e.t?(e.D[t]=!1,X(e),Y(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=N(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){w(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){w(12)}},ye={};E(ve,(function(e,t){ye[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ye.deleteProperty=function(e,t){return ye.set.call(this,e,t,void 0)},ye.set=function(e,t,n){return ve.set.call(this,e[0],t,n,e[0])};var me=function(){function e(e){var t=this;this.g=ue,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&w(6),void 0!==r&&"function"!=typeof r&&w(7),_(e)){var u=z(t),s=J(t,e,void 0),l=!0;try{o=n(s),l=!1}finally{l?V(u):B(u)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return U(u,r),q(e,u)}),(function(e){throw V(u),e})):(U(u,r),q(o,u))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===se&&(o=void 0),t.F&&D(o,!0),r){var c=[],f=[];j("Patches").M(e,o,c,f),r(c,f)}return o}w(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){_(e)||w(8),k(e)&&(e=Z(e));var t=z(this),n=J(this,e,void 0);return n[ce].C=!0,B(t),n},t.finishDraft=function(e,t){var n=(e&&e[ce]).A;return U(n,t),q(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!ue&&w(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=j("Patches").$;return k(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),ge=new me,be=ge.produce,we=(ge.produceWithPatches.bind(ge),ge.setAutoFreeze.bind(ge),ge.setUseProxies.bind(ge),ge.applyPatches.bind(ge),ge.createDraft.bind(ge),ge.finishDraft.bind(ge),be);function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Se(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var xe="function"===typeof Symbol&&Symbol.observable||"@@observable",Ce=function(){return Math.random().toString(36).substring(7).split("").join(".")},Te={INIT:"@@redux/INIT"+Ce(),REPLACE:"@@redux/REPLACE"+Ce(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ce()}};function Ie(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Oe(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Se(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Se(1));return n(Oe)(e,t)}if("function"!==typeof e)throw new Error(Se(2));var i=e,a=t,o=[],u=o,s=!1;function l(){u===o&&(u=o.slice())}function c(){if(s)throw new Error(Se(3));return a}function f(e){if("function"!==typeof e)throw new Error(Se(4));if(s)throw new Error(Se(5));var t=!0;return l(),u.push(e),function(){if(t){if(s)throw new Error(Se(6));t=!1,l();var n=u.indexOf(e);u.splice(n,1),o=null}}}function h(e){if(!Ie(e))throw new Error(Se(7));if("undefined"===typeof e.type)throw new Error(Se(8));if(s)throw new Error(Se(9));try{s=!0,a=i(a,e)}finally{s=!1}for(var t=o=u,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(Se(10));i=e,h({type:Te.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Se(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[xe]=function(){return this},e}return h({type:Te.INIT}),(r={dispatch:h,subscribe:f,getState:c,replaceReducer:d})[xe]=p,r}function Ae(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Te.INIT}))throw new Error(Se(12));if("undefined"===typeof n(void 0,{type:Te.PROBE_UNKNOWN_ACTION()}))throw new Error(Se(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],l=n[s],c=e[s],f=l(c,t);if("undefined"===typeof f){t&&t.type;throw new Error(Se(14))}i[s]=f,r=r||f!==c}return(r=r||o.length!==Object.keys(e).length)?i:e}}function Ne(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Pe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Se(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=Ne.apply(void 0,a)(n.dispatch),Ee(Ee({},n),{},{dispatch:r})}}}function De(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var Re=De();Re.withExtraArgument=De;var Le=Re,je=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Me=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Fe=Object.defineProperty,Ue=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),Ve=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable,ze=function(e,t,n){return t in e?Fe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ke=function(e,t){for(var n in t||(t={}))Ve.call(t,n)&&ze(e,n,t[n]);if(Ue)for(var r=0,i=Ue(t);r<i.length;r++){n=i[r];Be.call(t,n)&&ze(e,n,t[n])}return e},qe="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Ne:Ne.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function We(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var He=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return je(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Me([void 0],e[0].concat(this)))):new(t.bind.apply(t,Me([void 0],e.concat(this))))},t}(Array);function Qe(e){return _(e)?we(e,(function(){})):e}function Ge(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new He);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(Le.withExtraArgument(n.extraArgument)):r.push(Le));0;return r}(e)}}function $e(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Ke(Ke({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function Ye(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}Object.assign;var Xe="listenerMiddleware";$e(Xe+"/add"),$e(Xe+"/removeAll"),$e(Xe+"/remove");te();var Je=n(248),Ze=n(327),et=n(164);var tt=function(e){e()},nt=function(){return tt},rt=(0,e.createContext)(null);function it(){return(0,e.useContext)(rt)}var at=function(){throw new Error("uSES not initialized!")},ot=at,ut=function(e,t){return e===t};function st(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,n=t===rt?it:function(){return(0,e.useContext)(t)};return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ut;var i=n(),a=i.store,o=i.subscription,u=i.getServerState,s=ot(o.addNestedSub,a.getState,u||a.getState,t,r);return(0,e.useDebugValue)(s),s}}var lt=st();n(110),n(900);var ct={notify:function(){},get:function(){return[]}};function ft(e,t){var n,r=ct;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=nt(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=ct)},getListeners:function(){return r}};return o}var ht=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?e.useLayoutEffect:e.useEffect;var dt=function(t){var n=t.store,r=t.context,i=t.children,a=t.serverState,o=(0,e.useMemo)((function(){var e=ft(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),u=(0,e.useMemo)((function(){return n.getState()}),[n]);ht((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,u]);var s=r||rt;return e.createElement(s.Provider,{value:o},i)};function pt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,n=t===rt?it:function(){return(0,e.useContext)(t)};return function(){return n().store}}var vt=pt();function yt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=e===rt?vt:pt(e);return function(){return t().dispatch}}var mt,gt,bt=yt();function wt(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){ot=e}(Ze.useSyncExternalStoreWithSelector),function(e){e}(Je.useSyncExternalStore),mt=et.unstable_batchedUpdates,tt=mt,function(e){e[e.offline=0]="offline",e[e.online=1]="online"}(gt||(gt={}));var kt=function(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:Qe(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},u={},s={};function l(){var t="function"===typeof e.extraReducers?Ye(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,s=t[2],l=void 0===s?void 0:s,c=Ke(Ke({},i),u);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?Ye(t):[t,n,r],o=a[0],u=a[1],s=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return Qe(e())};else{var l=Qe(e);i=function(){return l}}function c(e,t){void 0===e&&(e=i());var n=Me([o[t.type]],u.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[s]),n.reduce((function(e,n){if(n){var r;if(k(e))return void 0===(r=n(e,t))?e:r;if(_(e))return we(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return c.getInitialState=i,c}(r,c,o,l)}return a.forEach((function(e){var n,r,a=i[e],l=function(e,t){return e+"/"+t}(t,e);"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,u[l]=n,s[e]=r?$e(l,r):$e(l)})),{name:t,reducer:function(e,t){return n||(n=l()),n(e,t)},actions:s,caseReducers:o,getInitialState:function(){return n||(n=l()),n.getInitialState()}}}({name:"error",initialState:{errorListe:[],authentication:{isSignedIn:!1,username:void 0},isOffline:gt.online,colorScheme:"light"},reducers:{login:function(e,t){return t.payload.isSuccessfull&&t.payload.username?Ee(Ee({},e),{},{authentication:{isSignedIn:!0,username:t.payload.username}}):Ee(Ee({},e),{},{authentication:{isSignedIn:!1,username:void 0}})},setOfflineMode:function(e,t){return Ee(Ee({},e),{},{isOffline:t.payload.isOffline})},logout:function(e){return Ee(Ee({},e),{},{authentication:{isSignedIn:!1,username:void 0}})},changeColorScheme:function(e,t){return Ee(Ee({},e),{},{colorScheme:t.payload.colorScheme})},addError:function(e,t){var n=wt(e.errorListe),r=e.errorListe.length+1;return n.push({id:r,type:t.payload.type,title:t.payload.title,message:t.payload.message}),Ee(Ee({},e),{},{errorListe:n})},clearError:function(e,t){var n=wt(e.errorListe);return n.length<=1?Ee(Ee({},e),{},{errorListe:[]}):Ee(Ee({},e),{},{errorListe:n.slice(1,void 0)})}}}),_t=kt.actions,Et=_t.addError,St=_t.clearError,xt=(_t.changeColorScheme,_t.login),Ct=_t.logout,Tt=(_t.setOfflineMode,kt.reducer,function(e){var t,n=Ge(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,u=void 0===o?n():o,s=r.devTools,l=void 0===s||s,c=r.preloadedState,f=void 0===c?void 0:c,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!We(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Ae(a)}var p=u;"function"===typeof p&&(p=p(n));var v=Pe.apply(void 0,p),y=Ne;l&&(y=qe(Ke({trace:!1},"object"===typeof l&&l)));var m=[v];return Array.isArray(d)?m=Me([v],d):"function"===typeof d&&(m=d(m)),Oe(t,f,y.apply(void 0,m))}({reducer:kt.reducer})),It=bt;function Ot(e){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ot(e)}function At(){At=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(C){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new E(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return x()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=w(o,n);if(u){if(u===c)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===c)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=s;var c={};function f(){}function h(){}function d(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&n.call(y,i)&&(p=y);var m=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==Ot(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=d,u(m,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},g(b.prototype),u(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(m),u(m,o,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,c):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}function Nt(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(l){return void n(l)}u.done?t(s):Promise.resolve(s).then(r,i)}function Pt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Nt(a,r,i,o,u,"next",e)}function u(e){Nt(a,r,i,o,u,"throw",e)}o(void 0)}))}}function Dt(e,t){return Dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dt(e,t)}function Rt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Lt(e,t,n){return Lt=Rt()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Dt(i,n.prototype),i},Lt.apply(null,arguments)}function jt(e){return jt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jt(e)}function Mt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=jt(e)););return e}function Ft(){return Ft="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Mt(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Ft.apply(this,arguments)}function Ut(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}function Vt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dt(e,t)}function Bt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zt(e,t){if(t&&("object"===Ot(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Bt(e)}function Kt(e){var t=Rt();return function(){var n,r=jt(e);if(t){var i=jt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return zt(this,n)}}function qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ht(e,t,n){return t&&Wt(e.prototype,t),n&&Wt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qt(e){var t="function"===typeof Map?new Map:void 0;return Qt=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Lt(e,arguments,jt(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Dt(n,e)},Qt(e)}var Gt=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},$t={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|l>>6,d=63&l;s||(d=64,o||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Gt(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var l=a<<2|o>>4;if(r.push(l),64!==u){var c=o<<4&240|u>>2;if(r.push(c),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Yt=function(e){return function(e){var t=Gt(e);return $t.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Xt=function(e){try{return $t.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var Jt=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Zt=function(){return Jt()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/pwa-rauchmelder",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/),t=e&&Xt(e[1]);return t&&JSON.parse(t)}}()},en=function(e){var t=function(e){var t,n;return null===(n=null===(t=Zt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},tn=function(){var e;return null===(e=Zt())||void 0===e?void 0:e.config},nn=function(){function e(){var t=this;qt(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Ht(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function rn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Yt(JSON.stringify({alg:"none",type:"JWT"})),Yt(JSON.stringify(a)),""].join(".")}var an=function(e){Vt(n,e);var t=Kt(n);function n(e,r,i){var a;return qt(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Bt(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Bt(a),on.prototype.create),a}return Ht(n)}(Qt(Error)),on=function(){function e(t,n,r){qt(this,e),this.service=t,this.serviceName=n,this.errors=r}return Ht(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?un(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new an(n,a,t);return o}}]),e}();function un(e,t){return e.replace(sn,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var sn=/\{\$([^}]+)}/g;function ln(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(cn(u)&&cn(s)){if(!ln(u,s))return!1}else if(u!==s)return!1}for(var l=0,c=r;l<c.length;l++){var f=c[l];if(!n.includes(f))return!1}return!0}function cn(e){return null!==e&&"object"===typeof e}function fn(e){return e&&e._delegate?e._delegate:e}var hn=function(){function e(t,n,r){qt(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Ht(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),dn="[DEFAULT]",pn=function(){function e(t,n){qt(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Ht(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new nn;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:dn})}catch(l){}var t,n=Ut(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=o(t.value,2),i=r[0],a=r[1],u=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:u});a.resolve(s)}catch(l){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Pt(At().mark((function e(){var t;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(wt(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),wt(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),u=Ut(this.instancesDeferred.entries());try{for(u.s();!(i=u.n()).done;){var s=o(i.value,2),l=s[0],c=s[1],f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(a)}}catch(h){u.e(h)}finally{u.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Ut(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Cp){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===dn?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Cp){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn;return this.component?this.component.multipleInstances?e:dn:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var vn,yn,mn=function(){function e(t){qt(this,e),this.name=t,this.providers=new Map}return Ht(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new pn(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),gn=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(yn||(yn={}));var bn={debug:yn.DEBUG,verbose:yn.VERBOSE,info:yn.INFO,warn:yn.WARN,error:yn.ERROR,silent:yn.SILENT},wn=yn.INFO,kn=(ke(vn={},yn.DEBUG,"log"),ke(vn,yn.VERBOSE,"log"),ke(vn,yn.INFO,"info"),ke(vn,yn.WARN,"warn"),ke(vn,yn.ERROR,"error"),vn),_n=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=kn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},En=function(){function e(t){qt(this,e),this.name=t,this._logLevel=wn,this._logHandler=_n,this._userLogHandler=null,gn.push(this)}return Ht(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in yn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?bn[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yn.DEBUG].concat(t)),this._logHandler.apply(this,[this,yn.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yn.VERBOSE].concat(t)),this._logHandler.apply(this,[this,yn.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yn.INFO].concat(t)),this._logHandler.apply(this,[this,yn.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yn.WARN].concat(t)),this._logHandler.apply(this,[this,yn.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yn.ERROR].concat(t)),this._logHandler.apply(this,[this,yn.ERROR].concat(t))}}]),e}();var Sn,xn;var Cn=new WeakMap,Tn=new WeakMap,In=new WeakMap,On=new WeakMap,An=new WeakMap;var Nn={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Tn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||In.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rn(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Pn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(xn||(xn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ln(this),n),Rn(Cn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Rn(e.apply(Ln(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Ln(this),t].concat(r));return In.set(a,t.sort?t.sort():[t]),Rn(a)}}function Dn(e){return"function"===typeof e?Pn(e):(e instanceof IDBTransaction&&function(e){if(!Tn.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Tn.set(e,t)}}(e),t=e,(Sn||(Sn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Nn):e);var t}function Rn(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Rn(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Cn.set(t,e)})).catch((function(){})),An.set(t,e),t}(e);if(On.has(e))return On.get(e);var t=Dn(e);return t!==e&&(On.set(e,t),An.set(t,e)),t}var Ln=function(e){return An.get(e)};var jn,Mn,Fn=["get","getKey","getAll","getAllKeys","count"],Un=["put","add","delete","clear"],Vn=new Map;function Bn(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Vn.get(t))return Vn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Un.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Fn.includes(n))){var a=function(){var e=Pt(At().mark((function e(t){var a,o,u,s,l,c,f=arguments;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=f[c];return r&&(u=u.index(l.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Vn.set(t,a),a}}}Nn=function(e){return Ee(Ee({},e),{},{get:function(t,n,r){return Bn(t,n)||e.get(t,n,r)},has:function(t,n){return!!Bn(t,n)||e.has(t,n)}})}(Nn);var zn=function(){function e(t){qt(this,e),this.container=t}return Ht(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Kn="@firebase/app",qn="0.8.1",Wn=new En("@firebase/app"),Hn="[DEFAULT]",Qn=(ke(jn={},Kn,"fire-core"),ke(jn,"@firebase/app-compat","fire-core-compat"),ke(jn,"@firebase/analytics","fire-analytics"),ke(jn,"@firebase/analytics-compat","fire-analytics-compat"),ke(jn,"@firebase/app-check","fire-app-check"),ke(jn,"@firebase/app-check-compat","fire-app-check-compat"),ke(jn,"@firebase/auth","fire-auth"),ke(jn,"@firebase/auth-compat","fire-auth-compat"),ke(jn,"@firebase/database","fire-rtdb"),ke(jn,"@firebase/database-compat","fire-rtdb-compat"),ke(jn,"@firebase/functions","fire-fn"),ke(jn,"@firebase/functions-compat","fire-fn-compat"),ke(jn,"@firebase/installations","fire-iid"),ke(jn,"@firebase/installations-compat","fire-iid-compat"),ke(jn,"@firebase/messaging","fire-fcm"),ke(jn,"@firebase/messaging-compat","fire-fcm-compat"),ke(jn,"@firebase/performance","fire-perf"),ke(jn,"@firebase/performance-compat","fire-perf-compat"),ke(jn,"@firebase/remote-config","fire-rc"),ke(jn,"@firebase/remote-config-compat","fire-rc-compat"),ke(jn,"@firebase/storage","fire-gcs"),ke(jn,"@firebase/storage-compat","fire-gcs-compat"),ke(jn,"@firebase/firestore","fire-fst"),ke(jn,"@firebase/firestore-compat","fire-fst-compat"),ke(jn,"fire-js","fire-js"),ke(jn,"firebase","fire-js-all"),jn),Gn=new Map,$n=new Map;function Yn(e,t){try{e.container.addComponent(t)}catch(n){Wn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Xn(e){var t=e.name;if($n.has(t))return Wn.debug("There were multiple attempts to register component ".concat(t,".")),!1;$n.set(t,e);var n,r=Ut(Gn.values());try{for(r.s();!(n=r.n()).done;){Yn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Jn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var Zn=(ke(Mn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ke(Mn,"bad-app-name","Illegal App name: '{$appName}"),ke(Mn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ke(Mn,"app-deleted","Firebase App named '{$appName}' already deleted"),ke(Mn,"no-options","Need to provide options, when not being deployed to hosting via source."),ke(Mn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ke(Mn,"invalid-log-argument","First argument to `onLog` must be null or a function."),ke(Mn,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),ke(Mn,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),ke(Mn,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),ke(Mn,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Mn),er=new on("app","Firebase",Zn),tr=function(){function e(t,n,r){var i=this;qt(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hn("app",(function(){return i}),"PUBLIC"))}return Ht(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}]),e}();function nr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:Hn,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw er.create("bad-app-name",{appName:String(a)});if(n||(n=tn()),!n)throw er.create("no-options");var o=Gn.get(a);if(o){if(ln(n,o.options)&&ln(i,o.config))return o;throw er.create("duplicate-app",{appName:a})}var u,s=new mn(a),l=Ut($n.values());try{for(l.s();!(u=l.n()).done;){var c=u.value;s.addComponent(c)}}catch(h){l.e(h)}finally{l.f()}var f=new tr(n,i,s);return Gn.set(a,f),f}function rr(e,t,n){var r,i=null!==(r=Qn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Wn.warn(u.join(" "))}Xn(new hn("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var ir="firebase-heartbeat-store",ar=null;function or(){return ar||(ar=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Rn(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Rn(u.result),e.oldVersion,e.newVersion,Rn(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(ir)}}).catch((function(e){throw er.create("idb-open",{originalErrorMessage:e.message})}))),ar}function ur(e){return sr.apply(this,arguments)}function sr(){return sr=Pt(At().mark((function e(t){var n,r,i;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,or();case 3:return r=e.sent,e.abrupt("return",r.transaction(ir).objectStore(ir).get(fr(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof an?Wn.warn(e.t0.message):(i=er.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),Wn.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),sr.apply(this,arguments)}function lr(e,t){return cr.apply(this,arguments)}function cr(){return cr=Pt(At().mark((function e(t,n){var r,i,a,o,u;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,or();case 3:return i=e.sent,a=i.transaction(ir,"readwrite"),o=a.objectStore(ir),e.next=8,o.put(n,fr(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof an?Wn.warn(e.t0.message):(u=er.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),Wn.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),cr.apply(this,arguments)}function fr(e){return"".concat(e.name,"!").concat(e.options.appId)}var hr=function(){function e(t){var n=this;qt(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new yr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Ht(e,[{key:"triggerHeartbeat",value:function(){var e=Pt(At().mark((function e(){var t,n,r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=dr(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Pt(At().mark((function e(){var t,n,r,i,a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=dr(),n=pr(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Yt(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function dr(){return(new Date).toISOString().substring(0,10)}function pr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Ut(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),mr(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),mr(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var vr,yr=function(){function e(t){qt(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Ht(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Pt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===typeof indexedDB){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Pt(At().mark((function e(){var t;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,ur(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Pt(At().mark((function e(t){var n,r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",lr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Pt(At().mark((function e(t){var n,r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",lr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(wt(r.heartbeats),wt(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function mr(e){return Yt(JSON.stringify({version:2,heartbeats:e})).length}vr="",Xn(new hn("platform-logger",(function(e){return new zn(e)}),"PRIVATE")),Xn(new hn("heartbeat",(function(e){return new hr(e)}),"PRIVATE")),rr(Kn,qn,vr),rr(Kn,qn,"esm2017"),rr("fire-js","");var gr,br="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},wr={},kr=kr||{},_r=br||self;function Er(){}function Sr(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function xr(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Cr="closure_uid_"+(1e9*Math.random()>>>0),Tr=0;function Ir(e,t,n){return e.call.apply(e.bind,arguments)}function Or(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ar(e,t,n){return(Ar=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ir:Or).apply(null,arguments)}function Nr(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Pr(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Dr(){this.s=this.s,this.o=this.o}var Rr={};Dr.prototype.s=!1,Dr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Cr)&&e[Cr]||(e[Cr]=++Tr)}(this);delete Rr[e]}},Dr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Lr=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function jr(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Mr(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Sr(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Fr(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Fr.prototype.h=function(){this.defaultPrevented=!0};var Ur=function(){if(!_r.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{_r.addEventListener("test",Er,t),_r.removeEventListener("test",Er,t)}catch(I){}return e}();function Vr(e){return/^[\s\xa0]*$/.test(e)}var Br=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function zr(e,t){return e<t?-1:e>t?1:0}function Kr(){var e=_r.navigator;return e&&(e=e.userAgent)?e:""}function qr(e){return-1!=Kr().indexOf(e)}function Wr(e){return Wr[" "](e),e}Wr[" "]=Er;var Hr,Qr=qr("Opera"),Gr=qr("Trident")||qr("MSIE"),$r=qr("Edge"),Yr=$r||Gr,Xr=qr("Gecko")&&!(-1!=Kr().toLowerCase().indexOf("webkit")&&!qr("Edge"))&&!(qr("Trident")||qr("MSIE"))&&!qr("Edge"),Jr=-1!=Kr().toLowerCase().indexOf("webkit")&&!qr("Edge");function Zr(){var e=_r.document;return e?e.documentMode:void 0}e:{var ei="",ti=function(){var e=Kr();return Xr?/rv:([^\);]+)(\)|;)/.exec(e):$r?/Edge\/([\d\.]+)/.exec(e):Gr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Jr?/WebKit\/(\S+)/.exec(e):Qr?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ti&&(ei=ti?ti[1]:""),Gr){var ni=Zr();if(null!=ni&&ni>parseFloat(ei)){Hr=String(ni);break e}}Hr=ei}var ri,ii={};function ai(){return function(e){var t=ii;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Br(String(Hr)).split("."),n=Br("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=zr(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||zr(0==a[2].length,0==o[2].length)||zr(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(_r.document&&Gr){var oi=Zr();ri=oi||(parseInt(Hr,10)||void 0)}else ri=void 0;var ui=ri;function si(e,t){if(Fr.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Xr){e:{try{Wr(t.nodeName);var i=!0;break e}catch(T){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:li[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&si.X.h.call(this)}}Pr(si,Fr);var li={2:"touch",3:"pen",4:"mouse"};si.prototype.h=function(){si.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ci="closure_listenable_"+(1e6*Math.random()|0),fi=0;function hi(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++fi,this.ba=this.ea=!1}function di(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function pi(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function vi(e){var t={};for(var n in e)t[n]=e[n];return t}var yi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mi(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<yi.length;a++)n=yi[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function gi(e){this.src=e,this.g={},this.h=0}function bi(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Lr(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(di(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function wi(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}gi.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=wi(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new hi(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var ki="closure_lm_"+(1e6*Math.random()|0),_i={};function Ei(e,t,n,r,i){if(r&&r.once)return xi(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ei(e,t[a],n,r,i);return null}return n=Pi(n),e&&e[ci]?e.N(t,n,xr(r)?!!r.capture:!!r,i):Si(e,t,n,!1,r,i)}function Si(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=xr(i)?!!i.capture:!!i,u=Ai(e);if(u||(e[ki]=u=new gi(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Oi;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ur||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ii(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function xi(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)xi(e,t[a],n,r,i);return null}return n=Pi(n),e&&e[ci]?e.O(t,n,xr(r)?!!r.capture:!!r,i):Si(e,t,n,!0,r,i)}function Ci(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Ci(e,t[a],n,r,i);else r=xr(r)?!!r.capture:!!r,n=Pi(n),e&&e[ci]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=wi(a=e.g[t],n,r,i))&&(di(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ai(e))&&(t=e.g[t.toString()],e=-1,t&&(e=wi(t,n,r,i)),(n=-1<e?t[e]:null)&&Ti(n))}function Ti(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[ci])bi(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ii(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ai(t))?(bi(n,e),0==n.h&&(n.src=null,t[ki]=null)):di(e)}}}function Ii(e){return e in _i?_i[e]:_i[e]="on"+e}function Oi(e,t){if(e.ba)e=!0;else{t=new si(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Ti(e),e=n.call(r,t)}return e}function Ai(e){return(e=e[ki])instanceof gi?e:null}var Ni="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pi(e){return"function"===typeof e?e:(e[Ni]||(e[Ni]=function(t){return e.handleEvent(t)}),e[Ni])}function Di(){Dr.call(this),this.i=new gi(this),this.P=this,this.I=null}function Ri(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Fr(t,e);else if(t instanceof Fr)t.target=t.target||e;else{var i=t;mi(t=new Fr(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Li(o,r,!0,t)&&i}if(i=Li(o=t.g=e,r,!0,t)&&i,i=Li(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Li(o=t.g=n[a],r,!1,t)&&i}function Li(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&bi(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Pr(Di,Dr),Di.prototype[ci]=!0,Di.prototype.removeEventListener=function(e,t,n,r){Ci(this,e,t,n,r)},Di.prototype.M=function(){if(Di.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)di(n[r]);delete t.g[e],t.h--}}this.I=null},Di.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Di.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ji=_r.JSON.stringify;function Mi(){var e=Wi,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Fi,Ui=function(){function e(){qt(this,e),this.h=this.g=null}return Ht(e,[{key:"add",value:function(e,t){var n=Vi.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Vi=new(function(){function e(t,n){qt(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Ht(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Bi}),(function(e){return e.reset()})),Bi=function(){function e(){qt(this,e),this.next=this.g=this.h=null}return Ht(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function zi(e){_r.setTimeout((function(){throw e}),0)}function Ki(e,t){Fi||function(){var e=_r.Promise.resolve(void 0);Fi=function(){e.then(Hi)}}(),qi||(Fi(),qi=!0),Wi.add(e,t)}var qi=!1,Wi=new Ui;function Hi(){for(var e;e=Mi();){try{e.h.call(e.g)}catch(I){zi(I)}var t=Vi;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}qi=!1}function Qi(e,t){Di.call(this),this.h=e||1,this.g=t||_r,this.j=Ar(this.lb,this),this.l=Date.now()}function Gi(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function $i(e,t,n){if("function"===typeof e)n&&(e=Ar(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ar(e.handleEvent,e)}return 2147483647<Number(t)?-1:_r.setTimeout(e,t||0)}function Yi(e){e.g=$i((function(){e.g=null,e.i&&(e.i=!1,Yi(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Pr(Qi,Di),(gr=Qi.prototype).ca=!1,gr.R=null,gr.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ri(this,"tick"),this.ca&&(Gi(this),this.start()))}},gr.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},gr.M=function(){Qi.X.M.call(this),Gi(this),delete this.g};var Xi=function(e){Vt(n,e);var t=Kt(n);function n(e,r){var i;return qt(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Ht(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Yi(this)}},{key:"M",value:function(){Ft(jt(n.prototype),"M",this).call(this),this.g&&(_r.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Dr);function Ji(e){Dr.call(this),this.h=e,this.g={}}Pr(Ji,Dr);var Zi=[];function ea(e,t,n,r){Array.isArray(n)||(n&&(Zi[0]=n.toString()),n=Zi);for(var i=0;i<n.length;i++){var a=Ei(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function ta(e){pi(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ti(e)}),e),e.g={}}function na(){this.g=!0}function ra(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return ji(n)}catch(w){return t}}(e,n)+(r?" "+r:"")}))}Ji.prototype.M=function(){Ji.X.M.call(this),ta(this)},Ji.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},na.prototype.Aa=function(){this.g=!1},na.prototype.info=function(){};var ia={},aa=null;function oa(){return aa=aa||new Di}function ua(e){Fr.call(this,ia.Pa,e)}function sa(e){var t=oa();Ri(t,new ua(t,e))}function la(e,t){Fr.call(this,ia.STAT_EVENT,e),this.stat=t}function ca(e){var t=oa();Ri(t,new la(t,e))}function fa(e,t){Fr.call(this,ia.Qa,e),this.size=t}function ha(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return _r.setTimeout((function(){e()}),t)}ia.Pa="serverreachability",Pr(ua,Fr),ia.STAT_EVENT="statevent",Pr(la,Fr),ia.Qa="timingevent",Pr(fa,Fr);var da={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},pa={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function va(){}function ya(e){return e.h||(e.h=e.i())}function ma(){}va.prototype.h=null;var ga,ba={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function wa(){Fr.call(this,"d")}function ka(){Fr.call(this,"c")}function _a(){}function Ea(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Ji(this),this.O=xa,e=Yr?125:void 0,this.T=new Qi(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Sa}function Sa(){this.i=null,this.g="",this.h=!1}Pr(wa,Fr),Pr(ka,Fr),Pr(_a,va),_a.prototype.g=function(){return new XMLHttpRequest},_a.prototype.i=function(){return{}},ga=new _a;var xa=45e3,Ca={},Ta={};function Ia(e,t,n){e.K=1,e.v=Qa(za(t)),e.s=n,e.P=!0,Oa(e,null)}function Oa(e,t){e.F=Date.now(),Da(e),e.A=za(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),oo(n.i,"t",r),e.C=0,n=e.l.H,e.h=new Sa,e.g=uu(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Xi(Ar(e.La,e,e.g),e.N)),ea(e.S,e.g,"readystatechange",e.ib),t=e.H?vi(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),sa(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var l=u[s].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&"type"==f[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Aa(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Na(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Pa(e,n))==Ta){4==t&&(e.o=4,ca(14),i=!1),ra(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ca){e.o=4,ca(15),ra(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ra(e.j,e.m,r,null),Fa(e,r)}Aa(e)&&r!=Ta&&r!=Ca&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ca(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zo(t),t.K=!0,ca(11))):(ra(e.j,e.m,n,"[Invalid Chunked Response]"),Ma(e),ja(e))}function Pa(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ta:(n=Number(t.substring(n,r)),isNaN(n)?Ca:(r+=1)+n>t.length?Ta:(t=t.substr(r,n),e.C=r+n,t))}function Da(e){e.V=Date.now()+e.O,Ra(e,e.O)}function Ra(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ha(Ar(e.gb,e),t)}function La(e){e.B&&(_r.clearTimeout(e.B),e.B=null)}function ja(e){0==e.l.G||e.I||nu(e.l,e)}function Ma(e){La(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Gi(e.T),ta(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Fa(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||po(n.h,e)))if(!e.J&&po(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;tu(n),Wo(n)}Jo(n),ca(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=ha(Ar(n.cb,n),6e3));if(1>=ho(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else iu(n,11)}else if((e.J||n.g==e)&&tu(n),!Vr(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=r.h;f.g||-1==c.indexOf("spdy")&&-1==c.indexOf("quic")&&-1==c.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(vo(f,f.h),f.h=null))}if(r.D){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Ha(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=ou(r,r.H?r.ka:null,r.V),d.J){yo(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(La(p),Da(p)),r.g=d}else Xo(r);0<n.i.length&&Qo(n)}else"stop"!=a[0]&&"close"!=a[0]||iu(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?iu(n,7):qo(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}sa(4)}catch(a){}}function Ua(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Sr(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Sr(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Sr(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(gr=Ea.prototype).setTimeout=function(e){this.O=e},gr.ib=function(e){e=e.target;var t=this.L;t&&3==Fo(e)?t.l():this.La(e)},gr.La=function(e){try{if(e==this.g)e:{var t=Fo(this.g),n=this.g.Ea(),r=this.g.aa();if(!(3>t)&&(3!=t||Yr||this.g&&(this.h.h||this.g.fa()||Uo(this.g)))){this.I||4!=t||7==n||sa(8==n||0>=r?3:2),La(this);var i=this.g.aa();this.Y=i;t:if(Aa(this)){var a=Uo(this.g);e="";var o=a.length,u=4==Fo(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ma(this),ja(this);var s="";break t}this.h.i=new _r.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,i),this.i){if(this.Z&&!this.J){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vr(l)){var f=l;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,ca(12),Ma(this),ja(this);break e}ra(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Fa(this,i)}this.P?(Na(this,t,s),Yr&&this.i&&3==t&&(ea(this.S,this.T,"tick",this.hb),this.T.start())):(ra(this.j,this.m,s,null),Fa(this,s)),4==t&&Ma(this),this.i&&!this.I&&(4==t?nu(this.l,this):(this.i=!1,Da(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,ca(12)):(this.o=0,ca(13)),Ma(this),ja(this)}}}catch(t){}},gr.hb=function(){if(this.g){var e=Fo(this.g),t=this.g.fa();this.C<t.length&&(La(this),Na(this,e,t),this.i&&4!=e&&Da(this))}},gr.cancel=function(){this.I=!0,Ma(this)},gr.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(sa(3),ca(17)),Ma(this),this.o=2,ja(this)):Ra(this,this.V-e)};var Va=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ba(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ba){this.h=void 0!==t?t:e.h,Ka(this,e.j),this.s=e.s,this.g=e.g,qa(this,e.m),this.l=e.l,t=e.i;var n=new no;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Wa(this,n),this.o=e.o}else e&&(n=String(e).match(Va))?(this.h=!!t,Ka(this,n[1]||"",!0),this.s=Ga(n[2]||""),this.g=Ga(n[3]||"",!0),qa(this,n[4]),this.l=Ga(n[5]||"",!0),Wa(this,n[6]||"",!0),this.o=Ga(n[7]||"")):(this.h=!!t,this.i=new no(null,this.h))}function za(e){return new Ba(e)}function Ka(e,t,n){e.j=n?Ga(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function qa(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Wa(e,t,n){t instanceof no?(e.i=t,function(e,t){t&&!e.j&&(ro(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(io(this,t),oo(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=$a(t,eo)),e.i=new no(t,e.h))}function Ha(e,t,n){e.i.set(t,n)}function Qa(e){return Ha(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ga(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function $a(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ya),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ya(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ba.prototype.toString=function(){var e=[],t=this.j;t&&e.push($a(t,Xa,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push($a(t,Xa,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push($a(n,"/"==n.charAt(0)?Za:Ja,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",$a(n,to)),e.join("")};var Xa=/[#\/\?@]/g,Ja=/[#\?:]/g,Za=/[#\?]/g,eo=/[#\?@]/g,to=/#/g;function no(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ro(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function io(e,t){ro(e),t=uo(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function ao(e,t){return ro(e),t=uo(e,t),e.g.has(t)}function oo(e,t,n){io(e,t),0<n.length&&(e.i=null,e.g.set(uo(e,t),jr(n)),e.h+=n.length)}function uo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(gr=no.prototype).add=function(e,t){ro(this),this.i=null,e=uo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},gr.forEach=function(e,t){ro(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},gr.oa=function(){ro(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},gr.W=function(e){ro(this);var t=[];if("string"===typeof e)ao(this,e)&&(t=t.concat(this.g.get(uo(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},gr.set=function(e,t){return ro(this),this.i=null,ao(this,e=uo(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},gr.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},gr.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var so=Ht((function e(t,n){qt(this,e),this.h=t,this.g=n}));function lo(e){this.l=e||co,_r.PerformanceNavigationTiming?e=0<(e=_r.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(_r.g&&_r.g.Ga&&_r.g.Ga()&&_r.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var co=10;function fo(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ho(e){return e.h?1:e.g?e.g.size:0}function po(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function vo(e,t){e.g?e.g.add(t):e.h=t}function yo(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function mo(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Ut(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return jr(e.i)}function go(){}function bo(){this.g=new go}function wo(e,t,n){var r=n||"";try{Ua(e,(function(e,n){var i=e;xr(e)&&(i=ji(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ko(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(T){}}function _o(e){this.l=e.ac||null,this.j=e.jb||!1}function Eo(e,t){Di.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=So,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}lo.prototype.cancel=function(){if(this.i=mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Ut(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},go.prototype.stringify=function(e){return _r.JSON.stringify(e,void 0)},go.prototype.parse=function(e){return _r.JSON.parse(e,void 0)},Pr(_o,va),_o.prototype.g=function(){return new Eo(this.l,this.j)},_o.prototype.i=function(e){return function(){return e}}({}),Pr(Eo,Di);var So=0;function xo(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function Co(e){e.readyState=4,e.l=null,e.j=null,e.A=null,To(e)}function To(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(gr=Eo.prototype).open=function(e,t){if(this.readyState!=So)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,To(this)},gr.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||_r).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},gr.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Co(this)),this.readyState=So},gr.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,To(this)),this.g&&(this.readyState=3,To(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof _r.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xo(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},gr.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Co(this):To(this),3==this.readyState&&xo(this)}},gr.Va=function(e){this.g&&(this.response=this.responseText=e,Co(this))},gr.Ua=function(e){this.g&&(this.response=e,Co(this))},gr.ga=function(){this.g&&Co(this)},gr.setRequestHeader=function(e,t){this.v.append(e,t)},gr.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},gr.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Eo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Io=_r.JSON.parse;function Oo(e){Di.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ao,this.K=this.L=!1}Pr(Oo,Di);var Ao="",No=/^https?$/i,Po=["POST","PUT"];function Do(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ro(e),jo(e)}function Ro(e){e.D||(e.D=!0,Ri(e,"complete"),Ri(e,"error"))}function Lo(e){if(e.h&&"undefined"!=typeof kr&&(!e.C[1]||4!=Fo(e)||2!=e.aa()))if(e.v&&4==Fo(e))$i(e.Ha,0,e);else if(Ri(e,"readystatechange"),4==Fo(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Va)[1]||null;if(!a&&_r.self&&_r.self.location){var o=_r.self.location.protocol;a=o.substr(0,o.length-1)}i=!No.test(a?a.toLowerCase():"")}t=i}if(t)Ri(e,"complete"),Ri(e,"success");else{e.m=6;try{var u=2<Fo(e)?e.g.statusText:""}catch(x){u=""}e.j=u+" ["+e.aa()+"]",Ro(e)}}finally{jo(e)}}}function jo(e,t){if(e.g){Mo(e);var n=e.g,r=e.C[0]?Er:null;e.g=null,e.C=null,t||Ri(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Mo(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(_r.clearTimeout(e.A),e.A=null)}function Fo(e){return e.g?e.g.readyState:0}function Uo(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ao:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(j){return null}}function Vo(e){var t="";return pi(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Bo(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Vo(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ha(e,t,n))}function zo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ko(e){this.Ca=0,this.i=[],this.j=new na,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=zo("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=zo("baseRetryDelayMs",5e3,e),this.bb=zo("retryDelaySeedMs",1e4,e),this.$a=zo("forwardChannelMaxRetries",2,e),this.ta=zo("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new lo(e&&e.concurrentRequestLimit),this.Fa=new bo,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function qo(e){if(Ho(e),3==e.G){var t=e.U++,n=za(e.F);Ha(n,"SID",e.I),Ha(n,"RID",t),Ha(n,"TYPE","terminate"),$o(e,n),(t=new Ea(e,e.j,t,void 0)).K=2,t.v=Qa(za(n)),n=!1,_r.navigator&&_r.navigator.sendBeacon&&(n=_r.navigator.sendBeacon(t.v.toString(),"")),!n&&_r.Image&&((new Image).src=t.v,n=!0),n||(t.g=uu(t.l,null),t.g.da(t.v)),t.F=Date.now(),Da(t)}au(e)}function Wo(e){e.g&&(Zo(e),e.g.cancel(),e.g=null)}function Ho(e){Wo(e),e.u&&(_r.clearTimeout(e.u),e.u=null),tu(e),e.h.cancel(),e.m&&("number"===typeof e.m&&_r.clearTimeout(e.m),e.m=null)}function Qo(e){fo(e.h)||e.m||(e.m=!0,Ki(e.Ja,e),e.C=0)}function Go(e,t){var n;n=t?t.m:e.U++;var r=za(e.F);Ha(r,"SID",e.I),Ha(r,"RID",n),Ha(r,"AID",e.T),$o(e,r),e.o&&e.s&&Bo(r,e.o,e.s),n=new Ea(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Yo(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),vo(e.h,n),Ia(n,r,t)}function $o(e,t){e.ia&&pi(e.ia,(function(e,n){Ha(t,n,e)})),e.l&&Ua({},(function(e,n){Ha(t,n,e)}))}function Yo(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Ar(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var l=i[s].h,c=i[s].g;if(0>(l-=a))a=Math.max(0,i[s].h-100),u=!1;else try{wo(c,o,"req"+l+"_")}catch(ee){r&&r(c)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Xo(e){e.g||e.u||(e.Z=1,Ki(e.Ia,e),e.A=0)}function Jo(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=ha(Ar(e.Ia,e),ru(e,e.A)),e.A++,!0)}function Zo(e){null!=e.B&&(_r.clearTimeout(e.B),e.B=null)}function eu(e){e.g=new Ea(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=za(e.sa);Ha(t,"RID","rpc"),Ha(t,"SID",e.I),Ha(t,"CI",e.L?"0":"1"),Ha(t,"AID",e.T),Ha(t,"TYPE","xmlhttp"),$o(e,t),e.o&&e.s&&Bo(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Qa(za(t)),n.s=null,n.P=!0,Oa(n,e)}function tu(e){null!=e.v&&(_r.clearTimeout(e.v),e.v=null)}function nu(e,t){var n=null;if(e.g==t){tu(e),Zo(e),e.g=null;var r=2}else{if(!po(e.h,t))return;n=t.D,yo(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ri(r=oa(),new fa(r,n,t,i)),Qo(e)}else Xo(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(ho(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=ha(Ar(e.Ja,e,t),ru(e,e.C)),e.C++,!0))}(e,t)||2==r&&Jo(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:iu(e,5);break;case 4:iu(e,10);break;case 3:iu(e,6);break;default:iu(e,2)}}function ru(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function iu(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Ar(e.kb,e);n||(n=new Ba("//www.google.com/images/cleardot.gif"),_r.location&&"http"==_r.location.protocol||Ka(n,"https"),Qa(n)),function(e,t){var n=new na;if(_r.Image){var r=new Image;r.onload=Nr(ko,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Nr(ko,n,r,"TestLoadImage: error",!1,t),r.onabort=Nr(ko,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Nr(ko,n,r,"TestLoadImage: timeout",!1,t),_r.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ca(2);e.G=0,e.l&&e.l.va(t),au(e),Ho(e)}function au(e){if(e.G=0,e.la=[],e.l){var t=mo(e.h);0==t.length&&0==e.i.length||(Mr(e.la,t),Mr(e.la,e.i),e.h.i.length=0,jr(e.i),e.i.length=0),e.l.ua()}}function ou(e,t,n){var r=n instanceof Ba?za(n):new Ba(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),qa(r,r.m);else{var i=_r.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Ba(null,void 0);r&&Ka(a,r),t&&(a.g=t),i&&qa(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Ha(r,n,t),Ha(r,"VER",e.ma),$o(e,r),r}function uu(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new Oo(new _o({jb:!0})):new Oo(e.ra)).Ka(e.H),t}function su(){}function lu(){if(Gr&&!(10<=Number(ui)))throw Error("Environmental error: no available transport.")}function cu(e,t){Di.call(this),this.g=new Ko(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Vr(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Vr(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new du(this)}function fu(e){wa.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function hu(){ka.call(this),this.status=1}function du(e){this.g=e}(gr=Oo.prototype).Ka=function(e){this.L=e},gr.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ga.g(),this.C=this.u?ya(this.u):ya(ga),this.g.onreadystatechange=Ar(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Do(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,u=Ut(r.keys());try{for(u.s();!(a=u.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){u.e(p)}finally{u.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=_r.FormData&&e instanceof _r.FormData,!(0<=Lr(Po,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var l,c=Ut(n);try{for(c.s();!(l=c.n()).done;){var f=o(l.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){c.e(p)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Mo(this),0<this.B&&((this.K=function(e){return Gr&&ai()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ar(this.qa,this)):this.A=$i(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Do(this,s)}},gr.qa=function(){"undefined"!=typeof kr&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ri(this,"timeout"),this.abort(8))},gr.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ri(this,"complete"),Ri(this,"abort"),jo(this))},gr.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jo(this,!0)),Oo.X.M.call(this)},gr.Ha=function(){this.s||(this.F||this.v||this.l?Lo(this):this.fb())},gr.fb=function(){Lo(this)},gr.aa=function(){try{return 2<Fo(this)?this.g.status:-1}catch(C){return-1}},gr.fa=function(){try{return this.g?this.g.responseText:""}catch(C){return""}},gr.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Io(t)}},gr.Ea=function(){return this.m},gr.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(gr=Ko.prototype).ma=8,gr.G=1,gr.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Ea(this,this.j,e,void 0),n=this.s;if(this.S&&(n?mi(n=vi(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Yo(this,t,r),Ha(i=za(this.F),"RID",e),Ha(i,"CVER",22),this.D&&Ha(i,"X-HTTP-Session-Id",this.D),$o(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Vo(n)))+"&"+r:this.o&&Bo(i,this.o,n)),vo(this.h,t),this.Ya&&Ha(i,"TYPE","init"),this.O?(Ha(i,"$req",r),Ha(i,"SID","null"),t.Z=!0,Ia(t,i,null)):Ia(t,i,r),this.G=2}}else 3==this.G&&(e?Go(this,e):0==this.i.length||fo(this.h)||Go(this))},gr.Ia=function(){if(this.u=null,eu(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=ha(Ar(this.eb,this),e)}},gr.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ca(10),Wo(this),eu(this))},gr.cb=function(){null!=this.v&&(this.v=null,Wo(this),Jo(this),ca(19))},gr.kb=function(e){e?(this.j.info("Successfully pinged google.com"),ca(2)):(this.j.info("Failed to ping google.com"),ca(1))},(gr=su.prototype).xa=function(){},gr.wa=function(){},gr.va=function(){},gr.ua=function(){},gr.Ra=function(){},lu.prototype.g=function(e,t){return new cu(e,t)},Pr(cu,Di),cu.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;ca(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=ou(e,null,e.V),Qo(e)},cu.prototype.close=function(){qo(this.g)},cu.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ji(e),e=n);t.i.push(new so(t.ab++,e)),3==t.G&&Qo(t)},cu.prototype.M=function(){this.g.l=null,delete this.j,qo(this.g),delete this.g,cu.X.M.call(this)},Pr(fu,wa),Pr(hu,ka),Pr(du,su),du.prototype.xa=function(){Ri(this.g,"a")},du.prototype.wa=function(e){Ri(this.g,new fu(e))},du.prototype.va=function(e){Ri(this.g,new hu(e))},du.prototype.ua=function(){Ri(this.g,"b")},lu.prototype.createWebChannel=lu.prototype.g,cu.prototype.send=cu.prototype.u,cu.prototype.open=cu.prototype.m,cu.prototype.close=cu.prototype.close,da.NO_ERROR=0,da.TIMEOUT=8,da.HTTP_ERROR=6,pa.COMPLETE="complete",ma.EventType=ba,ba.OPEN="a",ba.CLOSE="b",ba.ERROR="c",ba.MESSAGE="d",Di.prototype.listen=Di.prototype.N,Oo.prototype.listenOnce=Oo.prototype.O,Oo.prototype.getLastError=Oo.prototype.Oa,Oo.prototype.getLastErrorCode=Oo.prototype.Ea,Oo.prototype.getStatus=Oo.prototype.aa,Oo.prototype.getResponseJson=Oo.prototype.Sa,Oo.prototype.getResponseText=Oo.prototype.fa,Oo.prototype.send=Oo.prototype.da,Oo.prototype.setWithCredentials=Oo.prototype.Ka;var pu=wr.createWebChannelTransport=function(){return new lu},vu=wr.getStatEventTarget=function(){return oa()},yu=wr.ErrorCode=da,mu=wr.EventType=pa,gu=wr.Event=ia,bu=wr.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},wu=wr.FetchXmlHttpFactory=_o,ku=wr.WebChannel=ma,_u=wr.XhrIo=Oo,Eu="@firebase/firestore",Su=function(){function e(t){qt(this,e),this.uid=t}return Ht(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Su.UNAUTHENTICATED=new Su(null),Su.GOOGLE_CREDENTIALS=new Su("google-credentials-uid"),Su.FIRST_PARTY=new Su("first-party-uid"),Su.MOCK_USER=new Su("mock-user");var xu="9.12.0",Cu=new En("@firebase/firestore");function Tu(){return Cu.logLevel}function Iu(e){if(Cu.logLevel<=yn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Nu);Cu.debug.apply(Cu,["Firestore (".concat(xu,"): ").concat(e)].concat(wt(i)))}}function Ou(e){if(Cu.logLevel<=yn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Nu);Cu.error.apply(Cu,["Firestore (".concat(xu,"): ").concat(e)].concat(wt(i)))}}function Au(e){if(Cu.logLevel<=yn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Nu);Cu.warn.apply(Cu,["Firestore (".concat(xu,"): ").concat(e)].concat(wt(i)))}}function Nu(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Pu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(xu,") INTERNAL ASSERTION FAILED: ")+e;throw Ou(t),new Error(t)}function Du(e,t){e||Pu()}function Ru(e,t){return e}var Lu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ju=function(e){Vt(n,e);var t=Kt(n);function n(e,r){var i;return qt(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Ht(n)}(an),Mu=Ht((function e(){var t=this;qt(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Fu=Ht((function e(t,n){qt(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Uu=function(){function e(){qt(this,e)}return Ht(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Su.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Vu=function(){function e(t){qt(this,e),this.token=t,this.changeListener=null}return Ht(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Bu=function(){function e(t){qt(this,e),this.t=t,this.currentUser=Su.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Ht(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Mu;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Mu,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Pt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Iu("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Iu("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Mu)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Iu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Du("string"==typeof n.accessToken),new Fu(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Du(null===e||"string"==typeof e),new Su(e)}}]),e}(),zu=function(){function e(t,n,r,i){qt(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Su.FIRST_PARTY,this.p=new Map}return Ht(e,[{key:"I",value:function(){return this.g?this.g():(Du(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Ku=function(){function e(t,n,r,i){qt(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return Ht(e,[{key:"getToken",value:function(){return Promise.resolve(new zu(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Su.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),qu=Ht((function e(t){qt(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Wu=function(){function e(t){qt(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return Ht(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Iu("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Iu("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Iu("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Iu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Du("string"==typeof t.token),e.A=t.token,new qu(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Hu(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Qu=function(){function e(){qt(this,e)}return Ht(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Hu(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Gu(e,t){return e<t?-1:e>t?1:0}function $u(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Yu=function(){function e(t,n){if(qt(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new ju(Lu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ju(Lu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ju(Lu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ju(Lu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Ht(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Gu(this.nanoseconds,e.nanoseconds):Gu(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Xu=function(){function e(t){qt(this,e),this.timestamp=t}return Ht(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Yu(0,0))}},{key:"max",value:function(){return new e(new Yu(253402300799,999999999))}}]),e}(),Ju=function(){function e(t,n,r){qt(this,e),void 0===n?n=0:n>t.length&&Pu(),void 0===r?r=t.length-n:r>t.length-n&&Pu(),this.segments=t,this.offset=n,this.len=r}return Ht(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Zu=function(e){Vt(n,e);var t=Kt(n);function n(){return qt(this,n),t.apply(this,arguments)}return Ht(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new ju(Lu.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,wt(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ju),es=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ts=function(e){Vt(n,e);var t=Kt(n);function n(){return qt(this,n),t.apply(this,arguments)}return Ht(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return es.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new ju(Lu.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new ju(Lu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new ju(Lu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new ju(Lu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ju),ns=function(){function e(t){qt(this,e),this.path=t}return Ht(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Zu.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Zu.fromString(t))}},{key:"fromName",value:function(t){return new e(Zu.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Zu.emptyPath())}},{key:"comparator",value:function(e,t){return Zu.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Zu(t.slice()))}}]),e}(),rs=Ht((function e(t,n,r,i){qt(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));rs.UNKNOWN_ID=-1;function is(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Xu.fromTimestamp(1e9===r?new Yu(n+1,0):new Yu(n,r));return new os(i,ns.empty(),t)}function as(e){return new os(e.readTime,e.key,-1)}var os=function(){function e(t,n,r){qt(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Ht(e,null,[{key:"min",value:function(){return new e(Xu.min(),ns.empty(),-1)}},{key:"max",value:function(){return new e(Xu.max(),ns.empty(),-1)}}]),e}();function us(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=ns.comparator(e.documentKey,t.documentKey))?n:Gu(e.largestBatchId,t.largestBatchId)}var ss="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ls=function(){function e(){qt(this,e),this.onCommittedListeners=[]}return Ht(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function cs(e){return fs.apply(this,arguments)}function fs(){return fs=Pt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Lu.FAILED_PRECONDITION&&t.message===ss){e.next=2;break}throw t;case 2:Iu("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),fs.apply(this,arguments)}var hs=function(){function e(t){var n=this;qt(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Ht(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Pu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Ut(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function ds(e){return"IndexedDbTransactionError"===e.name}var ps=function(){function e(t,n){var r=this;qt(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return Ht(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function vs(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ys(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ms(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}ps.at=-1;var gs=function(){function e(t,n){qt(this,e),this.comparator=t,this.root=n||ws.EMPTY}return Ht(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ws.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ws.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new bs(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new bs(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new bs(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new bs(this.root,e,this.comparator,!0)}}]),e}(),bs=function(){function e(t,n,r,i){qt(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Ht(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),ws=function(){function e(t,n,r,i,a){qt(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Ht(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Pu();if(this.right.isRed())throw Pu();var e=this.left.check();if(e!==this.right.check())throw Pu();return e+(this.isRed()?0:1)}}]),e}();ws.EMPTY=null,ws.RED=!0,ws.BLACK=!1,ws.EMPTY=new(function(){function e(){qt(this,e),this.size=0}return Ht(e,[{key:"key",get:function(){throw Pu()}},{key:"value",get:function(){throw Pu()}},{key:"color",get:function(){throw Pu()}},{key:"left",get:function(){throw Pu()}},{key:"right",get:function(){throw Pu()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new ws(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var ks=function(){function e(t){qt(this,e),this.comparator=t,this.data=new gs(this.comparator)}return Ht(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new _s(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new _s(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),_s=function(){function e(t){qt(this,e),this.iter=t}return Ht(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var Es=function(){function e(t){qt(this,e),this.fields=t,t.sort(ts.comparator)}return Ht(e,[{key:"unionWith",value:function(t){var n,r=new ks(ts.comparator),i=Ut(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(l){i.e(l)}finally{i.f()}var o,u=Ut(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(l){u.e(l)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Ut(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return $u(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var Ss=function(e){function t(e){qt(this,t),this.binaryString=e}return Ht(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Gu(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Ss.EMPTY_BYTE_STRING=new Ss("");var xs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(e){if(Du(!!e),"string"==typeof e){var t=0,n=xs.exec(e);if(Du(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ts(e.seconds),nanos:Ts(e.nanos)}}function Ts(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Is(e){return"string"==typeof e?Ss.fromBase64String(e):Ss.fromUint8Array(e)}function Os(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function As(e){var t=e.mapValue.fields.__previous_value__;return Os(t)?As(t):t}function Ns(e){var t=Cs(e.mapValue.fields.__local_write_time__.timestampValue);return new Yu(t.seconds,t.nanos)}var Ps=Ht((function e(t,n,r,i,a,o,u,s){qt(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Ds=function(){function e(t,n){qt(this,e),this.projectId=t,this.database=n||"(default)"}return Ht(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Rs(e){return null==e}function Ls(e){return 0===e&&1/e==-1/0}function js(e){return"number"==typeof e&&Number.isInteger(e)&&!Ls(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Ms={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Os(e)?4:Js(e)?9007199254740991:10:Pu()}function Us(e,t){if(e===t)return!0;var n=Fs(e);if(n!==Fs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ns(e).isEqual(Ns(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Cs(e.timestampValue),r=Cs(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Is(e.bytesValue).isEqual(Is(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ts(e.geoPointValue.latitude)===Ts(t.geoPointValue.latitude)&&Ts(e.geoPointValue.longitude)===Ts(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ts(e.integerValue)===Ts(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ts(e.doubleValue),r=Ts(t.doubleValue);return n===r?Ls(n)===Ls(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return $u(e.arrayValue.values||[],t.arrayValue.values||[],Us);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(vs(n)!==vs(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Us(n[i],r[i])))return!1;return!0}(e,t);default:return Pu()}}function Vs(e,t){return void 0!==(e.values||[]).find((function(e){return Us(e,t)}))}function Bs(e,t){if(e===t)return 0;var n=Fs(e),r=Fs(t);if(n!==r)return Gu(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Gu(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ts(e.integerValue||e.doubleValue),r=Ts(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return zs(e.timestampValue,t.timestampValue);case 4:return zs(Ns(e),Ns(t));case 5:return Gu(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Is(e),r=Is(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Gu(n[i],r[i]);if(0!==a)return a}return Gu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Gu(Ts(e.latitude),Ts(t.latitude));return 0!==n?n:Gu(Ts(e.longitude),Ts(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Bs(n[i],r[i]);if(a)return a}return Gu(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ms.mapValue&&t===Ms.mapValue)return 0;if(e===Ms.mapValue)return 1;if(t===Ms.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Gu(r[o],a[o]);if(0!==u)return u;var s=Bs(n[r[o]],i[a[o]]);if(0!==s)return s}return Gu(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Pu()}}function zs(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Gu(e,t);var n=Cs(e),r=Cs(t),i=Gu(n.seconds,r.seconds);return 0!==i?i:Gu(n.nanos,r.nanos)}function Ks(e){return qs(e)}function qs(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Cs(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Is(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ns.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Ut(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=qs(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Ut(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(qs(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Pu();var t,n}function Ws(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Hs(e){return!!e&&"integerValue"in e}function Qs(e){return!!e&&"arrayValue"in e}function Gs(e){return!!e&&"nullValue"in e}function $s(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ys(e){return!!e&&"mapValue"in e}function Xs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ys(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Xs(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Xs(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Js(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var Zs=function(){function e(t){qt(this,e),this.value=t}return Ht(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ys(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xs(t)}},{key:"setAll",value:function(e){var t=this,n=ts.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Xs(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ys(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Us(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ys(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){ys(t,(function(t,n){return e[t]=n}));var r,i=Ut(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Xs(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function el(e){var t=[];return ys(e.fields,(function(e,n){var r=new ts([e]);if(Ys(n)){var i=el(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Ut(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Es(t)}var tl=function(){function e(t,n,r,i,a,o){qt(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Ht(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Zs.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Zs.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Xu.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Xu.min(),Xu.min(),Zs.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Xu.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Xu.min(),Zs.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Xu.min(),Zs.empty(),2)}}]),e}(),nl=Ht((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;qt(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ht=null}));function rl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new nl(e,t,n,r,i,a,o)}function il(e){var t=Ru(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Ks(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Rs(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Ks(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Ks(e)})).join(",")),t.ht=n}return t.ht}function al(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!gl(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Us(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!wl(e.startAt,t.startAt)&&wl(e.endAt,t.endAt)}function ol(e){return ns.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var ul=function(e){Vt(n,e);var t=Kt(n);function n(e,r,i){var a;return qt(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Ht(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Bs(t,this.value)):null!==t&&Fs(this.value)===Fs(t)&&this.ft(Bs(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Pu()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new sl(e,t,r):"array-contains"===t?new hl(e,r):"in"===t?new dl(e,r):"not-in"===t?new pl(e,r):"array-contains-any"===t?new vl(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new ll(e,n):new cl(e,n)}}]),n}(function(){return Ht((function e(){qt(this,e)}))}()),sl=function(e){Vt(n,e);var t=Kt(n);function n(e,r,i){var a;return qt(this,n),(a=t.call(this,e,r,i)).key=ns.fromName(i.referenceValue),a}return Ht(n,[{key:"matches",value:function(e){var t=ns.comparator(e.key,this.key);return this.ft(t)}}]),n}(ul),ll=function(e){Vt(n,e);var t=Kt(n);function n(e,r){var i;return qt(this,n),(i=t.call(this,e,"in",r)).keys=fl("in",r),i}return Ht(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ul),cl=function(e){Vt(n,e);var t=Kt(n);function n(e,r){var i;return qt(this,n),(i=t.call(this,e,"not-in",r)).keys=fl("not-in",r),i}return Ht(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ul);function fl(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return ns.fromName(e.referenceValue)}))}var hl=function(e){Vt(n,e);var t=Kt(n);function n(e,r){return qt(this,n),t.call(this,e,"array-contains",r)}return Ht(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Qs(t)&&Vs(t.arrayValue,this.value)}}]),n}(ul),dl=function(e){Vt(n,e);var t=Kt(n);function n(e,r){return qt(this,n),t.call(this,e,"in",r)}return Ht(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Vs(this.value.arrayValue,t)}}]),n}(ul),pl=function(e){Vt(n,e);var t=Kt(n);function n(e,r){return qt(this,n),t.call(this,e,"not-in",r)}return Ht(n,[{key:"matches",value:function(e){if(Vs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Vs(this.value.arrayValue,t)}}]),n}(ul),vl=function(e){Vt(n,e);var t=Kt(n);function n(e,r){return qt(this,n),t.call(this,e,"array-contains-any",r)}return Ht(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Qs(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Vs(t.value.arrayValue,e)}))}}]),n}(ul),yl=Ht((function e(t,n){qt(this,e),this.position=t,this.inclusive=n})),ml=Ht((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";qt(this,e),this.field=t,this.dir=n}));function gl(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function bl(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?ns.comparator(ns.fromName(o.referenceValue),n.key):Bs(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function wl(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Us(e.position[n],t.position[n]))return!1;return!0}var kl=Ht((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;qt(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this._t=null,this.wt=null,this.startAt,this.endAt}));function _l(e,t,n,r,i,a,o,u){return new kl(e,t,n,r,i,a,o,u)}function El(e){return new kl(e)}function Sl(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function xl(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Cl(e){var t,n=Ut(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Tl(e){return null!==e.collectionGroup}function Il(e){var t=Ru(e);if(null===t._t){t._t=[];var n=Cl(t),r=xl(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new ml(n)),t._t.push(new ml(ts.keyField(),"asc"));else{var i,a=!1,o=Ut(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t._t.push(u),u.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new ml(ts.keyField(),s))}}}return t._t}function Ol(e){var t=Ru(e);if(!t.wt)if("F"===t.limitType)t.wt=rl(t.path,t.collectionGroup,Il(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Ut(Il(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new ml(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var u=t.endAt?new yl(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new yl(t.startAt.position,t.startAt.inclusive):null;t.wt=rl(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.wt}function Al(e,t,n){return new kl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Nl(e,t){return al(Ol(e),Ol(t))&&e.limitType===t.limitType}function Pl(e){return"".concat(il(Ol(e)),"|lt:").concat(e.limitType)}function Dl(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Ks(t.value));var t})).join(", "),"]")),Rs(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Ks(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Ks(e)})).join(",")),"Target(".concat(t,")")}(Ol(e)),"; limitType=").concat(e.limitType,")")}function Rl(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ns.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Ut(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Ut(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=bl(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Il(e),t))&&!(e.endAt&&!function(e,t,n){var r=bl(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Il(e),t))}(e,t)}function Ll(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function jl(e){return function(t,n){var r,i=!1,a=Ut(Il(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Ml(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Ml(e,t,n){var r=e.field.isKeyField()?ns.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Bs(r,i):Pu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Pu()}}function Fl(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ls(t)?"-0":t}}function Ul(e){return{integerValue:""+e}}function Vl(e,t){return js(t)?Ul(t):Fl(e,t)}var Bl=Ht((function e(){qt(this,e),this._=void 0}));function zl(e,t,n){return e instanceof Wl?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Hl?Ql(e,t):e instanceof Gl?$l(e,t):function(e,t){var n=ql(e,t),r=Xl(n)+Xl(e.yt);return Hs(n)&&Hs(e.yt)?Ul(r):Fl(e.It,r)}(e,t)}function Kl(e,t,n){return e instanceof Hl?Ql(e,t):e instanceof Gl?$l(e,t):n}function ql(e,t){return e instanceof Yl?Hs(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Wl=function(e){Vt(n,e);var t=Kt(n);function n(){return qt(this,n),t.apply(this,arguments)}return Ht(n)}(Bl),Hl=function(e){Vt(n,e);var t=Kt(n);function n(e){var r;return qt(this,n),(r=t.call(this)).elements=e,r}return Ht(n)}(Bl);function Ql(e,t){var n,r=Jl(t),i=Ut(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Us(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Gl=function(e){Vt(n,e);var t=Kt(n);function n(e){var r;return qt(this,n),(r=t.call(this)).elements=e,r}return Ht(n)}(Bl);function $l(e,t){var n,r=Jl(t),i=Ut(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Us(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Yl=function(e){Vt(n,e);var t=Kt(n);function n(e,r){var i;return qt(this,n),(i=t.call(this)).It=e,i.yt=r,i}return Ht(n)}(Bl);function Xl(e){return Ts(e.integerValue||e.doubleValue)}function Jl(e){return Qs(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Zl=Ht((function e(t,n){qt(this,e),this.version=t,this.transformResults=n})),ec=function(){function e(t,n){qt(this,e),this.updateTime=t,this.exists=n}return Ht(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function tc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var nc=Ht((function e(){qt(this,e)}));function rc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new vc(e.key,ec.none()):new sc(e.key,e.data,ec.none());var n,r=e.data,i=Zs.empty(),a=new ks(ts.comparator),o=Ut(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(l){o.e(l)}finally{o.f()}return new lc(e.key,i,new Es(a.toArray()),ec.none())}function ic(e,t,n){e instanceof sc?function(e,t,n){var r=e.value.clone(),i=fc(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof lc?function(e,t,n){if(tc(e.precondition,t)){var r=fc(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(cc(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ac(e,t,n,r){return e instanceof sc?function(e,t,n,r){if(!tc(e.precondition,t))return n;var i=e.value.clone(),a=hc(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof lc?function(e,t,n,r){if(!tc(e.precondition,t))return n;var i=hc(e.fieldTransforms,r,t),a=t.data;return a.setAll(cc(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return tc(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function oc(e,t){var n,r=null,i=Ut(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=ql(a.transform,o||null);null!=u&&(null===r&&(r=Zs.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function uc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&$u(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Hl&&t instanceof Hl||e instanceof Gl&&t instanceof Gl?$u(e.elements,t.elements,Us):e instanceof Yl&&t instanceof Yl?Us(e.yt,t.yt):e instanceof Wl&&t instanceof Wl}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var sc=function(e){Vt(n,e);var t=Kt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return qt(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Ht(n,[{key:"getFieldMask",value:function(){return null}}]),n}(nc),lc=function(e){Vt(n,e);var t=Kt(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return qt(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Ht(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(nc);function cc(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function fc(e,t,n){var r=new Map;Du(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Kl(o,u,n[i]))}return r}function hc(e,t,n){var r,i=new Map,a=Ut(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,zl(u,s,t))}}catch(l){a.e(l)}finally{a.f()}return i}var dc,pc,vc=function(e){Vt(n,e);var t=Kt(n);function n(e,r){var i;return qt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Ht(n,[{key:"getFieldMask",value:function(){return null}}]),n}(nc),yc=function(e){Vt(n,e);var t=Kt(n);function n(e,r){var i;return qt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Ht(n,[{key:"getFieldMask",value:function(){return null}}]),n}(nc),mc=Ht((function e(t){qt(this,e),this.count=t}));function gc(e){switch(e){default:return Pu();case Lu.CANCELLED:case Lu.UNKNOWN:case Lu.DEADLINE_EXCEEDED:case Lu.RESOURCE_EXHAUSTED:case Lu.INTERNAL:case Lu.UNAVAILABLE:case Lu.UNAUTHENTICATED:return!1;case Lu.INVALID_ARGUMENT:case Lu.NOT_FOUND:case Lu.ALREADY_EXISTS:case Lu.PERMISSION_DENIED:case Lu.FAILED_PRECONDITION:case Lu.ABORTED:case Lu.OUT_OF_RANGE:case Lu.UNIMPLEMENTED:case Lu.DATA_LOSS:return!0}}function bc(e){if(void 0===e)return Ou("GRPC error has no .code"),Lu.UNKNOWN;switch(e){case dc.OK:return Lu.OK;case dc.CANCELLED:return Lu.CANCELLED;case dc.UNKNOWN:return Lu.UNKNOWN;case dc.DEADLINE_EXCEEDED:return Lu.DEADLINE_EXCEEDED;case dc.RESOURCE_EXHAUSTED:return Lu.RESOURCE_EXHAUSTED;case dc.INTERNAL:return Lu.INTERNAL;case dc.UNAVAILABLE:return Lu.UNAVAILABLE;case dc.UNAUTHENTICATED:return Lu.UNAUTHENTICATED;case dc.INVALID_ARGUMENT:return Lu.INVALID_ARGUMENT;case dc.NOT_FOUND:return Lu.NOT_FOUND;case dc.ALREADY_EXISTS:return Lu.ALREADY_EXISTS;case dc.PERMISSION_DENIED:return Lu.PERMISSION_DENIED;case dc.FAILED_PRECONDITION:return Lu.FAILED_PRECONDITION;case dc.ABORTED:return Lu.ABORTED;case dc.OUT_OF_RANGE:return Lu.OUT_OF_RANGE;case dc.UNIMPLEMENTED:return Lu.UNIMPLEMENTED;case dc.DATA_LOSS:return Lu.DATA_LOSS;default:return Pu()}}(pc=dc||(dc={}))[pc.OK=0]="OK",pc[pc.CANCELLED=1]="CANCELLED",pc[pc.UNKNOWN=2]="UNKNOWN",pc[pc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pc[pc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pc[pc.NOT_FOUND=5]="NOT_FOUND",pc[pc.ALREADY_EXISTS=6]="ALREADY_EXISTS",pc[pc.PERMISSION_DENIED=7]="PERMISSION_DENIED",pc[pc.UNAUTHENTICATED=16]="UNAUTHENTICATED",pc[pc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pc[pc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pc[pc.ABORTED=10]="ABORTED",pc[pc.OUT_OF_RANGE=11]="OUT_OF_RANGE",pc[pc.UNIMPLEMENTED=12]="UNIMPLEMENTED",pc[pc.INTERNAL=13]="INTERNAL",pc[pc.UNAVAILABLE=14]="UNAVAILABLE",pc[pc.DATA_LOSS=15]="DATA_LOSS";var wc=function(){function e(t,n){qt(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Ht(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Ut(n);try{for(i.s();!(r=i.n()).done;){var a=o(r.value,2),u=a[0],s=a[1];if(this.equalsFn(u,e))return s}}catch(l){i.e(l)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){ys(this.inner,(function(t,n){var r,i=Ut(n);try{for(i.s();!(r=i.n()).done;){var a=o(r.value,2),u=a[0],s=a[1];e(u,s)}}catch(l){i.e(l)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return ms(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),kc=new gs(ns.comparator);function _c(){return kc}var Ec=new gs(ns.comparator);function Sc(){for(var e=Ec,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function xc(e){var t=Ec;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Cc(){return Ic()}function Tc(){return Ic()}function Ic(){return new wc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Oc=new gs(ns.comparator),Ac=new ks(ns.comparator);function Nc(){for(var e=Ac,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Pc=new ks(Gu);function Dc(){return Pc}var Rc=function(){function e(t,n,r,i,a){qt(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Ht(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Lc.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Xu.min(),i,Dc(),_c(),Nc())}}]),e}(),Lc=function(){function e(t,n,r,i,a){qt(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Ht(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Nc(),Nc(),Nc())}}]),e}(),jc=Ht((function e(t,n,r,i){qt(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),Mc=Ht((function e(t,n){qt(this,e),this.targetId=t,this.At=n})),Fc=Ht((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ss.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;qt(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Uc=function(){function e(){qt(this,e),this.Rt=0,this.bt=zc(),this.Pt=Ss.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return Ht(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=Nc(),t=Nc(),n=Nc();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Pu()}})),new Lc(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=zc()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Ot",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Mt",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),Vc=function(){function e(t){qt(this,e),this.Bt=t,this.Lt=new Map,this.Ut=_c(),this.qt=Bc(),this.Kt=new ks(Gu)}return Ht(e,[{key:"Gt",value:function(e){var t,n=Ut(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(u){n.e(u)}finally{n.f()}var i,a=Ut(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:Pu()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(ol(i))if(0===n){var a=new ns(i.path);this.jt(t,a,tl.newNoDocument(a,Xu.min()))}else Du(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&ol(a.target)){var o=new ns(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,tl.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=Nc();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new Rc(e,n,this.Kt,this.Ut,r);return this.Ut=_c(),this.qt=Bc(),this.Kt=new ks(Gu),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Mt",value:function(e){this.zt(e).Mt()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new Uc,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new ks(Gu),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||Iu("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new Uc),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Bc(){return new gs(ns.comparator)}function zc(){return new gs(ns.comparator)}var Kc={asc:"ASCENDING",desc:"DESCENDING"},qc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wc=Ht((function e(t,n){qt(this,e),this.databaseId=t,this.gt=n}));function Hc(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Qc(e,t){return e.gt?t.toBase64():t.toUint8Array()}function Gc(e,t){return Hc(e,t.toTimestamp())}function $c(e){return Du(!!e),Xu.fromTimestamp(function(e){var t=Cs(e);return new Yu(t.seconds,t.nanos)}(e))}function Yc(e,t){return function(e){return new Zu(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Xc(e){var t=Zu.fromString(e);return Du(gf(t)),t}function Jc(e,t){return Yc(e.databaseId,t.path)}function Zc(e,t){var n=Xc(t);if(n.get(1)!==e.databaseId.projectId)throw new ju(Lu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ju(Lu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ns(rf(n))}function ef(e,t){return Yc(e.databaseId,t)}function tf(e){var t=Xc(e);return 4===t.length?Zu.emptyPath():rf(t)}function nf(e){return new Zu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function rf(e){return Du(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function af(e,t,n){return{name:Jc(e,t),fields:n.value.mapValue.fields}}function of(e,t){var n;if(t instanceof sc)n={update:af(e,t.key,t.value)};else if(t instanceof vc)n={delete:Jc(e,t.key)};else if(t instanceof lc)n={update:af(e,t.key,t.data),updateMask:mf(t.fieldMask)};else{if(!(t instanceof yc))return Pu();n={verify:Jc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Wl)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Hl)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Gl)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Yl)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw Pu()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Gc(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Pu()}(e,t.precondition)),n}function uf(e,t){return{documents:[ef(e,t.path)]}}function sf(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ef(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ef(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if($s(e.value))return{unaryFilter:{field:df(e.field),op:"IS_NAN"}};if(Gs(e.value))return{unaryFilter:{field:df(e.field),op:"IS_NULL"}}}else if("!="===e.op){if($s(e.value))return{unaryFilter:{field:df(e.field),op:"IS_NOT_NAN"}};if(Gs(e.value))return{unaryFilter:{field:df(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:df(e.field),op:hf(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:df(e.field),direction:ff(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.gt||Rs(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function lf(e){var t=tf(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Du(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=cf(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new ml(pf(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Rs(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new yl(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new yl(n,t)}(n.endAt)),_l(t,i,u,o,s,"F",l,c)}function cf(e){return e?void 0!==e.unaryFilter?[yf(e)]:void 0!==e.fieldFilter?[vf(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return cf(e)})).reduce((function(e,t){return e.concat(t)})):Pu():[]}function ff(e){return Kc[e]}function hf(e){return qc[e]}function df(e){return{fieldPath:e.canonicalString()}}function pf(e){return ts.fromServerFormat(e.fieldPath)}function vf(e){return ul.create(pf(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pu()}}(e.fieldFilter.op),e.fieldFilter.value)}function yf(e){switch(e.unaryFilter.op){case"IS_NAN":var t=pf(e.unaryFilter.field);return ul.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=pf(e.unaryFilter.field);return ul.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=pf(e.unaryFilter.field);return ul.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=pf(e.unaryFilter.field);return ul.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Pu()}}function mf(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function gf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var bf=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),wf=([].concat(wt(bf),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),kf=wf;[].concat(kf,["indexConfiguration","indexState","indexEntries"]);var _f=function(){function e(t,n,r,i){qt(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Ht(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&ic(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Ut(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=ac(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=Ut(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=ac(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Tc();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=rc(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Xu.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Nc())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&$u(this.mutations,e.mutations,(function(e,t){return uc(e,t)}))&&$u(this.baseMutations,e.baseMutations,(function(e,t){return uc(e,t)}))}}]),e}(),Ef=function(){function e(t,n,r,i){qt(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Ht(e,null,[{key:"from",value:function(t,n,r){Du(t.mutations.length===r.length);for(var i=Oc,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Sf=function(){function e(t,n){qt(this,e),this.largestBatchId=t,this.mutation=n}return Ht(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),xf=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Xu.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Xu.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ss.EMPTY_BYTE_STRING;qt(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Ht(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Cf=Ht((function e(t){qt(this,e),this.re=t}));function Tf(e){var t=lf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Al(t,t.limit,"L"):t}var If=function(){function e(){qt(this,e)}return Ht(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Ts(e.integerValue));else if("doubleValue"in e){var n=Ts(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),Ls(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Is(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?Js(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Pu()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=Ut(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),ns.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();If.Te=new If;var Of=function(){function e(){qt(this,e),this.Ye=new Af}return Ht(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),hs.resolve()}},{key:"getCollectionParents",value:function(e,t){return hs.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return hs.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return hs.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return hs.resolve(null)}},{key:"getIndexType",value:function(e,t){return hs.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return hs.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return hs.resolve(null)}},{key:"getMinOffset",value:function(e,t){return hs.resolve(os.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return hs.resolve(os.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return hs.resolve()}},{key:"updateIndexEntries",value:function(e,t){return hs.resolve()}}]),e}(),Af=function(){function e(){qt(this,e),this.index={}}return Ht(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ks(Zu.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new ks(Zu.comparator)).toArray()}}]),e}();new Uint8Array(0);var Nf=function(){function e(t,n,r){qt(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Ht(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Nf.DEFAULT_COLLECTION_PERCENTILE=10,Nf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nf.DEFAULT=new Nf(41943040,Nf.DEFAULT_COLLECTION_PERCENTILE,Nf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nf.DISABLED=new Nf(-1,0,0);var Pf=function(){function e(t){qt(this,e),this.bn=t}return Ht(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}();var Df=function(){function e(){qt(this,e),this.changes=new wc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Ht(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,tl.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?hs.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var Rf=Ht((function e(t,n){qt(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Lf=function(){function e(t,n,r,i){qt(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Ht(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&ac(r.mutation,e,Es.empty(),Yu.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Nc()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nc(),i=Cc();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Sc();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Cc();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Nc())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=_c(),a=Ic(),o=Ic();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof lc)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),ac(o.mutation,t,o.mutation.getFieldMask(),Yu.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Rf(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Ic(),i=new gs((function(e,t){return e-t})),a=Nc();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Ut(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Es.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Nc()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,l=i.value,c=Tc();l.forEach((function(e){if(!a.has(e)){var n=rc(t.get(e),r.get(e));null!==n&&c.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,c))};u.hasNext();)s();return hs.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return ns.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Tl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):hs.resolve(Cc()),u=-1,s=a;return o.next((function(t){return hs.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?hs.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Nc())})).next((function(e){return{batchId:u,changes:xc(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new ns(t)).next((function(e){var t=Sc();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Sc();return this.indexManager.getCollectionParents(e,i).next((function(o){return hs.forEach(o,(function(o){var u=function(e,t){return new kl(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,tl.newInvalidDocument(n)))}));var n=Sc();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&ac(a.mutation,i,Es.empty(),Yu.now()),Rl(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):hs.resolve(tl.newInvalidDocument(t))}}]),e}(),jf=function(){function e(t){qt(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return Ht(e,[{key:"getBundleMetadata",value:function(e,t){return hs.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:$c(n.createTime)}),hs.resolve()}},{key:"getNamedQuery",value:function(e,t){return hs.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:Tf(e.bundledQuery),readTime:$c(e.readTime)}}(t)),hs.resolve()}}]),e}(),Mf=function(){function e(){qt(this,e),this.overlays=new gs(ns.comparator),this.es=new Map}return Ht(e,[{key:"getOverlay",value:function(e,t){return hs.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Cc();return hs.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),hs.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),hs.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Cc(),i=t.length+1,a=new ns(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return hs.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new gs((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Cc(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Cc(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return hs.resolve(s)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Sf(t,n));var a=this.es.get(t);void 0===a&&(a=Nc(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),Ff=function(){function e(){qt(this,e),this.ns=new ks(Uf.ss),this.rs=new ks(Uf.os)}return Ht(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Uf(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new Uf(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new ns(new Zu([])),r=new Uf(n,e),i=new Uf(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new ns(new Zu([])),n=new Uf(t,e),r=new Uf(t,e+1),i=Nc();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Uf(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Uf=function(){function e(t,n){qt(this,e),this.key=t,this._s=n}return Ht(e,null,[{key:"ss",value:function(e,t){return ns.comparator(e.key,t.key)||Gu(e._s,t._s)}},{key:"os",value:function(e,t){return Gu(e._s,t._s)||ns.comparator(e.key,t.key)}}]),e}(),Vf=function(){function e(t,n){qt(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new ks(Uf.ss)}return Ht(e,[{key:"checkEmpty",value:function(e){return hs.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new _f(i,t,n,r);this.mutationQueue.push(a);var o,u=Ut(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new Uf(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(l){u.e(l)}finally{u.f()}return hs.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return hs.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return hs.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return hs.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return hs.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Uf(t,0),i=new Uf(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),hs.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ks(Gu);return t.forEach((function(e){var t=new Uf(e,0),i=new Uf(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),hs.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;ns.isDocumentKey(i)||(i=i.child(""));var a=new Uf(new ns(i),0),o=new ks(Gu);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),hs.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Du(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return hs.forEach(t.mutations,(function(i){var a=new Uf(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Uf(t,0),r=this.gs.firstAfterOrEqual(n);return hs.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,hs.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Bf=function(){function e(t){qt(this,e),this.Es=t,this.docs=new gs(ns.comparator),this.size=0}return Ht(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return hs.resolve(n?n.document.mutableCopy():tl.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=_c();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():tl.newInvalidDocument(e))})),hs.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=_c(),i=new ns(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||us(as(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return hs.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Pu()}},{key:"As",value:function(e,t){return hs.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new zf(this)}},{key:"getSize",value:function(e){return hs.resolve(this.size)}}]),e}(),zf=function(e){Vt(n,e);var t=Kt(n);function n(e){var r;return qt(this,n),(r=t.call(this)).Yn=e,r}return Ht(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),hs.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(Df),Kf=function(){function e(t){qt(this,e),this.persistence=t,this.Rs=new wc((function(e){return il(e)}),al),this.lastRemoteSnapshotVersion=Xu.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Ff,this.targetCount=0,this.vs=Pf.Pn()}return Ht(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),hs.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return hs.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return hs.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),hs.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),hs.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new Pf(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,hs.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),hs.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,hs.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),hs.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return hs.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return hs.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),hs.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),hs.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),hs.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return hs.resolve(n)}},{key:"containsKey",value:function(e,t){return hs.resolve(this.Ps.containsKey(t))}}]),e}(),qf=function(){function e(t,n){var r=this;qt(this,e),this.Vs={},this.overlays={},this.Ss=new ps(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new Kf(this),this.indexManager=new Of,this.remoteDocumentCache=new Bf((function(e){return r.referenceDelegate.xs(e)})),this.It=new Cf(n),this.Ns=new jf(this.It)}return Ht(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Mf,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new Vf(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Iu("MemoryPersistence","Starting transaction:",e);var i=new Wf(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return hs.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Wf=function(e){Vt(n,e);var t=Kt(n);function n(e){var r;return qt(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Ht(n)}(ls),Hf=function(){function e(t){qt(this,e),this.persistence=t,this.Fs=new Ff,this.$s=null}return Ht(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw Pu()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),hs.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),hs.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),hs.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return hs.forEach(this.Ls,(function(r){var i=ns.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,Xu.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return hs.or([function(){return hs.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}();var Qf=function(){function e(t,n,r,i){qt(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return Ht(e,null,[{key:"Ci",value:function(t,n){var r,i=Nc(),a=Nc(),o=Ut(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Gf=function(){function e(){qt(this,e),this.xi=!1}return Ht(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(Sl(t))return hs.resolve(null);var r=Ol(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Al(t,null,"F"),r=Ol(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Nc.apply(void 0,wt(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,Al(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return Sl(t)||r.isEqual(Xu.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(Tu()<=yn.DEBUG&&Iu("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Dl(t)),i.Bi(e,o,t,is(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new ks(jl(e));return t.forEach((function(t,r){Rl(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return Tu()<=yn.DEBUG&&Iu("QueryEngine","Using full collection scan to execute query:",Dl(t)),this.Ni.getDocumentsMatchingQuery(e,t,os.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),$f=function(){function e(t,n,r,i){qt(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new gs(Gu),this.qi=new wc((function(e){return il(e)}),al),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return Ht(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Lf(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function Yf(e,t,n,r){return new $f(e,t,n,r)}function Xf(e,t){return Jf.apply(this,arguments)}function Jf(){return Jf=Pt(At().mark((function e(t,n){var r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ru(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Nc(),s=Ut(t);try{for(s.s();!(i=s.n()).done;){var l=i.value;a.push(l.batchId);var c,f=Ut(l.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value;u=u.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var d,p=Ut(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=Ut(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(b){m.e(b)}finally{m.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Jf.apply(this,arguments)}function Zf(e,t){var n=Ru(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=hs.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Du(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Nc(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function eh(e){var t=Ru(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function th(e,t){var n=Ru(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var l=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?l=l.withResumeToken(Ss.EMPTY_BYTE_STRING,Xu.min()).withLastLimboFreeSnapshotVersion(Xu.min()):a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)),i=i.insert(u,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,l,a)&&o.push(n.Cs.updateTargetData(e,l))}}));var u=_c(),s=Nc();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(nh(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(Xu.min())){var l=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(l)}return hs.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ui=i,e}))}function nh(e,t,n){var r=Nc(),i=Nc();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=_c();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Xu.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Iu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function rh(e,t){var n=Ru(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function ih(e,t){var n=Ru(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,hs.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new xf(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function ah(e,t,n){return oh.apply(this,arguments)}function oh(){return oh=Pt(At().mark((function e(t,n,r){var i,a,o;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ru(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),ds(e.t1)){e.next=12;break}throw e.t1;case 12:Iu("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),oh.apply(this,arguments)}function uh(e,t,n){var r=Ru(e),i=Xu.min(),a=Nc();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Ru(e),i=r.qi.get(n);return void 0!==i?hs.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,Ol(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:Xu.min(),n?a:Nc())})).next((function(e){return sh(r,Ll(t),e),{documents:e,Hi:a}}))}))}function sh(e,t,n){var r=e.Ki.get(t)||Xu.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}var lh=function(){function e(){qt(this,e),this.activeTargetIds=Dc()}return Ht(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),ch=function(){function e(){qt(this,e),this.Lr=new lh,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Ht(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new lh,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),fh=function(){function e(){qt(this,e)}return Ht(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),hh=function(){function e(){var t=this;qt(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return Ht(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){Iu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Ut(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){Iu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Ut(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),dh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},ph=function(){function e(t){qt(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return Ht(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),vh=function(e){Vt(n,e);var t=Kt(n);function n(e){var r;return qt(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Ht(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new _u;o.setWithCredentials(!0),o.listenOnce(mu.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case yu.NO_ERROR:var t=o.getResponseJson();Iu("Connection","XHR received:",JSON.stringify(t)),i(t);break;case yu.TIMEOUT:Iu("Connection",'RPC "'+e+'" timed out'),a(new ju(Lu.DEADLINE_EXCEEDED,"Request time out"));break;case yu.HTTP_ERROR:var n=o.getStatus();if(Iu("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Lu).indexOf(t)>=0?t:Lu.UNKNOWN}(r.status);a(new ju(u,r.message))}else a(new ju(Lu.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new ju(Lu.UNAVAILABLE,"Connection failed."));break;default:Pu()}}finally{Iu("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=pu(),a=vu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new wu({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");Iu("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),l=!1,c=!1,f=new ph({Hr:function(e){c?Iu("Connection","Not sending because WebChannel is closed:",e):(l||(Iu("Connection","Opening WebChannel transport."),s.open(),l=!0),Iu("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,ku.EventType.OPEN,(function(){c||Iu("Connection","WebChannel transport opened.")})),h(s,ku.EventType.CLOSE,(function(){c||(c=!0,Iu("Connection","WebChannel transport closed"),f.io())})),h(s,ku.EventType.ERROR,(function(e){c||(c=!0,Au("Connection","WebChannel transport errored:",e),f.io(new ju(Lu.UNAVAILABLE,"The operation could not be completed")))})),h(s,ku.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];Du(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Iu("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=dc[e];if(void 0!==t)return bc(t)}(a),u=i.message;void 0===o&&(o=Lu.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),c=!0,f.io(new ju(o,u)),s.close()}else Iu("Connection","WebChannel received:",n),f.ro(n)}})),h(a,gu.STAT_EVENT,(function(e){e.stat===bu.PROXY?Iu("Connection","Detected buffering proxy"):e.stat===bu.NOPROXY&&Iu("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){qt(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Ht(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);Iu("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return Iu("RestConnection","Received: ",e),e}),(function(t){throw Au("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+xu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=dh[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function yh(){return"undefined"!=typeof document?document:null}function mh(e){return new Wc(e,!0)}var gh=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;qt(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return Ht(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Iu("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),bh=function(){function e(t,n,r,i,a,o,u,s){qt(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.So=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new gh(t,n)}return Ht(e,[{key:"ko",value:function(){return 1===this.state||5===this.state||this.Oo()}},{key:"Oo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Mo()}},{key:"stop",value:function(){var e=Pt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ko(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.state=0,this.No.reset()}},{key:"$o",value:function(){var e=this;this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.Bo()})))}},{key:"Lo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Bo",value:function(){var e=Pt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Oo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"qo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"close",value:function(){var e=Pt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.qo(),this.No.cancel(),this.Do++,4!==t?this.No.reset():n&&n.code===Lu.RESOURCE_EXHAUSTED?(Ou(n.toString()),Ou("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):n&&n.code===Lu.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Ko(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Ko",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=o(t,2),i=r[0],a=r[1];e.Do===n&&e.Qo(i,a)}),(function(n){t((function(){var t=new ju(Lu.UNKNOWN,"Fetching auth token failed: "+n.message);return e.jo(t)}))}))}},{key:"Qo",value:function(e,t){var n=this,r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.xo=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.Oo()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.jo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Mo",value:function(){var e=this;this.state=5,this.No.Ro(Pt(At().mark((function t(){return At().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"jo",value:function(e){return Iu("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Go",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.Do===e?n():(Iu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),wh=function(e){Vt(n,e);var t=Kt(n);function n(e,r,i,a,o,u){var s;return qt(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).It=o,s}return Ht(n,[{key:"Wo",value:function(e,t){return this.So.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.No.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Pu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(Du(void 0===t||"string"==typeof t),Ss.fromBase64String(t||"")):(Du(void 0===t||t instanceof Uint8Array),Ss.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Lu.UNKNOWN:bc(e.code);return new ju(t,e.message||"")}(o);n=new Fc(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var l=Zc(e,s.document.name),c=$c(s.document.updateTime),f=new Zs({mapValue:{fields:s.document.fields}}),h=tl.newFoundDocument(l,c,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new jc(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=Zc(e,v.document),m=v.readTime?$c(v.readTime):Xu.min(),g=tl.newNoDocument(y,m),b=v.removedTargetIds||[];n=new jc([],b,g.key,g)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var k=Zc(e,w.document),_=w.removedTargetIds||[];n=new jc([],_,k,null)}else{if(!("filter"in t))return Pu();t.filter;var E=t.filter;E.targetId;var S=E.count||0,x=new mc(S),C=E.targetId;n=new Mc(C,x)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return Xu.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Xu.min():t.readTime?$c(t.readTime):Xu.min()}(e);return this.listener.zo(t,n)}},{key:"Ho",value:function(e){var t={};t.database=nf(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=ol(r)?{documents:uf(e,r)}:{query:sf(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Qc(e,t.resumeToken):t.snapshotVersion.compareTo(Xu.min())>0&&(n.readTime=Hc(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Pu()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Lo(t)}},{key:"Jo",value:function(e){var t={};t.database=nf(this.It),t.removeTarget=e,this.Lo(t)}}]),n}(bh),kh=function(e){Vt(n,e);var t=Kt(n);function n(e,r,i,a,o,u){var s;return qt(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).It=o,s.Yo=!1,s}return Ht(n,[{key:"Xo",get:function(){return this.Yo}},{key:"start",value:function(){this.Yo=!1,this.lastStreamToken=void 0,Ft(jt(n.prototype),"start",this).call(this)}},{key:"Ko",value:function(){this.Yo&&this.Zo([])}},{key:"Wo",value:function(e,t){return this.So.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Du(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();var t=function(e,t){return e&&e.length>0?(Du(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?$c(e.updateTime):$c(t);return n.isEqual(Xu.min())&&(n=$c(t)),new Zl(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=$c(e.commitTime);return this.listener.tu(n,t)}return Du(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}},{key:"nu",value:function(){var e={};e.database=nf(this.It),this.Lo(e)}},{key:"Zo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return of(t.It,e)}))};this.Lo(n)}}]),n}(bh),_h=function(e){Vt(n,e);var t=Kt(n);function n(e,r,i,a){var o;return qt(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.So=i,o.It=a,o.su=!1,o}return Ht(n,[{key:"iu",value:function(){if(this.su)throw new ju(Lu.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=o(i,2),u=a[0],s=a[1];return r.So.ao(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Lu.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new ju(Lu.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var u=o(a,2),s=u[0],l=u[1];return i.So._o(e,t,n,s,l,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Lu.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new ju(Lu.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.su=!0}}]),n}(function(){return Ht((function e(){qt(this,e)}))}());var Eh=function(){function e(t,n){qt(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}return Ht(e,[{key:"cu",value:function(){var e=this;0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ou=null,e.hu("Backend didn't respond within 10 seconds."),e.au("Offline"),Promise.resolve()})))}},{key:"lu",value:function(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.au("Offline")))}},{key:"set",value:function(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}},{key:"au",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"hu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.uu?(Ou(t),this.uu=!1):Iu("OnlineStateTracker",t)}},{key:"fu",value:function(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}]),e}(),Sh=Ht((function e(t,n,r,i,a){var o=this;qt(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.qr((function(e){r.enqueueAndForget(Pt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Lh(o),!e.t0){e.next=5;break}return Iu("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Pt(At().mark((function e(t){var n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ru(t)).wu.add(4),e.next=4,Th(n);case 4:return n.yu.set("Unknown"),n.wu.delete(4),e.next=8,xh(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.yu=new Eh(r,i)}));function xh(e){return Ch.apply(this,arguments)}function Ch(){return Ch=Pt(At().mark((function e(t){var n,r,i;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Lh(t)){e.next=18;break}n=Ut(t.mu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Ch.apply(this,arguments)}function Th(e){return Ih.apply(this,arguments)}function Ih(){return Ih=Pt(At().mark((function e(t){var n,r,i;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ut(t.mu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Ih.apply(this,arguments)}function Oh(e,t){var n=Ru(e);n._u.has(t.targetId)||(n._u.set(t.targetId,t),Rh(n)?Dh(n):cd(n).Oo()&&Nh(n,t))}function Ah(e,t){var n=Ru(e),r=cd(n);n._u.delete(t),r.Oo()&&Ph(n,t),0===n._u.size&&(r.Oo()?r.$o():Lh(n)&&n.yu.set("Unknown"))}function Nh(e,t){e.pu.Mt(t.targetId),cd(e).Ho(t)}function Ph(e,t){e.pu.Mt(t),cd(e).Jo(t)}function Dh(e){e.pu=new Vc({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e._u.get(t)||null}}),cd(e).start(),e.yu.cu()}function Rh(e){return Lh(e)&&!cd(e).ko()&&e._u.size>0}function Lh(e){return 0===Ru(e).wu.size}function jh(e){e.pu=void 0}function Mh(e){return Fh.apply(this,arguments)}function Fh(){return Fh=Pt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._u.forEach((function(e,n){Nh(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Fh.apply(this,arguments)}function Uh(e,t){return Vh.apply(this,arguments)}function Vh(){return Vh=Pt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:jh(t),Rh(t)?(t.yu.lu(n),Dh(t)):t.yu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Vh.apply(this,arguments)}function Bh(e,t,n){return zh.apply(this,arguments)}function zh(){return zh=Pt(At().mark((function e(t,n,r){var i;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.yu.set("Online"),!(n instanceof Fc&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Pt(At().mark((function e(t,n){var r,i,a,o;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Ut(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t._u.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t._u.delete(o),t.pu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Iu("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Kh(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof jc?t.pu.Gt(n):n instanceof Mc?t.pu.Yt(n):t.pu.Wt(n),r.isEqual(Xu.min())){e.next=29;break}return e.prev=14,e.next=17,eh(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.pu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e._u.get(r);i&&e._u.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e._u.get(t);if(n){e._u.set(t,n.withResumeToken(Ss.EMPTY_BYTE_STRING,n.snapshotVersion)),Ph(e,t);var r=new xf(n.target,t,1,n.sequenceNumber);Nh(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Iu("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Kh(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),zh.apply(this,arguments)}function Kh(e,t,n){return qh.apply(this,arguments)}function qh(){return qh=Pt(At().mark((function e(t,n,r){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ds(n)){e.next=2;break}throw n;case 2:return t.wu.add(1),e.next=5,Th(t);case 5:t.yu.set("Offline"),r||(r=function(){return eh(t.localStore)}),t.asyncQueue.enqueueRetryable(Pt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Iu("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.wu.delete(1),e.next=6,xh(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),qh.apply(this,arguments)}function Wh(e,t){return t().catch((function(n){return Kh(e,n,t)}))}function Hh(e){return Qh.apply(this,arguments)}function Qh(){return Qh=Pt(At().mark((function e(t){var n,r,i,a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ru(t),r=fd(n),i=n.du.length>0?n.du[n.du.length-1].batchId:-1;case 2:if(!Gh(n)){e.next=19;break}return e.prev=3,e.next=6,rh(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.du.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,$h(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Kh(n,e.t0);case 17:e.next=2;break;case 19:Yh(n)&&Xh(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Qh.apply(this,arguments)}function Gh(e){return Lh(e)&&e.du.length<10}function $h(e,t){e.du.push(t);var n=fd(e);n.Oo()&&n.Xo&&n.Zo(t.mutations)}function Yh(e){return Lh(e)&&!fd(e).ko()&&e.du.length>0}function Xh(e){fd(e).start()}function Jh(e){return Zh.apply(this,arguments)}function Zh(){return Zh=Pt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fd(t).nu();case 1:case"end":return e.stop()}}),e)}))),Zh.apply(this,arguments)}function ed(e){return td.apply(this,arguments)}function td(){return td=Pt(At().mark((function e(t){var n,r,i,a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=fd(t),r=Ut(t.du);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Zo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),td.apply(this,arguments)}function nd(e,t,n){return rd.apply(this,arguments)}function rd(){return rd=Pt(At().mark((function e(t,n,r){var i,a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.du.shift(),a=Ef.from(i,n,r),e.next=3,Wh(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Hh(t);case 5:case"end":return e.stop()}}),e)}))),rd.apply(this,arguments)}function id(e,t){return ad.apply(this,arguments)}function ad(){return ad=Pt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&fd(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Pt(At().mark((function e(t,n){var r,i;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!gc(i=n.code)||i===Lu.ABORTED){e.next=7;break}return r=t.du.shift(),fd(t).Fo(),e.next=5,Wh(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Hh(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Yh(t)&&Xh(t);case 5:case"end":return e.stop()}}),e)}))),ad.apply(this,arguments)}function od(e,t){return ud.apply(this,arguments)}function ud(){return ud=Pt(At().mark((function e(t,n){var r,i;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Ru(t)).asyncQueue.verifyOperationInProgress(),Iu("RemoteStore","RemoteStore received new credentials"),i=Lh(r),r.wu.add(3),e.next=6,Th(r);case 6:return i&&r.yu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.wu.delete(3),e.next=12,xh(r);case 12:case"end":return e.stop()}}),e)}))),ud.apply(this,arguments)}function sd(e,t){return ld.apply(this,arguments)}function ld(){return ld=Pt(At().mark((function e(t,n){var r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ru(t),!n){e.next=7;break}return r.wu.delete(2),e.next=5,xh(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.wu.add(2),e.next=12,Th(r);case 12:r.yu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),ld.apply(this,arguments)}function cd(e){return e.Iu||(e.Iu=function(e,t,n){var r=Ru(e);return r.iu(),new wh(t,r.So,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:Mh.bind(null,e),Zr:Uh.bind(null,e),zo:Bh.bind(null,e)}),e.mu.push(function(){var t=Pt(At().mark((function t(n){return At().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Iu.Fo(),Rh(e)?Dh(e):e.yu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Iu.stop();case 6:jh(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}function fd(e){return e.Tu||(e.Tu=function(e,t,n){var r=Ru(e);return r.iu(),new kh(t,r.So,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:Jh.bind(null,e),Zr:id.bind(null,e),eu:ed.bind(null,e),tu:nd.bind(null,e)}),e.mu.push(function(){var t=Pt(At().mark((function t(n){return At().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Tu.Fo(),t.next=4,Hh(e);case 4:t.next=9;break;case 6:return t.next=8,e.Tu.stop();case 8:e.du.length>0&&(Iu("RemoteStore","Stopping write stream with ".concat(e.du.length," pending writes")),e.du=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}var hd=function(){function e(t,n,r,i,a){qt(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Mu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Ht(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ju(Lu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function dd(e,t){if(Ou("AsyncQueue","".concat(t,": ").concat(e)),ds(e))return new ju(Lu.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var pd=function(){function e(t){qt(this,e),this.comparator=t?function(e,n){return t(e,n)||ns.comparator(e.key,n.key)}:function(e,t){return ns.comparator(e.key,t.key)},this.keyedMap=Sc(),this.sortedSet=new gs(this.comparator)}return Ht(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),vd=function(){function e(){qt(this,e),this.Eu=new gs(ns.comparator)}return Ht(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Eu.get(t);n?0!==e.type&&3===n.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==n.type?this.Eu=this.Eu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Eu=this.Eu.remove(t):1===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):Pu():this.Eu=this.Eu.insert(t,e)}},{key:"Au",value:function(){var e=[];return this.Eu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),yd=function(){function e(t,n,r,i,a,o,u,s,l){qt(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=l}return Ht(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,pd.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),md=Ht((function e(){qt(this,e),this.Ru=void 0,this.listeners=[]})),gd=Ht((function e(){qt(this,e),this.queries=new wc((function(e){return Pl(e)}),Nl),this.onlineState="Unknown",this.bu=new Set}));function bd(e,t){return wd.apply(this,arguments)}function wd(){return wd=Pt(At().mark((function e(t,n){var r,i,a,o,u;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ru(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new md),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Ru=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=dd(e.t0,"Initialization of query '".concat(Dl(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Pu(r.onlineState),o.Ru&&n.vu(o.Ru)&&xd(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),wd.apply(this,arguments)}function kd(e,t){return _d.apply(this,arguments)}function _d(){return _d=Pt(At().mark((function e(t,n){var r,i,a,o,u;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ru(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),_d.apply(this,arguments)}function Ed(e,t){var n,r=Ru(e),i=!1,a=Ut(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var l,c=Ut(s.listeners);try{for(c.s();!(l=c.n()).done;){l.value.vu(o)&&(i=!0)}}catch(f){c.e(f)}finally{c.f()}s.Ru=o}}}catch(f){a.e(f)}finally{a.f()}i&&xd(r)}function Sd(e,t,n){var r=Ru(e),i=r.queries.get(t);if(i){var a,o=Ut(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function xd(e){e.bu.forEach((function(e){e.next()}))}var Cd=function(){function e(t,n,r){qt(this,e),this.query=t,this.Vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}return Ht(e,[{key:"vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Ut(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new yd(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),a=!0):this.xu(e,this.onlineState)&&(this.Nu(e),a=!0),this.Du=e,a}},{key:"onError",value:function(e){this.Vu.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}},{key:"xu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Cu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Nu",value:function(e){e=yd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Su=!0,this.Vu.next(e)}}]),e}();var Td=Ht((function e(t){qt(this,e),this.key=t})),Id=Ht((function e(t){qt(this,e),this.key=t})),Od=function(){function e(t,n){qt(this,e),this.query=t,this.Uu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Nc(),this.mutatedKeys=Nc(),this.Gu=jl(t),this.Qu=new pd(this.Gu)}return Ht(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new vd,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),f=Rl(n.query,t)?t:null,h=!!c&&n.mutatedKeys.has(c.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;c&&f?c.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(c,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||l&&n.Gu(f,l)<0)&&(u=!0)):!c&&f?(r.track({type:0,doc:f}),p=!0):c&&!f&&(r.track({type:1,doc:c}),p=!0,(s||l)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{Qu:o,zu:r,$i:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Au();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pu()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new yd(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new vd,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=Nc(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new Id(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new Td(e))})),n}},{key:"tc",value:function(e){this.Uu=e.Hi,this.Ku=Nc();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return yd.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}]),e}(),Ad=Ht((function e(t,n,r){qt(this,e),this.query=t,this.targetId=n,this.view=r})),Nd=Ht((function e(t){qt(this,e),this.key=t,this.nc=!1})),Pd=function(){function e(t,n,r,i,a,o){qt(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new wc((function(e){return Pl(e)}),Nl),this.rc=new Map,this.oc=new Set,this.uc=new gs(ns.comparator),this.cc=new Map,this.ac=new Ff,this.hc={},this.lc=new Map,this.fc=Pf.vn(),this.onlineState="Unknown",this.dc=void 0}return Ht(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function Dd(e,t){return Rd.apply(this,arguments)}function Rd(){return Rd=Pt(At().mark((function e(t,n){var r,i,a,o,u,s;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=sp(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,ih(r.localStore,Ol(n));case 8:return u=e.sent,r.isPrimaryClient&&Oh(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,Ld(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Rd.apply(this,arguments)}function Ld(e,t,n,r,i){return jd.apply(this,arguments)}function jd(){return jd=Pt(At().mark((function e(t,n,r,i,a){var o,u,s,l,c,f;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=Pt(At().mark((function e(t,n,r,i){var a,o,u;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,uh(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(ep(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,uh(t.localStore,n,!0);case 3:return o=e.sent,u=new Od(n,o.Hi),s=u.Wu(o.documents),l=Lc.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),c=u.applyChanges(s,t.isPrimaryClient,l),ep(t,r,c.Xu),f=new Ad(n,r,u),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),jd.apply(this,arguments)}function Md(e,t){return Fd.apply(this,arguments)}function Fd(){return Fd=Pt(At().mark((function e(t,n){var r,i,a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ru(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!Nl(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,ah(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Ah(r.remoteStore,i.targetId),Jd(r,i.targetId)})).catch(cs);case 9:e.next=14;break;case 11:return Jd(r,i.targetId),e.next=14,ah(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Fd.apply(this,arguments)}function Ud(e,t,n){return Vd.apply(this,arguments)}function Vd(){return Vd=Pt(At().mark((function e(t,n,r){var i,a,o;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lp(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Ru(e),a=Yu.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Nc());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=_c(),s=Nc();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=Ut(t);try{for(s.s();!(o=s.n()).done;){var l=o.value,c=oc(l,n.get(l.key).overlayedDocument);null!=c&&u.push(new lc(l.key,c,el(c.value.mapValue),ec.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:xc(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new gs(Gu)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,rp(i,a.changes);case 9:return e.next=11,Hh(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=dd(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Vd.apply(this,arguments)}function Bd(e,t){return zd.apply(this,arguments)}function zd(){return zd=Pt(At().mark((function e(t,n){var r,i;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ru(t),e.prev=1,e.next=4,th(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(Du(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?Du(n.nc):e.removedDocuments.size>0&&(Du(n.nc),n.nc=!1))})),e.next=8,rp(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,cs(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),zd.apply(this,arguments)}function Kd(e,t,n){var r=Ru(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Ru(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Ut(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Pu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&xd(n)}(r.eventManager,t),i.length&&r.sc.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function qd(e,t,n){return Wd.apply(this,arguments)}function Wd(){return Wd=Pt(At().mark((function e(t,n,r){var i,a,o,u,s,l;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Ru(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new gs(ns.comparator)).insert(o,tl.newNoDocument(o,Xu.min())),s=Nc().add(o),l=new Rc(Xu.min(),new Map,new ks(Gu),u,s),e.next=9,Bd(i,l);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),np(i),e.next=16;break;case 14:return e.next=16,ah(i.localStore,n,!1).then((function(){return Jd(i,n,r)})).catch(cs);case 16:case"end":return e.stop()}}),e)}))),Wd.apply(this,arguments)}function Hd(e,t){return Qd.apply(this,arguments)}function Qd(){return Qd=Pt(At().mark((function e(t,n){var r,i,a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ru(t),i=n.batch.batchId,e.prev=1,e.next=4,Zf(r.localStore,n);case 4:return a=e.sent,Xd(r,i,null),Yd(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,rp(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,cs(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Qd.apply(this,arguments)}function Gd(e,t,n){return $d.apply(this,arguments)}function $d(){return $d=Pt(At().mark((function e(t,n,r){var i,a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ru(t),e.prev=1,e.next=4,function(e,t){var n=Ru(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Du(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Xd(i,n,r),Yd(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,rp(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,cs(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),$d.apply(this,arguments)}function Yd(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function Xd(e,t,n){var r=Ru(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function Jd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Ut(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||Zd(e,t)}))}function Zd(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(Ah(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),np(e))}function ep(e,t,n){var r,i=Ut(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Td?(e.ac.addReference(a.key,t),tp(e,a)):a instanceof Id?(Iu("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||Zd(e,a.key)):Pu()}}catch(o){i.e(o)}finally{i.f()}}function tp(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(Iu("SyncEngine","New document in limbo: "+n),e.oc.add(r),np(e))}function np(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new ns(Zu.fromString(t)),r=e.fc.next();e.cc.set(r,new Nd(n)),e.uc=e.uc.insert(n,r),Oh(e.remoteStore,new xf(Ol(El(n.path)),r,2,ps.at))}}function rp(e,t,n){return ip.apply(this,arguments)}function ip(){return ip=Pt(At().mark((function e(t,n,r){var i,a,o,u;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ru(t),a=[],o=[],u=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){u.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Qf.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sc.zo(a),e.next=9,function(){var e=Pt(At().mark((function e(t,n){var r,i,a,o,u,s,l,c;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ru(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return hs.forEach(n,(function(t){return hs.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return hs.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),ds(e.t0)){e.next=10;break}throw e.t0;case 10:Iu("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Ut(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ui.get(u),l=s.snapshotVersion,c=s.withLastLimboFreeSnapshotVersion(l),r.Ui=r.Ui.insert(u,c))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),ip.apply(this,arguments)}function ap(e,t){return op.apply(this,arguments)}function op(){return op=Pt(At().mark((function e(t,n){var r,i;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Ru(t)).currentUser.isEqual(n)){e.next=11;break}return Iu("SyncEngine","User change. New user:",n.toKey()),e.next=5,Xf(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new ju(Lu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,rp(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),op.apply(this,arguments)}function up(e,t){var n=Ru(e),r=n.cc.get(t);if(r&&r.nc)return Nc().add(r.key);var i=Nc(),a=n.rc.get(t);if(!a)return i;var o,u=Ut(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,l=n.ic.get(s);i=i.unionWith(l.view.ju)}}catch(c){u.e(c)}finally{u.f()}return i}function sp(e){var t=Ru(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Bd.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=up.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qd.bind(null,t),t.sc.zo=Ed.bind(null,t.eventManager),t.sc.wc=Sd.bind(null,t.eventManager),t}function lp(e){var t=Ru(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Hd.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Gd.bind(null,t),t}var cp=function(){function e(){qt(this,e),this.synchronizeTabs=!1}return Ht(e,[{key:"initialize",value:function(){var e=Pt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=mh(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return Yf(this.persistence,new Gf,e.initialUser,this.It)}},{key:"yc",value:function(e){return new qf(Hf.Bs,this.It)}},{key:"gc",value:function(e){return new ch}},{key:"terminate",value:function(){var e=Pt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),fp=function(){function e(){qt(this,e)}return Ht(e,[{key:"initialize",value:function(){var e=Pt(At().mark((function e(t,n){var r=this;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Kd(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ap.bind(null,this.syncEngine),e.next=12,sd(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new gd}},{key:"createDatastore",value:function(e){var t,n=mh(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new vh(t));return function(e,t,n,r){return new _h(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Kd(o.syncEngine,e,0)},a=hh.C()?new hh:new fh,new Sh(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Pd(e,t,n,r,i,a);return o&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Pt(At().mark((function e(t){var n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ru(t),Iu("RemoteStore","RemoteStore shutting down."),n.wu.add(5),e.next=5,Th(n);case 5:n.gu.shutdown(),n.yu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function hp(e,t,n){if(!n)throw new ju(Lu.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function dp(e){if(!ns.isDocumentKey(e))throw new ju(Lu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function pp(e){if(ns.isDocumentKey(e))throw new ju(Lu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function vp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Pu()}function yp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ju(Lu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=vp(e);throw new ju(Lu.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var mp=new Map,gp=function(){function e(t){var n;if(qt(this,e),void 0===t.host){if(void 0!==t.ssl)throw new ju(Lu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ju(Lu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new ju(Lu.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Ht(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),bp=function(){function e(t,n,r,i){qt(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gp({}),this._settingsFrozen=!1}return Ht(e,[{key:"app",get:function(){if(!this._app)throw new ju(Lu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new ju(Lu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gp(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Uu;switch(e.type){case"gapi":var t=e.client;return new Ku(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ju(Lu.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=mp.get(e);t&&(Iu("ComponentProvider","Removing Datastore"),mp.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function wp(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=yp(e,bp))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Au("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Su.MOCK_USER;else{o=rn(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new ju(Lu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Su(s)}e._authCredentials=new Vu(new Fu(o,u))}}var kp=function(){function e(t,n,r){qt(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Ht(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Ep(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),_p=function(){function e(t,n,r){qt(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Ht(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Ep=function(e){Vt(n,e);var t=Kt(n);function n(e,r,i){var a;return qt(this,n),(a=t.call(this,e,r,El(i)))._path=i,a.type="collection",a}return Ht(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new kp(this.firestore,null,new ns(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(_p);function Sp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=fn(e),hp("collection","path",t),e instanceof bp){var a=Zu.fromString.apply(Zu,[t].concat(r));return pp(a),new Ep(e,null,a)}if(!(e instanceof kp||e instanceof Ep))throw new ju(Lu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Zu.fromString.apply(Zu,[t].concat(r)));return pp(o),new Ep(e.firestore,null,o)}var xp=function(){function e(t){qt(this,e),this.observer=t,this.muted=!1}return Ht(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):Ou("Uncaught Error in snapshot listener:",e)}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Cp=function(){function e(t,n,r,i){var a=this;qt(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Su.UNAUTHENTICATED,this.clientId=Qu.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Pt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Iu("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Iu("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Ht(e,[{key:"getConfiguration",value:function(){var e=Pt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new ju(Lu.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Mu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Pt(At().mark((function n(){var r;return At().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=dd(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Tp(e,t){return Ip.apply(this,arguments)}function Ip(){return Ip=Pt(At().mark((function e(t,n){var r,i;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Iu("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Pt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Xf(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Ip.apply(this,arguments)}function Op(e,t){return Ap.apply(this,arguments)}function Ap(){return Ap=Pt(At().mark((function e(t,n){var r,i;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Np(t);case 3:return r=e.sent,Iu("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return od(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return od(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Ap.apply(this,arguments)}function Np(e){return Pp.apply(this,arguments)}function Pp(){return Pp=Pt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Iu("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Tp(t,new cp);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Pp.apply(this,arguments)}function Dp(e){return Rp.apply(this,arguments)}function Rp(){return Rp=Pt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Iu("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Op(t,new fp);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Rp.apply(this,arguments)}function Lp(e){return Dp(e).then((function(e){return e.syncEngine}))}function jp(e){return Mp.apply(this,arguments)}function Mp(){return Mp=Pt(At().mark((function e(t){var n,r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dp(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Dd.bind(null,n.syncEngine),r.onUnlisten=Md.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Mp.apply(this,arguments)}function Fp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Mu;return e.asyncQueue.enqueueAndForget(Pt(At().mark((function i(){return At().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new xp({next:function(n){t.enqueueAndForget((function(){return kd(e,o)})),n.fromCache&&"server"===r.source?i.reject(new ju(Lu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Cd(n,a,{includeMetadataChanges:!0,ku:!0});return bd(e,o)},i.next=3,jp(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Up=function(){function e(){var t=this;qt(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new gh(this,"async_queue_retry"),this.Wc=function(){var e=yh();e&&Iu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.No.Po()};var n=yh();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return Ht(e,[{key:"isShuttingDown",get:function(){return this.Uc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;var t=yh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.Uc)return new Promise((function(){}));var n=new Mu;return this.Hc((function(){return t.Uc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=Pt(At().mark((function e(){var t=this;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.No.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),ds(e.t0)){e.next=12;break}throw e.t0;case 12:Iu("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.No.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ou("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=hd.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.qc.push(i),i}},{key:"zc",value:function(){this.Kc&&Pu()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=Pt(At().mark((function e(){var t;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=Ut(this.qc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.qc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Ut(t.qc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.qc.indexOf(e);this.qc.splice(t,1)}}]),e}();var Vp=function(e){Vt(n,e);var t=Kt(n);function n(e,r,i,a){var o;return qt(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new Up,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return Ht(n,[{key:"_terminate",value:function(){return this._firestoreClient||zp(this),this._firestoreClient.terminate()}}]),n}(bp);function Bp(e){return e._firestoreClient||zp(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function zp(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Ps(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Cp(e._authCredentials,e._appCheckCredentials,e._queue,r)}var Kp=function(){function e(t){qt(this,e),this._byteString=t}return Ht(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Ss.fromBase64String(t))}catch(t){throw new ju(Lu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Ss.fromUint8Array(t))}}]),e}(),qp=function(){function e(){qt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new ju(Lu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ts(n)}return Ht(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Wp=Ht((function e(t){qt(this,e),this._methodName=t})),Hp=function(){function e(t,n){if(qt(this,e),!isFinite(t)||t<-90||t>90)throw new ju(Lu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ju(Lu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Ht(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Gu(this._lat,e._lat)||Gu(this._long,e._long)}}]),e}(),Qp=/^__.*__$/,Gp=function(){function e(t,n,r){qt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ht(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new lc(e,this.data,this.fieldMask,t,this.fieldTransforms):new sc(e,this.data,t,this.fieldTransforms)}}]),e}();function $p(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pu()}}var Yp=function(){function e(t,n,r,i,a,o){qt(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Ht(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return sv(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if($p(this.sa)&&Qp.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),Xp=function(){function e(t,n,r){qt(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||mh(t)}return Ht(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Yp({sa:e,methodName:t,fa:n,path:ts.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function Jp(e){var t=e._freezeSettings(),n=mh(e._databaseId);return new Xp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Zp(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);iv("Data must be an object, but it was:",o,r);var u,s,l=nv(r,o);if(a.merge)u=new Es(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var c,f=[],h=Ut(a.mergeFields);try{for(h.s();!(c=h.n()).done;){var d=c.value,p=av(t,d,n);if(!o.contains(p))throw new ju(Lu.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));lv(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Es(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new Gp(new Zs(l),u,s)}function ev(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return tv(n,e.da(r?4:3,t))}function tv(e,t){if(rv(e=fn(e)))return iv("Unsupported field value:",t,e),nv(e,t);if(e instanceof Wp)return function(e,t){if(!$p(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Ut(e);try{for(a.s();!(n=a.n()).done;){var o=tv(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=fn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Vl(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Yu.fromDate(e);return{timestampValue:Hc(t.It,n)}}if(e instanceof Yu){var r=new Yu(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Hc(t.It,r)}}if(e instanceof Hp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Kp)return{bytesValue:Qc(t.It,e._byteString)};if(e instanceof kp){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Yc(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(vp(e)))}(e,t)}function nv(e,t){var n={};return ms(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ys(e,(function(e,r){var i=tv(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function rv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Yu||e instanceof Hp||e instanceof Kp||e instanceof kp||e instanceof Wp)}function iv(e,t,n){if(!rv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=vp(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function av(e,t,n){if((t=fn(t))instanceof qp)return t._internalPath;if("string"==typeof t)return uv(e,t);throw sv("Field path arguments must be of type string or ",e,!1,void 0,n)}var ov=new RegExp("[~\\*/\\[\\]]");function uv(e,t,n){if(t.search(ov)>=0)throw sv("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Lt(qp,wt(t.split(".")))._internalPath}catch(O){throw sv("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function sv(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new ju(Lu.INVALID_ARGUMENT,u+e+s)}function lv(e,t){return e.some((function(e){return e.isEqual(t)}))}var cv=function(){function e(t,n,r,i,a){qt(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Ht(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new kp(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new fv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(hv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),fv=function(e){Vt(n,e);var t=Kt(n);function n(){return qt(this,n),t.apply(this,arguments)}return Ht(n,[{key:"data",value:function(){return Ft(jt(n.prototype),"data",this).call(this)}}]),n}(cv);function hv(e,t){return"string"==typeof t?uv(e,t):t instanceof qp?t._internalPath:t._delegate._internalPath}function dv(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ju(Lu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var pv=Ht((function e(){qt(this,e)}));function vv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var yv=function(e){Vt(n,e);var t=Kt(n);function n(e,r,i){var a;return qt(this,n),(a=t.call(this)).ma=e,a.ga=r,a.ya=i,a.type="where",a}return Ht(n,[{key:"_apply",value:function(e){var t=Jp(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new ju(Lu.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){bv(o,a);var s,l=[],c=Ut(o);try{for(c.s();!(s=c.n()).done;){var f=s.value;l.push(gv(r,e,f))}}catch(d){c.e(d)}finally{c.f()}u={arrayValue:{values:l}}}else u=gv(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||bv(o,a),u=ev(n,"where",o,"in"===a||"not-in"===a);var h=ul.create(i,a,u);return function(e,t){if(t.dt()){var n=Cl(e);if(null!==n&&!n.isEqual(t.field))throw new ju(Lu.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=xl(e);null!==r&&wv(e,t.field,r)}var i=function(e,t){var n,r=Ut(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new ju(Lu.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new ju(Lu.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new _p(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new kl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(pv);function mv(e,t,n){var r=t,i=hv("where",e);return new yv(i,r,n)}function gv(e,t,n){if("string"==typeof(n=fn(n))){if(""===n)throw new ju(Lu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Tl(t)&&-1!==n.indexOf("/"))throw new ju(Lu.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Zu.fromString(n));if(!ns.isDocumentKey(r))throw new ju(Lu.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ws(e,new ns(r))}if(n instanceof kp)return Ws(e,n._key);throw new ju(Lu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(vp(n),"."))}function bv(e,t){if(!Array.isArray(e)||0===e.length)throw new ju(Lu.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new ju(Lu.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function wv(e,t,n){if(!n.isEqual(t))throw new ju(Lu.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var kv=function(){function e(){qt(this,e)}return Ht(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ts(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Pu()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return ys(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Hp(Ts(e.latitude),Ts(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=As(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ns(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Cs(e);return new Yu(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Zu.fromString(e);Du(gf(n));var r=new Ds(n.get(1),n.get(3)),i=new ns(n.popFirst(5));return r.isEqual(t)||Ou("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function _v(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Ev=function(){function e(t,n){qt(this,e),this.hasPendingWrites=t,this.fromCache=n}return Ht(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Sv=function(e){Vt(n,e);var t=Kt(n);function n(e,r,i,a,o,u){var s;return qt(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Ht(n,[{key:"exists",value:function(){return Ft(jt(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new xv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(hv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(cv),xv=function(e){Vt(n,e);var t=Kt(n);function n(){return qt(this,n),t.apply(this,arguments)}return Ht(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ft(jt(n.prototype),"data",this).call(this,e)}}]),n}(Sv),Cv=function(){function e(t,n,r,i){qt(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ev(i.hasPendingWrites,i.fromCache),this.query=r}return Ht(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new xv(n._firestore,n._userDataWriter,r.key,r,new Ev(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ju(Lu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new xv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ev(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new xv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ev(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Tv(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Tv(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pu()}}var Iv=function(e){Vt(n,e);var t=Kt(n);function n(e){var r;return qt(this,n),(r=t.call(this)).firestore=e,r}return Ht(n,[{key:"convertBytes",value:function(e){return new Kp(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new kp(this.firestore,null,t)}}]),n}(kv);function Ov(e){e=yp(e,_p);var t=yp(e.firestore,Vp),n=Bp(t),r=new Iv(t);return dv(e._query),Fp(n,e._query).then((function(n){return new Cv(t,r,e,n)}))}function Av(e,t){var n=yp(e.firestore,Vp),r=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=fn(e),1===arguments.length&&(t=Qu.R()),hp("doc","path",t),e instanceof bp){var a=Zu.fromString.apply(Zu,[t].concat(r));return dp(a),new kp(e,null,new ns(a))}if(!(e instanceof kp||e instanceof Ep))throw new ju(Lu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Zu.fromString.apply(Zu,[t].concat(r)));return dp(o),new kp(e.firestore,e instanceof Ep?e.converter:null,new ns(o))}(e),i=_v(e.converter,t);return Nv(n,[Zp(Jp(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ec.exists(!1))]).then((function(){return r}))}function Nv(e,t){return function(e,t){var n=new Mu;return e.asyncQueue.enqueueAndForget(Pt(At().mark((function r(){return At().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Ud,r.next=3,Lp(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Bp(e),t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];xu="9.12.0",Xn(new hn("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new Vp(new Bu(e.getProvider("auth-internal")),new Wu(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ju(Lu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ds(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),rr(Eu,"3.7.0",e),rr(Eu,"3.7.0","esm2017")}();rr("firebase","9.12.0","app");var Pv=function(e,t){var n="object"==typeof e?e:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hn,t=Gn.get(e);if(!t&&e===Hn)return nr();if(!t)throw er.create("no-app",{appName:e});return t}(),r="string"==typeof e?e:t||"(default)",i=Jn(n,"firestore").getImmediate({identifier:r});if(!i._initialized){var a=en("firestore");a&&wp.apply(void 0,[i].concat(wt(a)))}return i}(nr({apiKey:"AIzaSyBr835JaHIRx__SLjsopWhKrYLyKJzz4_8",authDomain:"rauchmelder-database.firebaseapp.com",projectId:"rauchmelder-database",storageBucket:"rauchmelder-database.appspot.com",messagingSenderId:"1098886130786",appId:"1:1098886130786:web:44be04cdcad38d7e2e753b"})),Dv=Pv,Rv=function(){function e(t,n,r,i,a){qt(this,e),this.id=t,this.adresse=n,this.email=r,this.name=i,this.telefon=a}return Ht(e,[{key:"toString",value:function(){return this.name+" "+this.adresse}}]),e}(),Lv={toFirestore:function(e){return{id:e.id,adresse:e.adresse,email:e.email,name:e.name,telefon:e.telefon}},fromFirestore:function(e,t){var n=e.data(t);return new Rv(n.id,new qv(n.adresse.hausnummer,n.adresse.ort,n.adresse.plz,n.adresse.stra\u00dfe),n.email,n.name,n.telefon)}},jv=Ht((function e(t,n,r){qt(this,e),this.full_name=t,this.age=n,this.password=r})),Mv={toFirestore:function(e){return{full_name:e.full_name,age:e.age,password:e.password}},fromFirestore:function(e,t){var n=e.data(t);return new jv(n.full_name,n.age,n.password)}},Fv=Ht((function e(t,n,r,i,a){qt(this,e),this.id=t,this.adresse=n,this.auftraggeber=r,this.beschreibung=i,this.objektname=a})),Uv={toFirestore:function(e){return{id:e.id,adresse:e.adresse,auftraggeber:e.auftraggeber,beschreibung:e.beschreibung,objektname:e.objektname}},fromFirestore:function(e,t){var n=e.data(t);return new Fv(n.id,new qv(n.adresse.hausnummer,n.adresse.ort,n.adresse.plz,n.adresse.stra\u00dfe),new Rv(n.auftraggeber.id,new qv(n.auftraggeber.adresse.hausnummer,n.auftraggeber.adresse.ort,n.auftraggeber.adresse.plz,n.auftraggeber.adresse.stra\u00dfe),n.auftraggeber.email,n.auftraggeber.name,n.auftraggeber.telefon),n.beschreibung,n.objektname)}},Vv=Ht((function e(t,n,r,i,a,o,u){qt(this,e),this.id=t,this.auftraggeber=n,this.objekt=r,this.produktionsdatum=i,this.raum=a,this.seriennr=o,this.wohnung=u})),Bv={toFirestore:function(e){return{id:e.id,auftraggeber:e.auftraggeber,objekt:e.objekt,raum:e.raum,seriennr:e.seriennr,wohnung:e.wohnung}},fromFirestore:function(e,t){var n=e.data(t);return new Vv(n.id,new Rv(n.auftraggeber.id,new qv(n.auftraggeber.adresse.hausnummer,n.auftraggeber.adresse.ort,n.auftraggeber.adresse.plz,n.auftraggeber.adresse.stra\u00dfe),n.auftraggeber.email,n.auftraggeber.name,n.auftraggeber.telefon),n.objekt,n.produktionsdatum,n.raum,n.seriennr,n.wohnung)}},zv=Ht((function e(t,n,r,i,a,o,u){qt(this,e),this.id=t,this.auftraggeber=n,this.objekt=r,this.etage=i,this.haus=a,this.lage=o,this.mieter=u})),Kv={toFirestore:function(e){return{id:e.id,auftraggeber:e.auftraggeber,objekt:e.objekt,etage:e.etage,haus:e.haus,lage:e.lage,mieter:e.mieter}},fromFirestore:function(e,t){var n=e.data(t);return new zv(n.id,n.auftraggeber,n.objekt,n.etage,n.haus,n.lage,n.mieter)}},qv=function(){function e(t,n,r,i){qt(this,e),this.hausnummer=void 0,this.ort=void 0,this.plz=void 0,this.stra\u00dfe=void 0,this.hausnummer=t,this.ort=n,this.plz=r,this.stra\u00dfe=i}return Ht(e,[{key:"toString",value:function(){return this.stra\u00dfe+" "+this.hausnummer+", "+this.plz+" "+this.ort}}]),e}();function Wv(){return(Wv=Pt(At().mark((function e(){var t,n,r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sp(Dv,"auftraggeber").withConverter(Lv),e.next=3,Ov(t);case 3:return n=e.sent,r=n.docs.map((function(e){return e.data()})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hv(){return Hv=Pt(At().mark((function e(t,n){var r,i,a,o;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sp(Dv,"auftraggeber").withConverter(Lv),i=vv(r,mv(t,"==",n)),e.next=4,Ov(i);case 4:return a=e.sent,o=a.docs.map((function(e){return e.data()})),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)}))),Hv.apply(this,arguments)}function Qv(){return Qv=Pt(At().mark((function e(t){var n,r,i,a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Sp(Dv,"auftraggeber").withConverter(Lv),r=vv.apply(void 0,[n].concat(wt(t.map((function(e){return mv(e.key,e.operator,e.value)}))))),e.next=4,Ov(r);case 4:return i=e.sent,a=i.docs.map((function(e){return e.data()})),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)}))),Qv.apply(this,arguments)}function Gv(){return Gv=Pt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Av(Sp(Dv,"auftraggeber"),t);case 2:e.sent.withConverter(Lv);case 4:case"end":return e.stop()}}),e)}))),Gv.apply(this,arguments)}var $v={getAuftraggeber:function(){return Wv.apply(this,arguments)},getAuftraggeberWithParam:function(e,t){return Hv.apply(this,arguments)},getAuftraggeberWithParams:function(e){return Qv.apply(this,arguments)},addAuftraggeber:function(e){return Gv.apply(this,arguments)}},Yv=$v;function Xv(){return(Xv=Pt(At().mark((function e(){var t,n,r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sp(Dv,"users").withConverter(Mv),e.next=3,Ov(t);case 3:return n=e.sent,r=n.docs.map((function(e){return e.data()})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jv(){return Jv=Pt(At().mark((function e(t,n){var r,i,a,o;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sp(Dv,"users").withConverter(Mv),i=vv(r,mv(t,"==",n)),e.next=4,Ov(i);case 4:return a=e.sent,o=a.docs.map((function(e){return e.data()})),console.log(o),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)}))),Jv.apply(this,arguments)}function Zv(){return Zv=Pt(At().mark((function e(t){var n,r,i,a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Sp(Dv,"users").withConverter(Mv),r=vv.apply(void 0,[n].concat(wt(t.map((function(e){return mv(e.key,e.operator,e.value)}))))),e.next=4,Ov(r);case 4:return i=e.sent,a=i.docs.map((function(e){return e.data()})),console.log(a),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)}))),Zv.apply(this,arguments)}var ey={getUsers:function(){return Xv.apply(this,arguments)},getUsersWithParam:function(e,t){return Jv.apply(this,arguments)},getUsersWithParams:function(e){return Zv.apply(this,arguments)}},ty=ey;function ny(){return(ny=Pt(At().mark((function e(){var t,n,r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sp(Dv,"objekte").withConverter(Uv),e.next=3,Ov(t);case 3:return n=e.sent,r=n.docs.map((function(e){return e.data()})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ry(){return ry=Pt(At().mark((function e(t,n){var r,i,a,o;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sp(Dv,"objekte").withConverter(Uv),i=vv(r,mv(t,"==",n)),e.next=4,Ov(i);case 4:return a=e.sent,o=a.docs.map((function(e){return e.data()})),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)}))),ry.apply(this,arguments)}function iy(){return iy=Pt(At().mark((function e(t){var n,r,i,a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Sp(Dv,"objekte").withConverter(Uv),r=vv.apply(void 0,[n].concat(wt(t.map((function(e){return mv(e.key,e.operator,e.value)}))))),e.next=4,Ov(r);case 4:return i=e.sent,a=i.docs.map((function(e){return e.data()})),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)}))),iy.apply(this,arguments)}function ay(){return(ay=Pt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Av(Sp(Dv,"Objekt"),t);case 2:e.sent.withConverter(Uv);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oy={getObjekte:function(){return ny.apply(this,arguments)},getObjekteWithParam:function(e,t){return ry.apply(this,arguments)},getObjekteWithParams:function(e){return iy.apply(this,arguments)},addObjekt:function(e){return ay.apply(this,arguments)}},uy=oy;function sy(){return(sy=Pt(At().mark((function e(){var t,n,r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sp(Dv,"wohnungen").withConverter(Kv),e.next=3,Ov(t);case 3:return n=e.sent,r=n.docs.map((function(e){return e.data()})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ly(){return ly=Pt(At().mark((function e(t,n){var r,i,a,o;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sp(Dv,"wohnungen").withConverter(Kv),i=vv(r,mv(t,"==",n)),e.next=4,Ov(i);case 4:return a=e.sent,o=a.docs.map((function(e){return e.data()})),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)}))),ly.apply(this,arguments)}function cy(){return cy=Pt(At().mark((function e(t){var n,r,i,a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Sp(Dv,"wohnungen").withConverter(Kv),r=vv.apply(void 0,[n].concat(wt(t.map((function(e){return mv(e.key,e.operator,e.value)}))))),e.next=4,Ov(r);case 4:return i=e.sent,a=i.docs.map((function(e){return e.data()})),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)}))),cy.apply(this,arguments)}function fy(){return(fy=Pt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Av(Sp(Dv,"Wohnung"),t);case 2:e.sent.withConverter(Kv);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hy={getWohnung:function(){return sy.apply(this,arguments)},getWohnungWithParam:function(e,t){return ly.apply(this,arguments)},getWohnungWithParams:function(e){return cy.apply(this,arguments)},addWohnung:function(e){return fy.apply(this,arguments)}},dy=hy,py="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,vy=Object.keys,yy=Array.isArray;function my(e,t){return"object"!=typeof t||vy(t).forEach((function(n){e[n]=t[n]})),e}"undefined"==typeof Promise||py.Promise||(py.Promise=Promise);var gy=Object.getPrototypeOf,by={}.hasOwnProperty;function wy(e,t){return by.call(e,t)}function ky(e,t){"function"==typeof t&&(t=t(gy(e))),("undefined"==typeof Reflect?vy:Reflect.ownKeys)(t).forEach((function(n){Ey(e,n,t[n])}))}var _y=Object.defineProperty;function Ey(e,t,n,r){_y(e,t,my(n&&wy(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Sy(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Ey(e.prototype,"constructor",e),{extend:ky.bind(null,e.prototype)}}}}var xy=Object.getOwnPropertyDescriptor;function Cy(e,t){var n;return xy(e,t)||(n=gy(e))&&Cy(n,t)}var Ty=[].slice;function Iy(e,t,n){return Ty.call(e,t,n)}function Oy(e,t){return t(e)}function Ay(e){if(!e)throw new Error("Assertion Failed")}function Ny(e){py.setImmediate?setImmediate(e):setTimeout(e,0)}function Py(e,t){return e.reduce((function(e,n,r){var i=t(n,r);return i&&(e[i[0]]=i[1]),e}),{})}function Dy(e,t){if(wy(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,i=t.length;r<i;++r){var a=Dy(e,t[r]);n.push(a)}return n}var o=t.indexOf(".");if(-1!==o){var u=e[t.substr(0,o)];return void 0===u?void 0:Dy(u,t.substr(o+1))}}function Ry(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){Ay("string"!=typeof n&&"length"in n);for(var r=0,i=t.length;r<i;++r)Ry(e,t[r],n[r])}else{var a=t.indexOf(".");if(-1!==a){var o=t.substr(0,a),u=t.substr(a+1);if(""===u)void 0===n?yy(e)&&!isNaN(parseInt(o))?e.splice(o,1):delete e[o]:e[o]=n;else{var s=e[o];s&&wy(e,o)||(s=e[o]={}),Ry(s,u,n)}}else void 0===n?yy(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function Ly(e){var t={};for(var n in e)wy(e,n)&&(t[n]=e[n]);return t}var jy=[].concat;function My(e){return jy.apply([],e)}var Fy="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(My([8,16,32,64].map((function(e){return["Int","Uint","Float"].map((function(t){return t+e+"Array"}))})))).filter((function(e){return py[e]})),Uy=Fy.map((function(e){return py[e]}));Py(Fy,(function(e){return[e,!0]}));var Vy=null;function By(e){Vy="undefined"!=typeof WeakMap&&new WeakMap;var t=zy(e);return Vy=null,t}function zy(e){if(!e||"object"!=typeof e)return e;var t=Vy&&Vy.get(e);if(t)return t;if(yy(e)){t=[],Vy&&Vy.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(zy(e[n]))}else if(Uy.indexOf(e.constructor)>=0)t=e;else{var i=gy(e);for(var a in t=i===Object.prototype?{}:Object.create(i),Vy&&Vy.set(e,t),e)wy(e,a)&&(t[a]=zy(e[a]))}return t}var Ky={}.toString;function qy(e){return Ky.call(e).slice(8,-1)}var Wy="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",Hy="symbol"==typeof Wy?function(e){var t;return null!=e&&(t=e[Wy])&&t.apply(e)}:function(){return null},Qy={};function Gy(e){var t,n,r,i;if(1===arguments.length){if(yy(e))return e.slice();if(this===Qy&&"string"==typeof e)return[e];if(i=Hy(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var $y="undefined"!=typeof Symbol?function(e){return"AsyncFunction"===e[Symbol.toStringTag]}:function(){return!1},Yy="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Xy(e,t){Yy=e,Jy=t}var Jy=function(){return!0},Zy=!new Error("").stack;function em(){if(Zy)try{throw em.arguments,new Error}catch(e){return e}return new Error}function tm(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(Jy).map((function(e){return"\n"+e})).join("")):""}var nm=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],rm=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(nm),im={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function am(e,t){this._e=em(),this.name=e,this.message=t}function om(e,t){return e+". Errors: "+Object.keys(t).map((function(e){return t[e].toString()})).filter((function(e,t,n){return n.indexOf(e)===t})).join("\n")}function um(e,t,n,r){this._e=em(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=om(e,t)}function sm(e,t){this._e=em(),this.name="BulkError",this.failures=Object.keys(t).map((function(e){return t[e]})),this.failuresByPos=t,this.message=om(e,t)}Sy(am).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+tm(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Sy(um).from(am),Sy(sm).from(am);var lm=rm.reduce((function(e,t){return e[t]=t+"Error",e}),{}),cm=am,fm=rm.reduce((function(e,t){var n=t+"Error";function r(e,r){this._e=em(),this.name=n,e?"string"==typeof e?(this.message="".concat(e).concat(r?"\n "+r:""),this.inner=r||null):"object"==typeof e&&(this.message="".concat(e.name," ").concat(e.message),this.inner=e):(this.message=im[t]||n,this.inner=null)}return Sy(r).from(cm),e[t]=r,e}),{});fm.Syntax=SyntaxError,fm.Type=TypeError,fm.Range=RangeError;var hm=nm.reduce((function(e,t){return e[t+"Error"]=fm[t],e}),{}),dm=rm.reduce((function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=fm[t]),e}),{});function pm(){}function vm(e){return e}function ym(e,t){return null==e||e===vm?t:function(n){return t(e(n))}}function mm(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function gm(e,t){return e===pm?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?mm(r,this.onsuccess):r),i&&(this.onerror=this.onerror?mm(i,this.onerror):i),void 0!==a?a:n}}function bm(e,t){return e===pm?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?mm(n,this.onsuccess):n),r&&(this.onerror=this.onerror?mm(r,this.onerror):r)}}function wm(e,t){return e===pm?t:function(n){var r=e.apply(this,arguments);my(n,r);var i=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?mm(i,this.onsuccess):i),a&&(this.onerror=this.onerror?mm(a,this.onerror):a),void 0===r?void 0===o?void 0:o:my(r,o)}}function km(e,t){return e===pm?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function _m(e,t){return e===pm?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,i=arguments.length,a=new Array(i);i--;)a[i]=arguments[i];return n.then((function(){return t.apply(r,a)}))}return t.apply(this,arguments)}}dm.ModifyError=um,dm.DexieError=am,dm.BulkError=sm;var Em={},Sm="undefined"==typeof Promise?[]:function(){var e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,gy(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,gy(t),e]}(),xm=o(Sm,3),Cm=xm[0],Tm=xm[1],Im=xm[2],Om=Tm&&Tm.then,Am=Cm&&Cm.constructor,Nm=!!Im,Pm=!1,Dm=Im?function(){Im.then(ng)}:py.setImmediate?setImmediate.bind(null,ng):py.MutationObserver?function(){var e=document.createElement("div");new MutationObserver((function(){ng(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(ng,0)},Rm=function(e,t){Km.push([e,t]),jm&&(Dm(),jm=!1)},Lm=!0,jm=!0,Mm=[],Fm=[],Um=null,Vm=vm,Bm={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Cg,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(e){try{Cg(e[0],e[1])}catch(e){}}))}},zm=Bm,Km=[],qm=0,Wm=[];function Hm(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=pm,this._lib=!1;var t=this._PSD=zm;if(Yy&&(this._stackHolder=em(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==Em)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Ym(this,this._value))}this._state=null,this._value=null,++t.ref,$m(this,e)}var Qm={get:function(){var e=zm,t=hg;function n(n,r){var i=this,a=!e.global&&(e!==zm||t!==hg),o=a&&!yg(),u=new Hm((function(t,u){Jm(i,new Gm(Sg(n,e,a,o),Sg(r,e,a,o),t,u,e))}));return Yy&&tg(u,this),u}return n.prototype=Em,n},set:function(e){Ey(this,"then",e&&e.prototype===Em?Qm:{get:function(){return e},set:Qm.set})}};function Gm(e,t,n,r,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=i}function $m(e,t){try{t((function(t){if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&rg();t&&"function"==typeof t.then?$m(e,(function(e,n){t instanceof Hm?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,Xm(e)),n&&ig()}}),Ym.bind(null,e))}catch(t){Ym(e,t)}}function Ym(e,t){if(Fm.push(t),null===e._state){var n=e._lib&&rg();t=Vm(t),e._state=!1,e._value=t,Yy&&null!==t&&"object"==typeof t&&!t._promise&&function(e,t,n){try{e.apply(null,void 0)}catch(e){}}((function(){var n=Cy(t,"stack");t._promise=e,Ey(t,"stack",{get:function(){return Pm?n&&(n.get?n.get.apply(t):n.value):e.stack}})})),function(e){Mm.some((function(t){return t._value===e._value}))||Mm.push(e)}(e),Xm(e),n&&ig()}}function Xm(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Jm(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),0===qm&&(++qm,Rm((function(){0==--qm&&ag()}),[]))}function Jm(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++qm,Rm(Zm,[n,e,t])}else e._listeners.push(t)}function Zm(e,t,n){try{Um=t;var r,i=t._value;t._state?r=e(i):(Fm.length&&(Fm=[]),r=e(i),-1===Fm.indexOf(i)&&function(e){for(var t=Mm.length;t;)if(Mm[--t]._value===e._value)return void Mm.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{Um=null,0==--qm&&ag(),--n.psd.ref||n.psd.finalize()}}function eg(e,t,n){if(t.length===n)return t;var r="";if(!1===e._state){var i,a,o=e._value;null!=o?(i=o.name||"Error",a=o.message||o,r=tm(o,0)):(i=o,a=""),t.push(i+(a?": "+a:"")+r)}return Yy&&((r=tm(e._stackHolder,2))&&-1===t.indexOf(r)&&t.push(r),e._prev&&eg(e._prev,t,n)),t}function tg(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function ng(){rg()&&ig()}function rg(){var e=Lm;return Lm=!1,jm=!1,e}function ig(){var e,t,n;do{for(;Km.length>0;)for(e=Km,Km=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(Km.length>0);Lm=!0,jm=!0}function ag(){var e=Mm;Mm=[],e.forEach((function(e){e._PSD.onunhandled.call(null,e._value,e)}));for(var t=Wm.slice(0),n=t.length;n;)t[--n]()}function og(e){return new Hm(Em,!1,e)}function ug(e,t){var n=zm;return function(){var r=rg(),i=zm;try{return wg(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{wg(i,!1),r&&ig()}}}ky(Hm.prototype,{then:Qm,_then:function(e,t){Jm(this,new Gm(null,null,e,t,zm))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,(function(e){return e instanceof t?n(e):og(e)})):this.then(null,(function(e){return e&&e.name===t?n(e):og(e)}))},finally:function(e){return this.then((function(t){return e(),t}),(function(t){return e(),og(t)}))},stack:{get:function(){if(this._stack)return this._stack;try{Pm=!0;var e=eg(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{Pm=!1}}},timeout:function(e,t){var n=this;return e<1/0?new Hm((function(r,i){var a=setTimeout((function(){return i(new fm.Timeout(t))}),e);n.then(r,i).finally(clearTimeout.bind(null,a))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&Ey(Hm.prototype,Symbol.toStringTag,"Dexie.Promise"),Bm.env=kg(),ky(Hm,{all:function(){var e=Gy.apply(null,arguments).map(mg);return new Hm((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach((function(i,a){return Hm.resolve(i).then((function(n){e[a]=n,--r||t(e)}),n)}))}))},resolve:function(e){if(e instanceof Hm)return e;if(e&&"function"==typeof e.then)return new Hm((function(t,n){e.then(t,n)}));var t=new Hm(Em,!0,e);return tg(t,Um),t},reject:og,race:function(){var e=Gy.apply(null,arguments).map(mg);return new Hm((function(t,n){e.map((function(e){return Hm.resolve(e).then(t,n)}))}))},PSD:{get:function(){return zm},set:function(e){return zm=e}},totalEchoes:{get:function(){return hg}},newPSD:pg,usePSD:_g,scheduler:{get:function(){return Rm},set:function(e){Rm=e}},rejectionMapper:{get:function(){return Vm},set:function(e){Vm=e}},follow:function(e,t){return new Hm((function(n,r){return pg((function(t,n){var r=zm;r.unhandleds=[],r.onunhandled=n,r.finalize=mm((function(){var e=this;!function(e){Wm.push((function t(){e(),Wm.splice(Wm.indexOf(t),1)})),++qm,Rm((function(){0==--qm&&ag()}),[])}((function(){0===e.unhandleds.length?t():n(e.unhandleds[0])}))}),r.finalize),e()}),t,n,r)}))}}),Am&&(Am.allSettled&&Ey(Hm,"allSettled",(function(){var e=Gy.apply(null,arguments).map(mg);return new Hm((function(t){0===e.length&&t([]);var n=e.length,r=new Array(n);e.forEach((function(e,i){return Hm.resolve(e).then((function(e){return r[i]={status:"fulfilled",value:e}}),(function(e){return r[i]={status:"rejected",reason:e}})).then((function(){return--n||t(r)}))}))}))})),Am.any&&"undefined"!=typeof AggregateError&&Ey(Hm,"any",(function(){var e=Gy.apply(null,arguments).map(mg);return new Hm((function(t,n){0===e.length&&n(new AggregateError([]));var r=e.length,i=new Array(r);e.forEach((function(e,a){return Hm.resolve(e).then((function(e){return t(e)}),(function(e){i[a]=e,--r||n(new AggregateError(i))}))}))}))})));var sg={awaits:0,echoes:0,id:0},lg=0,cg=[],fg=0,hg=0,dg=0;function pg(e,t,n,r){var i=zm,a=Object.create(i);a.parent=i,a.ref=0,a.global=!1,a.id=++dg;var o=Bm.env;a.env=Nm?{Promise:Hm,PromiseProp:{value:Hm,configurable:!0,writable:!0},all:Hm.all,race:Hm.race,allSettled:Hm.allSettled,any:Hm.any,resolve:Hm.resolve,reject:Hm.reject,nthen:xg(o.nthen,a),gthen:xg(o.gthen,a)}:{},t&&my(a,t),++i.ref,a.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=_g(a,e,n,r);return 0===a.ref&&a.finalize(),u}function vg(){return sg.id||(sg.id=++lg),++sg.awaits,sg.echoes+=100,sg.id}function yg(){return!!sg.awaits&&(0==--sg.awaits&&(sg.id=0),sg.echoes=100*sg.awaits,!0)}function mg(e){return sg.echoes&&e&&e.constructor===Am?(vg(),e.then((function(e){return yg(),e}),(function(e){return yg(),Tg(e)}))):e}function gg(e){++hg,sg.echoes&&0!=--sg.echoes||(sg.echoes=sg.id=0),cg.push(zm),wg(e,!0)}function bg(){var e=cg[cg.length-1];cg.pop(),wg(e,!1)}function wg(e,t){var n=zm;if((t?!sg.echoes||fg++&&e===zm:!fg||--fg&&e===zm)||Eg(t?gg.bind(null,e):bg),e!==zm&&(zm=e,n===Bm&&(Bm.env=kg()),Nm)){var r=Bm.env.Promise,i=e.env;Tm.then=i.nthen,r.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(py,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function kg(){var e=py.Promise;return Nm?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(py,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Tm.then,gthen:e.prototype.then}:{}}function _g(e,t,n,r,i){var a=zm;try{return wg(e,!0),t(n,r,i)}finally{wg(a,!1)}}function Eg(e){Om.call(Cm,e)}function Sg(e,t,n,r){return"function"!=typeof e?e:function(){var i=zm;n&&vg(),wg(t,!0);try{return e.apply(this,arguments)}finally{wg(i,!1),r&&Eg(yg)}}}function xg(e,t){return function(n,r){return e.call(this,Sg(n,t),Sg(r,t))}}function Cg(e,t){var n;try{n=t.onuncatched(e)}catch(a){}if(!1!==n)try{var r,i={promise:t,reason:e};if(py.document&&document.createEvent?((r=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),my(r,i)):py.CustomEvent&&my(r=new CustomEvent("unhandledrejection",{detail:i}),i),r&&py.dispatchEvent&&(dispatchEvent(r),!py.PromiseRejectionEvent&&py.onunhandledrejection))try{py.onunhandledrejection(r)}catch(a){}Yy&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: ".concat(e.stack||e))}catch(a){}}-1===(""+Om).indexOf("[native code]")&&(vg=yg=pm);var Tg=Hm.reject;function Ig(e,t,n,r){if(e.idbdb&&(e._state.openComplete||zm.letThrough||e._vip)){var i=e._createTransaction(t,n,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(i){return i.name===lm.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((function(){return Ig(e,t,n,r)}))):Tg(i)}return i._promise(t,(function(e,t){return pg((function(){return zm.trans=i,r(e,t,i)}))})).then((function(e){return i._completion.then((function(){return e}))}))}if(e._state.openComplete)return Tg(new fm.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return Tg(new fm.DatabaseClosed);e.open().catch(pm)}return e._state.dbReadyPromise.then((function(){return Ig(e,t,n,r)}))}var Og=String.fromCharCode(65535),Ag="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ng=[],Pg="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Dg=Pg,Rg=Pg,Lg=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)};function jg(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var Mg={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Fg(e){return"string"!=typeof e||/\./.test(e)?function(e){return e}:function(t){return void 0===t[e]&&e in t&&delete(t=By(t))[e],t}}var Ug=function(){function e(){qt(this,e)}return Ht(e,[{key:"_trans",value:function(e,t,n){var r=this._tx||zm.trans,i=this.name;function a(e,n,r){if(!r.schema[i])throw new fm.NotFound("Table "+i+" not part of transaction");return t(r.idbtrans,r)}var o=rg();try{return r&&r.db===this.db?r===zm.trans?r._promise(e,a,n):pg((function(){return r._promise(e,a,n)}),{trans:r,transless:zm.transless||zm}):Ig(this.db,e,[this.name],a)}finally{o&&ig()}}},{key:"get",value:function(e,t){var n=this;return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(function(t){return n.core.get({trans:t,key:e}).then((function(e){return n.hook.reading.fire(e)}))})).then(t)}},{key:"where",value:function(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(yy(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var t=vy(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter((function(e){return e.compound&&t.every((function(t){return e.keyPath.indexOf(t)>=0}))&&e.keyPath.every((function(e){return t.indexOf(e)>=0}))}))[0];if(n&&this.db._maxKey!==Og)return this.where(n.name).equals(n.keyPath.map((function(t){return e[t]})));!n&&Yy&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit of a compound index [").concat(t.join("+"),"]"));var r=this.schema.idxByName,i=this.db._deps.indexedDB;function a(e,t){try{return 0===i.cmp(e,t)}catch(e){return!1}}var u=t.reduce((function(t,n){var i=o(t,2),u=i[0],s=i[1],l=r[n],c=e[n];return[u||l,u||!l?jg(s,l&&l.multi?function(e){var t=Dy(e,n);return yy(t)&&t.some((function(e){return a(c,e)}))}:function(e){return a(c,Dy(e,n))}):s]}),[null,null]),s=o(u,2),l=s[0],c=s[1];return l?this.where(l.name).equals(e[l.keyPath]).filter(c):n?this.filter(c):this.where(t).equals("")}},{key:"filter",value:function(e){return this.toCollection().and(e)}},{key:"count",value:function(e){return this.toCollection().count(e)}},{key:"offset",value:function(e){return this.toCollection().offset(e)}},{key:"limit",value:function(e){return this.toCollection().limit(e)}},{key:"each",value:function(e){return this.toCollection().each(e)}},{key:"toArray",value:function(e){return this.toCollection().toArray(e)}},{key:"toCollection",value:function(){return new this.db.Collection(new this.db.WhereClause(this))}},{key:"orderBy",value:function(e){return new this.db.Collection(new this.db.WhereClause(this,yy(e)?"[".concat(e.join("+"),"]"):e))}},{key:"reverse",value:function(){return this.toCollection().reverse()}},{key:"mapToClass",value:function(e){this.schema.mappedClass=e;var t=function(t){if(!t)return t;var n=Object.create(e.prototype);for(var r in t)if(wy(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e}},{key:"defineClass",value:function(){return this.mapToClass((function(e){my(this,e)}))}},{key:"add",value:function(e,t){var n=this,r=this.schema.primKey,i=r.auto,a=r.keyPath,o=e;return a&&i&&(o=Fg(a)(e)),this._trans("readwrite",(function(e){return n.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[o]})})).then((function(e){return e.numFailures?Hm.reject(e.failures[0]):e.lastResult})).then((function(t){if(a)try{Ry(e,a,t)}catch(e){}return t}))}},{key:"update",value:function(e,t){if("object"!=typeof e||yy(e))return this.where(":id").equals(e).modify(t);var n=Dy(e,this.schema.primKey.keyPath);if(void 0===n)return Tg(new fm.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof t?vy(t).forEach((function(n){Ry(e,n,t[n])})):t(e,{value:e,primKey:n})}catch(e){}return this.where(":id").equals(n).modify(t)}},{key:"put",value:function(e,t){var n=this,r=this.schema.primKey,i=r.auto,a=r.keyPath,o=e;return a&&i&&(o=Fg(a)(e)),this._trans("readwrite",(function(e){return n.core.mutate({trans:e,type:"put",values:[o],keys:null!=t?[t]:null})})).then((function(e){return e.numFailures?Hm.reject(e.failures[0]):e.lastResult})).then((function(t){if(a)try{Ry(e,a,t)}catch(e){}return t}))}},{key:"delete",value:function(e){var t=this;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:[e]})})).then((function(e){return e.numFailures?Hm.reject(e.failures[0]):void 0}))}},{key:"clear",value:function(){var e=this;return this._trans("readwrite",(function(t){return e.core.mutate({trans:t,type:"deleteRange",range:Mg})})).then((function(e){return e.numFailures?Hm.reject(e.failures[0]):void 0}))}},{key:"bulkGet",value:function(e){var t=this;return this._trans("readonly",(function(n){return t.core.getMany({keys:e,trans:n}).then((function(e){return e.map((function(e){return t.hook.reading.fire(e)}))}))}))}},{key:"bulkAdd",value:function(e,t,n){var r=this,i=Array.isArray(t)?t:void 0,a=(n=n||(i?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(function(t){var n=r.schema.primKey,o=n.auto,u=n.keyPath;if(u&&i)throw new fm.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new fm.InvalidArgument("Arguments objects and keys must have the same length");var s=e.length,l=u&&o?e.map(Fg(u)):e;return r.core.mutate({trans:t,type:"add",keys:i,values:l,wantResults:a}).then((function(e){var t=e.numFailures,n=e.results,i=e.lastResult,o=e.failures;if(0===t)return a?n:i;throw new sm("".concat(r.name,".bulkAdd(): ").concat(t," of ").concat(s," operations failed"),o)}))}))}},{key:"bulkPut",value:function(e,t,n){var r=this,i=Array.isArray(t)?t:void 0,a=(n=n||(i?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(function(t){var n=r.schema.primKey,o=n.auto,u=n.keyPath;if(u&&i)throw new fm.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new fm.InvalidArgument("Arguments objects and keys must have the same length");var s=e.length,l=u&&o?e.map(Fg(u)):e;return r.core.mutate({trans:t,type:"put",keys:i,values:l,wantResults:a}).then((function(e){var t=e.numFailures,n=e.results,i=e.lastResult,o=e.failures;if(0===t)return a?n:i;throw new sm("".concat(r.name,".bulkPut(): ").concat(t," of ").concat(s," operations failed"),o)}))}))}},{key:"bulkDelete",value:function(e){var t=this,n=e.length;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:e})})).then((function(e){var r=e.numFailures,i=e.lastResult,a=e.failures;if(0===r)return i;throw new sm("".concat(t.name,".bulkDelete(): ").concat(r," of ").concat(n," operations failed"),a)}))}}]),e}();function Vg(e){var t={},n=function(n,r){if(r){for(var i=arguments.length,a=new Array(i-1);--i;)a[i-1]=arguments[i];return t[n].subscribe.apply(null,a),e}if("string"==typeof n)return t[n]};n.addEventType=a;for(var r=1,i=arguments.length;r<i;++r)a(arguments[r]);return n;function a(e,r,i){if("object"==typeof e)return o(e);r||(r=km),i||(i=pm);var a={subscribers:[],fire:i,subscribe:function(e){-1===a.subscribers.indexOf(e)&&(a.subscribers.push(e),a.fire=r(a.fire,e))},unsubscribe:function(e){a.subscribers=a.subscribers.filter((function(t){return t!==e})),a.fire=a.subscribers.reduce(r,i)}};return t[e]=n[e]=a,a}function o(e){vy(e).forEach((function(t){var n=e[t];if(yy(n))a(t,e[t][0],e[t][1]);else{if("asap"!==n)throw new fm.InvalidArgument("Invalid event config");var r=a(t,vm,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach((function(e){Ny((function(){e.apply(null,t)}))}))}))}}))}}function Bg(e,t){return Sy(t).from({prototype:e}),t}function zg(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Kg(e,t){e.filter=jg(e.filter,t)}function qg(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return jg(r(),t())}:t,e.justLimit=n&&!r}function Wg(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new fm.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function Hg(e,t,n){var r=Wg(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function Qg(e,t,n,r){var i=e.replayFilter?jg(e.filter,e.replayFilter()):e.filter;if(e.or){var a={},o=function(e,n,r){if(!i||i(n,r,(function(e){return n.stop(e)}),(function(e){return n.fail(e)}))){var o=n.primaryKey,u=""+o;"[object ArrayBuffer]"===u&&(u=""+new Uint8Array(o)),wy(a,u)||(a[u]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(o,n),Gg(Hg(e,r,n),e.algorithm,o,!e.keysOnly&&e.valueMapper)])}return Gg(Hg(e,r,n),jg(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function Gg(e,t,n,r){var i=ug(r?function(e,t,i){return n(r(e),t,i)}:n);return e.then((function(e){if(e)return e.start((function(){var n=function(){return e.continue()};t&&!t(e,(function(e){return n=e}),(function(t){e.stop(t),n=pm}),(function(t){e.fail(t),n=pm}))||i(e.value,e,(function(e){return n=e})),n()}))}))}function $g(e,t){try{var n=Yg(e),r=Yg(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){for(var n=e.length,r=t.length,i=n<r?n:r,a=0;a<i;++a)if(e[a]!==t[a])return e[a]<t[a]?-1:1;return n===r?0:n<r?-1:1}(Xg(e),Xg(t));case"Array":return function(e,t){for(var n=e.length,r=t.length,i=n<r?n:r,a=0;a<i;++a){var o=$g(e[a],t[a]);if(0!==o)return o}return n===r?0:n<r?-1:1}(e,t)}}catch(e){}return NaN}function Yg(e){var t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";var n=qy(e);return"ArrayBuffer"===n?"binary":n}function Xg(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var Jg=function(){function e(){qt(this,e)}return Ht(e,[{key:"_read",value:function(e,t){var n=this._ctx;return n.error?n.table._trans(null,Tg.bind(null,n.error)):n.table._trans("readonly",e).then(t)}},{key:"_write",value:function(e){var t=this._ctx;return t.error?t.table._trans(null,Tg.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}},{key:"_addAlgorithm",value:function(e){var t=this._ctx;t.algorithm=jg(t.algorithm,e)}},{key:"_iterate",value:function(e,t){return Qg(this._ctx,e,t,this._ctx.table.core)}},{key:"clone",value:function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&my(n,e),t._ctx=n,t}},{key:"raw",value:function(){return this._ctx.valueMapper=null,this}},{key:"each",value:function(e){var t=this._ctx;return this._read((function(n){return Qg(t,e,n,t.table.core)}))}},{key:"count",value:function(e){var t=this;return this._read((function(e){var n=t._ctx,r=n.table.core;if(zg(n,!0))return r.count({trans:e,query:{index:Wg(n,r.schema),range:n.range}}).then((function(e){return Math.min(e,n.limit)}));var i=0;return Qg(n,(function(){return++i,!1}),e,r).then((function(){return i}))})).then(e)}},{key:"sortBy",value:function(e,t){var n=e.split(".").reverse(),r=n[0],i=n.length-1;function a(e,t){return t?a(e[n[t]],t-1):e[r]}var o="next"===this._ctx.dir?1:-1;function u(e,t){var n=a(e,i),r=a(t,i);return n<r?-o:n>r?o:0}return this.toArray((function(e){return e.sort(u)})).then(t)}},{key:"toArray",value:function(e){var t=this;return this._read((function(e){var n=t._ctx;if("next"===n.dir&&zg(n,!0)&&n.limit>0){var r=n.valueMapper,i=Wg(n,n.table.core.schema);return n.table.core.query({trans:e,limit:n.limit,values:!0,query:{index:i,range:n.range}}).then((function(e){var t=e.result;return r?t.map(r):t}))}var a=[];return Qg(n,(function(e){return a.push(e)}),e,n.table.core).then((function(){return a}))}),e)}},{key:"offset",value:function(e){var t=this._ctx;return e<=0||(t.offset+=e,zg(t)?qg(t,(function(){var t=e;return function(e,n){return 0===t||(1===t?(--t,!1):(n((function(){e.advance(t),t=0})),!1))}})):qg(t,(function(){var t=e;return function(){return--t<0}}))),this}},{key:"limit",value:function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),qg(this._ctx,(function(){var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this}},{key:"until",value:function(e,t){return Kg(this._ctx,(function(n,r,i){return!e(n.value)||(r(i),t)})),this}},{key:"first",value:function(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)}},{key:"last",value:function(e){return this.reverse().first(e)}},{key:"filter",value:function(e){var t,n;return Kg(this._ctx,(function(t){return e(t.value)})),t=this._ctx,n=e,t.isMatch=jg(t.isMatch,n),this}},{key:"and",value:function(e){return this.filter(e)}},{key:"or",value:function(e){return new this.db.WhereClause(this._ctx.table,e,this)}},{key:"reverse",value:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}},{key:"desc",value:function(){return this.reverse()}},{key:"eachKey",value:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))}},{key:"eachUniqueKey",value:function(e){return this._ctx.unique="unique",this.eachKey(e)}},{key:"eachPrimaryKey",value:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))}},{key:"keys",value:function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)}},{key:"primaryKeys",value:function(e){var t=this._ctx;if("next"===t.dir&&zg(t,!0)&&t.limit>0)return this._read((function(e){var n=Wg(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((function(e){return e.result})).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)}},{key:"uniqueKeys",value:function(e){return this._ctx.unique="unique",this.keys(e)}},{key:"firstKey",value:function(e){return this.limit(1).keys((function(e){return e[0]})).then(e)}},{key:"lastKey",value:function(e){return this.reverse().firstKey(e)}},{key:"distinct",value:function(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return Kg(this._ctx,(function(e){var t=e.primaryKey.toString(),r=wy(n,t);return n[t]=!0,!r})),this}},{key:"modify",value:function(e){var t=this,n=this._ctx;return this._write((function(r){var i;if("function"==typeof e)i=e;else{var a=vy(e),o=a.length;i=function(t){for(var n=!1,r=0;r<o;++r){var i=a[r],u=e[i];Dy(t,i)!==u&&(Ry(t,i,u),n=!0)}return n}}var u=n.table.core,s=u.schema.primaryKey,l=s.outbound,c=s.extractKey,f=t.db._options.modifyChunkSize||200,h=[],d=0,p=[],v=function(e,t){var n=t.failures,r=t.numFailures;d+=e-r;var i,a=Ut(vy(n));try{for(a.s();!(i=a.n()).done;){var o=i.value;h.push(n[o])}}catch(u){a.e(u)}finally{a.f()}};return t.clone().primaryKeys().then((function(t){return function a(o){var s=Math.min(f,t.length-o);return u.getMany({trans:r,keys:t.slice(o,o+s),cache:"immutable"}).then((function(h){for(var d=[],p=[],y=l?[]:null,m=[],g=0;g<s;++g){var b=h[g],w={value:By(b),primKey:t[o+g]};!1!==i.call(w,w.value,w)&&(null==w.value?m.push(t[o+g]):l||0===$g(c(b),c(w.value))?(p.push(w.value),l&&y.push(t[o+g])):(m.push(t[o+g]),d.push(w.value)))}var k=zg(n)&&n.limit===1/0&&("function"!=typeof e||e===Zg)&&{index:n.index,range:n.range};return Promise.resolve(d.length>0&&u.mutate({trans:r,type:"add",values:d}).then((function(e){for(var t in e.failures)m.splice(parseInt(t),1);v(d.length,e)}))).then((function(){return(p.length>0||k&&"object"==typeof e)&&u.mutate({trans:r,type:"put",keys:y,values:p,criteria:k,changeSpec:"function"!=typeof e&&e}).then((function(e){return v(p.length,e)}))})).then((function(){return(m.length>0||k&&e===Zg)&&u.mutate({trans:r,type:"delete",keys:m,criteria:k}).then((function(e){return v(m.length,e)}))})).then((function(){return t.length>o+s&&a(o+f)}))}))}(0).then((function(){if(h.length>0)throw new um("Error modifying one or more objects",h,d,p);return t.length}))}))}))}},{key:"delete",value:function(){var e=this._ctx,t=e.range;return zg(e)&&(e.isPrimKey&&!Rg||3===t.type)?this._write((function(n){var r=e.table.core.schema.primaryKey,i=t;return e.table.core.count({trans:n,query:{index:r,range:i}}).then((function(t){return e.table.core.mutate({trans:n,type:"deleteRange",range:i}).then((function(e){var n=e.failures,r=(e.lastResult,e.results,e.numFailures);if(r)throw new um("Could not delete some values",Object.keys(n).map((function(e){return n[e]})),t-r);return t-r}))}))})):this.modify(Zg)}}]),e}(),Zg=function(e,t){return t.value=null};function eb(e,t){return e<t?-1:e===t?0:1}function tb(e,t){return e>t?-1:e===t?0:1}function nb(e,t,n){var r=e instanceof sb?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function rb(e){return new e.Collection(e,(function(){return ub("")})).limit(0)}function ib(e,t,n,r,i,a){for(var o=Math.min(e.length,r.length),u=-1,s=0;s<o;++s){var l=t[s];if(l!==r[s])return i(e[s],n[s])<0?e.substr(0,s)+n[s]+n.substr(s+1):i(e[s],r[s])<0?e.substr(0,s)+r[s]+n.substr(s+1):u>=0?e.substr(0,u)+t[u]+n.substr(u+1):null;i(e[s],l)<0&&(u=s)}return o<r.length&&"next"===a?e+n.substr(e.length):o<e.length&&"prev"===a?e.substr(0,n.length):u<0?null:e.substr(0,u)+r[u]+n.substr(u+1)}function ab(e,t,n,r){var i,a,o,u,s,l,c,f=n.length;if(!n.every((function(e){return"string"==typeof e})))return nb(e,"String expected.");function h(e){i=function(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}(e),a=function(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}(e),o="next"===e?eb:tb;var t=n.map((function(e){return{lower:a(e),upper:i(e)}})).sort((function(e,t){return o(e.lower,t.lower)}));u=t.map((function(e){return e.upper})),s=t.map((function(e){return e.lower})),l=e,c="next"===e?"":r}h("next");var d=new e.Collection(e,(function(){return ob(u[0],s[f-1]+r)}));d._ondirectionchange=function(e){h(e)};var p=0;return d._addAlgorithm((function(e,n,r){var i=e.key;if("string"!=typeof i)return!1;var h=a(i);if(t(h,s,p))return!0;for(var d=null,v=p;v<f;++v){var y=ib(i,h,u[v],s[v],o,l);null===y&&null===d?p=v+1:(null===d||o(d,y)>0)&&(d=y)}return n(null!==d?function(){e.continue(d+c)}:r),!1})),d}function ob(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function ub(e){return{type:1,lower:e,upper:e}}var sb=function(){function e(){qt(this,e)}return Ht(e,[{key:"Collection",get:function(){return this._ctx.table.db.Collection}},{key:"between",value:function(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?rb(this):new this.Collection(this,(function(){return ob(e,t,!n,!r)}))}catch(e){return nb(this,Ag)}}},{key:"equals",value:function(e){return null==e?nb(this,Ag):new this.Collection(this,(function(){return ub(e)}))}},{key:"above",value:function(e){return null==e?nb(this,Ag):new this.Collection(this,(function(){return ob(e,void 0,!0)}))}},{key:"aboveOrEqual",value:function(e){return null==e?nb(this,Ag):new this.Collection(this,(function(){return ob(e,void 0,!1)}))}},{key:"below",value:function(e){return null==e?nb(this,Ag):new this.Collection(this,(function(){return ob(void 0,e,!1,!0)}))}},{key:"belowOrEqual",value:function(e){return null==e?nb(this,Ag):new this.Collection(this,(function(){return ob(void 0,e)}))}},{key:"startsWith",value:function(e){return"string"!=typeof e?nb(this,"String expected."):this.between(e,e+Og,!0,!0)}},{key:"startsWithIgnoreCase",value:function(e){return""===e?this.startsWith(e):ab(this,(function(e,t){return 0===e.indexOf(t[0])}),[e],Og)}},{key:"equalsIgnoreCase",value:function(e){return ab(this,(function(e,t){return e===t[0]}),[e],"")}},{key:"anyOfIgnoreCase",value:function(){var e=Gy.apply(Qy,arguments);return 0===e.length?rb(this):ab(this,(function(e,t){return-1!==t.indexOf(e)}),e,"")}},{key:"startsWithAnyOfIgnoreCase",value:function(){var e=Gy.apply(Qy,arguments);return 0===e.length?rb(this):ab(this,(function(e,t){return t.some((function(t){return 0===e.indexOf(t)}))}),e,Og)}},{key:"anyOf",value:function(){var e=this,t=Gy.apply(Qy,arguments),n=this._cmp;try{t.sort(n)}catch(t){return nb(this,Ag)}if(0===t.length)return rb(this);var r=new this.Collection(this,(function(){return ob(t[0],t[t.length-1])}));r._ondirectionchange=function(r){n="next"===r?e._ascending:e._descending,t.sort(n)};var i=0;return r._addAlgorithm((function(e,r,a){for(var o=e.key;n(o,t[i])>0;)if(++i===t.length)return r(a),!1;return 0===n(o,t[i])||(r((function(){e.continue(t[i])})),!1)})),r}},{key:"notEqual",value:function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}},{key:"noneOf",value:function(){var e=Gy.apply(Qy,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return nb(this,Ag)}var t=e.reduce((function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]}),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}},{key:"inAnyRange",value:function(e,t){var n=this,r=this._cmp,i=this._ascending,a=this._descending,o=this._min,u=this._max;if(0===e.length)return rb(this);if(!e.every((function(e){return void 0!==e[0]&&void 0!==e[1]&&i(e[0],e[1])<=0})))return nb(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",fm.InvalidArgument);var s,l=!t||!1!==t.includeLowers,c=t&&!0===t.includeUppers,f=i;function h(e,t){return f(e[0],t[0])}try{s=e.reduce((function(e,t){for(var n=0,i=e.length;n<i;++n){var a=e[n];if(r(t[0],a[1])<0&&r(t[1],a[0])>0){a[0]=o(a[0],t[0]),a[1]=u(a[1],t[1]);break}}return n===i&&e.push(t),e}),[]),s.sort(h)}catch(e){return nb(this,Ag)}var d=0,p=c?function(e){return i(e,s[d][1])>0}:function(e){return i(e,s[d][1])>=0},v=l?function(e){return a(e,s[d][0])>0}:function(e){return a(e,s[d][0])>=0},y=p,m=new this.Collection(this,(function(){return ob(s[0][0],s[s.length-1][1],!l,!c)}));return m._ondirectionchange=function(e){"next"===e?(y=p,f=i):(y=v,f=a),s.sort(h)},m._addAlgorithm((function(e,t,r){for(var a=e.key;y(a);)if(++d===s.length)return t(r),!1;return!!function(e){return!p(e)&&!v(e)}(a)||(0===n._cmp(a,s[d][1])||0===n._cmp(a,s[d][0])||t((function(){f===i?e.continue(s[d][0]):e.continue(s[d][1])})),!1)})),m}},{key:"startsWithAnyOf",value:function(){var e=Gy.apply(Qy,arguments);return e.every((function(e){return"string"==typeof e}))?0===e.length?rb(this):this.inAnyRange(e.map((function(e){return[e,e+Og]}))):nb(this,"startsWithAnyOf() only works with strings")}}]),e}();function lb(e){return ug((function(t){return cb(t),e(t.target.error),!1}))}function cb(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var fb=Vg(null,"storagemutated"),hb=function(){function e(){qt(this,e)}return Ht(e,[{key:"_lock",value:function(){return Ay(!zm.global),++this._reculock,1!==this._reculock||zm.global||(zm.lockOwnerFor=this),this}},{key:"_unlock",value:function(){if(Ay(!zm.global),0==--this._reculock)for(zm.global||(zm.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{_g(e[1],e[0])}catch(e){}}return this}},{key:"_locked",value:function(){return this._reculock&&zm.lockOwnerFor!==this}},{key:"create",value:function(e){var t=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(Ay(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new fm.DatabaseClosed(r);case"MissingAPIError":throw new fm.MissingAPI(r.message,r);default:throw new fm.OpenFailed(r)}if(!this.active)throw new fm.TransactionInactive;return Ay(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=ug((function(n){cb(n),t._reject(e.error)})),e.onabort=ug((function(n){cb(n),t.active&&t._reject(new fm.Abort(e.error)),t.active=!1,t.on("abort").fire(n)})),e.oncomplete=ug((function(){t.active=!1,t._resolve(),"mutatedParts"in e&&fb.storagemutated.fire(e.mutatedParts)})),this}},{key:"_promise",value:function(e,t,n){var r=this;if("readwrite"===e&&"readwrite"!==this.mode)return Tg(new fm.ReadOnly("Transaction is readonly"));if(!this.active)return Tg(new fm.TransactionInactive);if(this._locked())return new Hm((function(i,a){r._blockedFuncs.push([function(){r._promise(e,t,n).then(i,a)},zm])}));if(n)return pg((function(){var e=new Hm((function(e,n){r._lock();var i=t(e,n,r);i&&i.then&&i.then(e,n)}));return e.finally((function(){return r._unlock()})),e._lib=!0,e}));var i=new Hm((function(e,n){var i=t(e,n,r);i&&i.then&&i.then(e,n)}));return i._lib=!0,i}},{key:"_root",value:function(){return this.parent?this.parent._root():this}},{key:"waitFor",value:function(e){var t=this._root(),n=Hm.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((function(){return n}));else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var i=t._waitingFor;return new Hm((function(e,r){n.then((function(n){return t._waitingQueue.push(ug(e.bind(null,n)))}),(function(e){return t._waitingQueue.push(ug(r.bind(null,e)))})).finally((function(){t._waitingFor===i&&(t._waitingFor=null)}))}))}},{key:"abort",value:function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new fm.Abort))}},{key:"table",value:function(e){var t=this._memoizedTables||(this._memoizedTables={});if(wy(t,e))return t[e];var n=this.schema[e];if(!n)throw new fm.NotFound("Table "+e+" not part of transaction");var r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r}}]),e}();function db(e,t,n,r,i,a,o){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:a,src:(n&&!o?"&":"")+(r?"*":"")+(i?"++":"")+pb(t)}}function pb(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function vb(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:Py(n,(function(e){return[e.name,e]}))}}var yb=function(e){try{return e.only([[]]),yb=function(){return[[]]},[[]]}catch(e){return yb=function(){return Og},Og}};function mb(e){return null==e?function(){}:"string"==typeof e?function(e){return 1===e.split(".").length?function(t){return t[e]}:function(t){return Dy(t,e)}}(e):function(t){return Dy(t,e)}}function gb(e){return[].slice.call(e)}var bb=0;function wb(e){return null==e?":id":"string"==typeof e?e:"[".concat(e.join("+"),"]")}function kb(e,t){var n=e._novip,r=t.db,i=function(e,t,n,r){var i=n.IDBKeyRange,a=(n.indexedDB,function(e,t){return t.reduce((function(e,t){var n=t.create;return Ee(Ee({},e),n(e))}),e)}(function(e,t,n){function r(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");var n=e.lower,r=e.upper,i=e.lowerOpen,a=e.upperOpen;return void 0===n?void 0===r?null:t.upperBound(r,!!a):void 0===r?t.lowerBound(n,!!i):t.bound(n,r,!!i,!!a)}var i=function(e,t){var n=gb(e.objectStoreNames);return{schema:{name:e.name,tables:n.map((function(e){return t.objectStore(e)})).map((function(e){var t=e.keyPath,n=e.autoIncrement,r=yy(t),i=null==t,a={},o={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:i,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:mb(t)},indexes:gb(e.indexNames).map((function(t){return e.index(t)})).map((function(e){var t=e.name,n=e.unique,r=e.multiEntry,i=e.keyPath,o={name:t,compound:yy(i),keyPath:i,unique:n,multiEntry:r,extractKey:mb(i)};return a[wb(i)]=o,o})),getIndexByKeyPath:function(e){return a[wb(e)]}};return a[":id"]=o.primaryKey,null!=t&&(a[wb(t)]=o.primaryKey),o}))},hasGetAll:n.length>0&&"getAll"in t.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),a=i.schema,u=i.hasGetAll,s=a.tables.map((function(e){return function(e){var t=e.name;return{name:t,schema:e,mutate:function(e){var n=e.trans,i=e.type,a=e.keys,u=e.values,s=e.range;return new Promise((function(e,l){e=ug(e);var c=n.objectStore(t),f=null==c.keyPath,h="put"===i||"add"===i;if(!h&&"delete"!==i&&"deleteRange"!==i)throw new Error("Invalid operation type: "+i);var d,p=(a||u||{length:1}).length;if(a&&u&&a.length!==u.length)throw new Error("Given keys array must have same length as given values array.");if(0===p)return e({numFailures:0,failures:{},results:[],lastResult:void 0});var v=[],y=[],m=0,g=function(e){++m,cb(e)};if("deleteRange"===i){if(4===s.type)return e({numFailures:m,failures:y,results:[],lastResult:void 0});3===s.type?v.push(d=c.clear()):v.push(d=c.delete(r(s)))}else{var b=o(h?f?[u,a]:[u,null]:[a,null],2),w=b[0],k=b[1];if(h)for(var _=0;_<p;++_)v.push(d=k&&void 0!==k[_]?c[i](w[_],k[_]):c[i](w[_])),d.onerror=g;else for(var E=0;E<p;++E)v.push(d=c[i](w[E])),d.onerror=g}var S=function(t){var n=t.target.result;v.forEach((function(e,t){return null!=e.error&&(y[t]=e.error)})),e({numFailures:m,failures:y,results:"delete"===i?a:v.map((function(e){return e.result})),lastResult:n})};d.onerror=function(e){g(e),S(e)},d.onsuccess=S}))},getMany:function(e){var n=e.trans,r=e.keys;return new Promise((function(e,i){e=ug(e);for(var a,o=n.objectStore(t),u=r.length,s=new Array(u),l=0,c=0,f=function(t){var n=t.target;s[n._pos]=n.result,++c===l&&e(s)},h=lb(i),d=0;d<u;++d)null!=r[d]&&((a=o.get(r[d]))._pos=d,a.onsuccess=f,a.onerror=h,++l);0===l&&e(s)}))},get:function(e){var n=e.trans,r=e.key;return new Promise((function(e,i){e=ug(e);var a=n.objectStore(t).get(r);a.onsuccess=function(t){return e(t.target.result)},a.onerror=lb(i)}))},query:function(e){return function(n){return new Promise((function(i,a){i=ug(i);var o=n.trans,u=n.values,s=n.limit,l=n.query,c=s===1/0?void 0:s,f=l.index,h=l.range,d=o.objectStore(t),p=f.isPrimaryKey?d:d.index(f.name),v=r(h);if(0===s)return i({result:[]});if(e){var y=u?p.getAll(v,c):p.getAllKeys(v,c);y.onsuccess=function(e){return i({result:e.target.result})},y.onerror=lb(a)}else{var m=0,g=u||!("openKeyCursor"in p)?p.openCursor(v):p.openKeyCursor(v),b=[];g.onsuccess=function(e){var t=g.result;return t?(b.push(u?t.value:t.primaryKey),++m===s?i({result:b}):void t.continue()):i({result:b})},g.onerror=lb(a)}}))}}(u),openCursor:function(e){var n=e.trans,i=e.values,a=e.query,o=e.reverse,u=e.unique;return new Promise((function(e,s){e=ug(e);var l=a.index,c=a.range,f=n.objectStore(t),h=l.isPrimaryKey?f:f.index(l.name),d=o?u?"prevunique":"prev":u?"nextunique":"next",p=i||!("openKeyCursor"in h)?h.openCursor(r(c),d):h.openKeyCursor(r(c),d);p.onerror=lb(s),p.onsuccess=ug((function(t){var r=p.result;if(r){r.___id=++bb,r.done=!1;var i=r.continue.bind(r),a=r.continuePrimaryKey;a&&(a=a.bind(r));var o=r.advance.bind(r),u=function(){throw new Error("Cursor not stopped")};r.trans=n,r.stop=r.continue=r.continuePrimaryKey=r.advance=function(){throw new Error("Cursor not started")},r.fail=ug(s),r.next=function(){var e=this,t=1;return this.start((function(){return t--?e.continue():e.stop()})).then((function(){return e}))},r.start=function(e){var t=new Promise((function(e,t){e=ug(e),p.onerror=lb(t),r.fail=t,r.stop=function(t){r.stop=r.continue=r.continuePrimaryKey=r.advance=u,e(t)}})),n=function(){if(p.result)try{e()}catch(e){r.fail(e)}else r.done=!0,r.start=function(){throw new Error("Cursor behind last entry")},r.stop()};return p.onsuccess=ug((function(e){p.onsuccess=n,n()})),r.continue=i,r.continuePrimaryKey=a,r.advance=o,n(),t},e(r)}else e(null)}),s)}))},count:function(e){var n=e.query,i=e.trans,a=n.index,o=n.range;return new Promise((function(e,n){var u=i.objectStore(t),s=a.isPrimaryKey?u:u.index(a.name),l=r(o),c=l?s.count(l):s.count();c.onsuccess=ug((function(t){return e(t.target.result)})),c.onerror=lb(n)}))}}}(e)})),l={};return s.forEach((function(e){return l[e.name]=e})),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(e){if(!l[e])throw new Error("Table '".concat(e,"' not found"));return l[e]},MIN_KEY:-1/0,MAX_KEY:yb(t),schema:a}}(t,i,r),e.dbcore));return{dbcore:a}}(n._middlewares,r,n._deps,t);n.core=i.dbcore,n.tables.forEach((function(e){var t=e.name;n.core.schema.tables.some((function(e){return e.name===t}))&&(e.core=n.core.table(t),n[t]instanceof n.Table&&(n[t].core=e.core))}))}function _b(e,t,n,r){var i=e._novip;n.forEach((function(e){var n=r[e];t.forEach((function(t){var r=Cy(t,e);(!r||"value"in r&&void 0===r.value)&&(t===i.Transaction.prototype||t instanceof i.Transaction?Ey(t,e,{get:function(){return this.table(e)},set:function(t){_y(this,e,{value:t,writable:!0,configurable:!0,enumerable:!0})}}):t[e]=new i.Table(e,n))}))}))}function Eb(e,t){var n=e._novip;t.forEach((function(e){for(var t in e)e[t]instanceof n.Table&&delete e[t]}))}function Sb(e,t){return e._cfg.version-t._cfg.version}function xb(e,t){var n,r={del:[],add:[],change:[]};for(n in e)t[n]||r.del.push(n);for(n in t){var i=e[n],a=t[n];if(i){var o={name:n,def:a,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(a.primKey.keyPath||"")||i.primKey.auto!==a.primKey.auto&&!Pg)o.recreate=!0,r.change.push(o);else{var u=i.idxByName,s=a.idxByName,l=void 0;for(l in u)s[l]||o.del.push(l);for(l in s){var c=u[l],f=s[l];c?c.src!==f.src&&o.change.push(f):o.add.push(f)}(o.del.length>0||o.add.length>0||o.change.length>0)&&r.change.push(o)}}else r.add.push([n,a])}return r}function Cb(e,t,n,r){var i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((function(e){return Tb(i,e)})),i}function Tb(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Ib(e,t,n){var r={};return Iy(t.objectStoreNames,0).forEach((function(e){for(var t=n.objectStore(e),i=t.keyPath,a=db(pb(i),i||"",!1,!1,!!t.autoIncrement,i&&"string"!=typeof i,!0),o=[],u=0;u<t.indexNames.length;++u){var s=t.index(t.indexNames[u]);i=s.keyPath;var l=db(s.name,i,!!s.unique,!!s.multiEntry,!1,i&&"string"!=typeof i,!1);o.push(l)}r[e]=vb(e,a,o)})),r}function Ob(e,t,n){for(var r=e._novip,i=n.db.objectStoreNames,a=0;a<i.length;++a){var o=i[a],u=n.objectStore(o);r._hasGetAll="getAll"in u;for(var s=0;s<u.indexNames.length;++s){var l=u.indexNames[s],c=u.index(l).keyPath,f="string"==typeof c?c:"["+Iy(c).join("+")+"]";if(t[o]){var h=t[o].idxByName[f];h&&(h.name=l,delete t[o].idxByName[f],t[o].idxByName[l]=h)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&py.WorkerGlobalScope&&py instanceof py.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}var Ab=function(){function e(){qt(this,e)}return Ht(e,[{key:"_parseStoresSpec",value:function(e,t){vy(e).forEach((function(n){if(null!==e[n]){var r=e[n].split(",").map((function(e,t){var n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return db(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),yy(r),0===t)})),i=r.shift();if(i.multi)throw new fm.Schema("Primary key cannot be multi-valued");r.forEach((function(e){if(e.auto)throw new fm.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new fm.Schema("Index must have a name and cannot be an empty string")})),t[n]=vb(n,i,r)}}))}},{key:"stores",value:function(e){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?my(this._cfg.storesSource,e):e;var n=t._versions,r={},i={};return n.forEach((function(e){my(r,e._cfg.storesSource),i=e._cfg.dbschema={},e._parseStoresSpec(r,i)})),t._dbSchema=i,Eb(t,[t._allTables,t,t.Transaction.prototype]),_b(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],vy(i),i),t._storeNames=vy(i),this}},{key:"upgrade",value:function(e){return this._cfg.contentUpgrade=_m(this._cfg.contentUpgrade||pm,e),this}}]),e}();function Nb(e,t){var n=e._dbNamesDB;return n||(n=e._dbNamesDB=new ew("__dbnames",{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),n.table("dbnames")}function Pb(e){return e&&"function"==typeof e.databases}function Db(e){return pg((function(){return zm.letThrough=!0,e()}))}function Rb(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function Lb(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((function(){return t.dbOpenError?Tg(t.dbOpenError):e}));Yy&&(t.openCanceller._stackHolder=em()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var r=t.openCanceller;function i(){if(t.openCanceller!==r)throw new fm.DatabaseClosed("db.open() was cancelled")}var a=t.dbReadyResolve,o=null,u=!1;return Hm.race([r,("undefined"==typeof navigator?Hm.resolve():Rb()).then((function(){return new Hm((function(r,a){if(i(),!n)throw new fm.MissingAPI;var s=e.name,l=t.autoSchema?n.open(s):n.open(s,Math.round(10*e.verno));if(!l)throw new fm.MissingAPI;l.onerror=lb(a),l.onblocked=ug(e._fireOnBlocked),l.onupgradeneeded=ug((function(r){if(o=l.transaction,t.autoSchema&&!e._options.allowEmptyDB){l.onerror=cb,o.abort(),l.result.close();var i=n.deleteDatabase(s);i.onsuccess=i.onerror=ug((function(){a(new fm.NoSuchDatabase("Database ".concat(s," doesnt exist")))}))}else{o.onerror=lb(a);var c=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;u=c<1,e._novip.idbdb=l.result,function(e,t,n,r){var i=e._dbSchema,a=e._createTransaction("readwrite",e._storeNames,i);a.create(n),a._completion.catch(r);var o=a._reject.bind(a),u=zm.transless||zm;pg((function(){zm.trans=a,zm.transless=u,0===t?(vy(i).forEach((function(e){Cb(n,e,i[e].primKey,i[e].indexes)})),kb(e,n),Hm.follow((function(){return e.on.populate.fire(a)})).catch(o)):function(e,t,n,r){var i=e._novip,a=[],o=i._versions,u=i._dbSchema=Ib(0,i.idbdb,r),s=!1;return o.filter((function(e){return e._cfg.version>=t})).forEach((function(e){a.push((function(){var a=u,o=e._cfg.dbschema;Ob(i,a,r),Ob(i,o,r),u=i._dbSchema=o;var l=xb(a,o);l.add.forEach((function(e){Cb(r,e[0],e[1].primKey,e[1].indexes)})),l.change.forEach((function(e){if(e.recreate)throw new fm.Upgrade("Not yet support for changing primary key");var t=r.objectStore(e.name);e.add.forEach((function(e){return Tb(t,e)})),e.change.forEach((function(e){t.deleteIndex(e.name),Tb(t,e)})),e.del.forEach((function(e){return t.deleteIndex(e)}))}));var c=e._cfg.contentUpgrade;if(c&&e._cfg.version>t){kb(i,r),n._memoizedTables={},s=!0;var f=Ly(o);l.del.forEach((function(e){f[e]=a[e]})),Eb(i,[i.Transaction.prototype]),_b(i,[i.Transaction.prototype],vy(f),f),n.schema=f;var h,d=$y(c);d&&vg();var p=Hm.follow((function(){if((h=c(n))&&d){var e=yg.bind(null,null);h.then(e,e)}}));return h&&"function"==typeof h.then?Hm.resolve(h):p.then((function(){return h}))}})),a.push((function(t){s&&Dg||function(e,t){[].slice.call(t.db.objectStoreNames).forEach((function(n){return null==e[n]&&t.db.deleteObjectStore(n)}))}(e._cfg.dbschema,t),Eb(i,[i.Transaction.prototype]),_b(i,[i.Transaction.prototype],i._storeNames,i._dbSchema),n.schema=i._dbSchema}))})),function e(){return a.length?Hm.resolve(a.shift()(n.idbtrans)).then(e):Hm.resolve()}().then((function(){var e,t;t=r,vy(e=u).forEach((function(n){t.db.objectStoreNames.contains(n)||Cb(t,n,e[n].primKey,e[n].indexes)}))}))}(e,t,a,n).catch(o)}))}(e,c/10,o,a)}}),a),l.onsuccess=ug((function(){o=null;var n,i=e._novip.idbdb=l.result,a=Iy(i.objectStoreNames);if(a.length>0)try{var c=i.transaction(1===(n=a).length?n[0]:n,"readonly");t.autoSchema?function(e,t,n){var r=e._novip;r.verno=t.version/10;var i=r._dbSchema=Ib(0,t,n);r._storeNames=Iy(t.objectStoreNames,0),_b(r,[r._allTables],vy(i),i)}(e,i,c):(Ob(e,e._dbSchema,c),function(e,t){var n=xb(Ib(0,e.idbdb,t),e._dbSchema);return!(n.add.length||n.change.some((function(e){return e.add.length||e.change.length})))}(e,c)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),kb(e,c)}catch(e){}Ng.push(e),i.onversionchange=ug((function(n){t.vcFired=!0,e.on("versionchange").fire(n)})),i.onclose=ug((function(t){e.on("close").fire(t)})),u&&function(e,t){var n=e.indexedDB,r=e.IDBKeyRange;!Pb(n)&&"__dbnames"!==t&&Nb(n,r).put({name:t}).catch(pm)}(e._deps,s),r()}),a)}))}))]).then((function(){return i(),t.onReadyBeingFired=[],Hm.resolve(Db((function(){return e.on.ready.fire(e.vip)}))).then((function n(){if(t.onReadyBeingFired.length>0){var r=t.onReadyBeingFired.reduce(_m,pm);return t.onReadyBeingFired=[],Hm.resolve(Db((function(){return r(e.vip)}))).then(n)}}))})).finally((function(){t.onReadyBeingFired=null,t.isBeingOpened=!1})).then((function(){return e})).catch((function(n){t.dbOpenError=n;try{o&&o.abort()}catch(e){}return r===t.openCanceller&&e._close(),Tg(n)})).finally((function(){t.openComplete=!0,a()}))}function jb(e){var t=function(t){return e.next(t)},n=i(t),r=i((function(t){return e.throw(t)}));function i(e){return function(t){var i=e(t),a=i.value;return i.done?a:a&&"function"==typeof a.then?a.then(n,r):yy(a)?Promise.all(a).then(n,r):n(a)}}return i(t)()}function Mb(e,t,n){var r=arguments.length;if(r<2)throw new fm.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];n=i.pop();var a=My(i);return[e,a,n]}function Fb(e,t,n,r,i){return Hm.resolve().then((function(){var a=zm.transless||zm,o=e._createTransaction(t,n,e._dbSchema,r),u={trans:o,transless:a};if(r)o.idbtrans=r.idbtrans;else try{o.create(),e._state.PR1398_maxLoop=3}catch(r){return r.name===lm.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((function(){return Fb(e,t,n,null,i)}))):Tg(r)}var s,l=$y(i);l&&vg();var c=Hm.follow((function(){if(s=i.call(o,o))if(l){var e=yg.bind(null,null);s.then(e,e)}else"function"==typeof s.next&&"function"==typeof s.throw&&(s=jb(s))}),u);return(s&&"function"==typeof s.then?Hm.resolve(s).then((function(e){return o.active?e:Tg(new fm.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):c.then((function(){return s}))).then((function(e){return r&&o._resolve(),o._completion.then((function(){return e}))})).catch((function(e){return o._reject(e),Tg(e)}))}))}function Ub(e,t,n){for(var r=yy(e)?e.slice():[e],i=0;i<n;++i)r.push(t);return r}var Vb={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return Ee(Ee({},e),{},{table:function(t){var n=e.table(t),r=n.schema,i={},a=[];function o(e,t,n){var r=wb(e),u=i[r]=i[r]||[],s=null==e?0:"string"==typeof e?1:e.length,l=t>0,c=Ee(Ee({},n),{},{isVirtual:l,keyTail:t,keyLength:s,extractKey:mb(e),unique:!l&&n.unique});return u.push(c),c.isPrimaryKey||a.push(c),s>1&&o(2===s?e[0]:e.slice(0,s-1),t+1,n),u.sort((function(e,t){return e.keyTail-t.keyTail})),c}var u=o(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[u];var s,l=Ut(r.indexes);try{for(l.s();!(s=l.n()).done;){var c=s.value;o(c.keyPath,0,c)}}catch(d){l.e(d)}finally{l.f()}function f(t){var n,r,i=t.query.index;return i.isVirtual?Ee(Ee({},t),{},{query:{index:i,range:(n=t.query.range,r=i.keyTail,{type:1===n.type?2:n.type,lower:Ub(n.lower,n.lowerOpen?e.MAX_KEY:e.MIN_KEY,r),lowerOpen:!0,upper:Ub(n.upper,n.upperOpen?e.MIN_KEY:e.MAX_KEY,r),upperOpen:!0})}}):t}var h=Ee(Ee({},n),{},{schema:Ee(Ee({},r),{},{primaryKey:u,indexes:a,getIndexByKeyPath:function(e){var t=i[wb(e)];return t&&t[0]}}),count:function(e){return n.count(f(e))},query:function(e){return n.query(f(e))},openCursor:function(t){var r=t.query.index,i=r.keyTail,a=r.isVirtual,o=r.keyLength;return a?n.openCursor(f(t)).then((function(n){return n&&function(n){var r=Object.create(n,{continue:{value:function(r){null!=r?n.continue(Ub(r,t.reverse?e.MAX_KEY:e.MIN_KEY,i)):t.unique?n.continue(n.key.slice(0,o).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,i)):n.continue()}},continuePrimaryKey:{value:function(t,r){n.continuePrimaryKey(Ub(t,e.MAX_KEY,i),r)}},primaryKey:{get:function(){return n.primaryKey}},key:{get:function(){var e=n.key;return 1===o?e[0]:e.slice(0,o)}},value:{get:function(){return n.value}}});return r}(n)})):n.openCursor(t)}});return h}})}};function Bb(e,t,n,r){return n=n||{},r=r||"",vy(e).forEach((function(i){if(wy(t,i)){var a=e[i],o=t[i];if("object"==typeof a&&"object"==typeof o&&a&&o){var u=qy(a);u!==qy(o)?n[r+i]=t[i]:"Object"===u?Bb(a,o,n,r+i+"."):a!==o&&(n[r+i]=t[i])}else a!==o&&(n[r+i]=t[i])}else n[r+i]=void 0})),vy(t).forEach((function(i){wy(e,i)||(n[r+i]=t[i])})),n}var zb={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return Ee(Ee({},e),{},{table:function(t){var n=e.table(t),r=n.schema.primaryKey,i=Ee(Ee({},n),{},{mutate:function(e){var i=zm.trans,a=i.table(t).hook,o=a.deleting,u=a.creating,s=a.updating;switch(e.type){case"add":if(u.fire===pm)break;return i._promise("readwrite",(function(){return l(e)}),!0);case"put":if(u.fire===pm&&s.fire===pm)break;return i._promise("readwrite",(function(){return l(e)}),!0);case"delete":if(o.fire===pm)break;return i._promise("readwrite",(function(){return l(e)}),!0);case"deleteRange":if(o.fire===pm)break;return i._promise("readwrite",(function(){return function(e){return c(e.trans,e.range,1e4)}(e)}),!0)}return n.mutate(e);function l(e){var t=zm.trans,i=e.keys||function(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}(r,e);if(!i)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?Ee(Ee({},e),{},{keys:i}):Ee({},e)).type&&(e.values=wt(e.values)),e.keys&&(e.keys=wt(e.keys)),function(e,t,n){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}(n,e,i).then((function(a){var l=i.map((function(n,i){var l=a[i],c={onerror:null,onsuccess:null};if("delete"===e.type)o.fire.call(c,n,l,t);else if("add"===e.type||void 0===l){var f=u.fire.call(c,n,e.values[i],t);null==n&&null!=f&&(n=f,e.keys[i]=n,r.outbound||Ry(e.values[i],r.keyPath,n))}else{var h=Bb(l,e.values[i]),d=s.fire.call(c,h,n,l,t);if(d){var p=e.values[i];Object.keys(d).forEach((function(e){wy(p,e)?p[e]=d[e]:Ry(p,e,d[e])}))}}return c}));return n.mutate(e).then((function(t){for(var n=t.failures,r=t.results,o=t.numFailures,u=t.lastResult,s=0;s<i.length;++s){var c=r?r[s]:i[s],f=l[s];null==c?f.onerror&&f.onerror(n[s]):f.onsuccess&&f.onsuccess("put"===e.type&&a[s]?e.values[s]:c)}return{failures:n,results:r,numFailures:o,lastResult:u}})).catch((function(e){return l.forEach((function(t){return t.onerror&&t.onerror(e)})),Promise.reject(e)}))}))}function c(e,t,i){return n.query({trans:e,values:!1,query:{index:r,range:t},limit:i}).then((function(n){var r=n.result;return l({type:"delete",keys:r,trans:e}).then((function(n){return n.numFailures>0?Promise.reject(n.failures[0]):r.length<i?{failures:[],numFailures:0,lastResult:void 0}:c(e,Ee(Ee({},t),{},{lower:r[r.length-1],lowerOpen:!0}),i)}))}))}}});return i}})}};function Kb(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;for(var r=[],i=0,a=0;i<t.keys.length&&a<e.length;++i)0===$g(t.keys[i],e[a])&&(r.push(n?By(t.values[i]):t.values[i]),++a);return r.length===e.length?r:null}catch(e){return null}}var qb={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var n=e.table(t);return Ee(Ee({},n),{},{getMany:function(e){if(!e.cache)return n.getMany(e);var t=Kb(e.keys,e.trans._cache,"clone"===e.cache);return t?Hm.resolve(t):n.getMany(e).then((function(t){return e.trans._cache={keys:e.keys,values:"clone"===e.cache?By(t):t},t}))},mutate:function(e){return"add"!==e.type&&(e.trans._cache=null),n.mutate(e)}})}}}};function Wb(e){return!("from"in e)}var Hb=function e(t,n){if(!this){var r=new e;return t&&"d"in t&&my(r,t),r}my(this,arguments.length?{d:1,from:t,to:arguments.length>1?n:t}:{d:0})};function Qb(e,t,n){var r=$g(t,n);if(!isNaN(r)){if(r>0)throw RangeError();if(Wb(e))return my(e,{from:t,to:n,d:1});var i=e.l,a=e.r;if($g(n,e.from)<0)return i?Qb(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Yb(e);if($g(t,e.to)>0)return a?Qb(a,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Yb(e);$g(t,e.from)<0&&(e.from=t,e.l=null,e.d=a?a.d+1:1),$g(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);var o=!e.r;i&&!e.l&&Gb(e,i),a&&o&&Gb(e,a)}}function Gb(e,t){Wb(t)||function e(t,n){var r=n.from,i=n.to,a=n.l,o=n.r;Qb(t,r,i),a&&e(t,a),o&&e(t,o)}(e,t)}function $b(e){var t=Wb(e)?null:{s:0,n:e};return{next:function(e){for(var n=arguments.length>0;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&$g(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||$g(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Yb(e){var t,n,r=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(n=e.l)||void 0===n?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){var a="r"===i?"l":"r",o=Ee({},e),u=e[i];e.from=u.from,e.to=u.to,e[i]=u[i],o[i]=u[a],e[a]=o,o.d=Xb(o)}e.d=Xb(e)}function Xb(e){var t=e.r,n=e.l;return(t?n?Math.max(t.d,n.d):t.d:n?n.d:0)+1}ky(Hb.prototype,ke({add:function(e){return Gb(this,e),this},addKey:function(e){return Qb(this,e,e),this},addKeys:function(e){var t=this;return e.forEach((function(e){return Qb(t,e,e)})),this}},Wy,(function(){return $b(this)})));var Jb,Zb={stack:"dbcore",level:0,create:function(e){var t=e.schema.name,n=new Hb(e.MIN_KEY,e.MAX_KEY);return Ee(Ee({},e),{},{table:function(r){var i=e.table(r),a=i.schema,u=a.primaryKey,s=u.extractKey,l=u.outbound,c=Ee(Ee({},i),{},{mutate:function(e){var u=e.trans,s=u.mutatedParts||(u.mutatedParts={}),l=function(e){var n="idb://".concat(t,"/").concat(r,"/").concat(e);return s[n]||(s[n]=new Hb)},c=l(""),f=l(":dels"),h=e.type,d=o("deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[],2),p=d[0],v=d[1],y=e.trans._cache;return i.mutate(e).then((function(e){if(yy(p)){"delete"!==h&&(p=e.results),c.addKeys(p);var t=Kb(p,y);t||"add"===h||f.addKeys(p),(t||v)&&function(e,t,n,r){t.indexes.forEach((function(t){var i=e(t.name||"");function a(e){return null!=e?t.extractKey(e):null}var o=function(e){return t.multiEntry&&yy(e)?e.forEach((function(e){return i.addKey(e)})):i.addKey(e)};(n||r).forEach((function(e,t){var i=n&&a(n[t]),u=r&&a(r[t]);0!==$g(i,u)&&(null!=i&&o(i),null!=u&&o(u))}))}))}(l,a,t,v)}else if(p){var r={from:p.lower,to:p.upper};f.add(r),c.add(r)}else c.add(n),f.add(n),a.indexes.forEach((function(e){return l(e.name).add(n)}));return e}))}}),f=function(t){var n,r,i=t.query,a=i.index,o=i.range;return[a,new Hb(null!==(n=o.lower)&&void 0!==n?n:e.MIN_KEY,null!==(r=o.upper)&&void 0!==r?r:e.MAX_KEY)]},h={get:function(e){return[u,new Hb(e.key)]},getMany:function(e){return[u,(new Hb).addKeys(e.keys)]},count:f,query:f,openCursor:f};return vy(h).forEach((function(e){c[e]=function(a){var u=zm,c=u.subscr;if(c){var f=function(e){var n="idb://".concat(t,"/").concat(r,"/").concat(e);return c[n]||(c[n]=new Hb)},d=f(""),p=f(":dels"),v=h[e](a),y=o(v,2),m=y[0],g=y[1];if(f(m.name||"").add(g),!m.isPrimaryKey){if("count"!==e){var b="query"===e&&l&&a.values&&i.query(Ee(Ee({},a),{},{values:!1}));return i[e].apply(this,arguments).then((function(t){if("query"===e){if(l&&a.values)return b.then((function(e){var n=e.result;return d.addKeys(n),t}));var n=a.values?t.result.map(s):t.result;a.values?d.addKeys(n):p.addKeys(n)}else if("openCursor"===e){var r=t,i=a.values;return r&&Object.create(r,{key:{get:function(){return p.addKey(r.primaryKey),r.key}},primaryKey:{get:function(){var e=r.primaryKey;return p.addKey(e),e}},value:{get:function(){return i&&d.addKey(r.primaryKey),r.value}}})}return t}))}p.add(n)}}return i[e].apply(this,arguments)}})),c}})}},ew=function(){function e(t,n){var r=this;qt(this,e),this._middlewares={},this.verno=0;var i=e.dependencies;this._options=n=Ee({addons:e.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var a=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var o,u={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:pm,dbReadyPromise:null,cancelOpen:pm,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};u.dbReadyPromise=new Hm((function(e){u.dbReadyResolve=e})),u.openCanceller=new Hm((function(e,t){u.cancelOpen=t})),this._state=u,this.name=t,this.on=Vg(this,"populate","blocked","versionchange","close",{ready:[_m,pm]}),this.on.ready.subscribe=Oy(this.on.ready.subscribe,(function(t){return function(n,i){e.vip((function(){var e=r._state;if(e.openComplete)e.dbOpenError||Hm.resolve().then(n),i&&t(n);else if(e.onReadyBeingFired)e.onReadyBeingFired.push(n),i&&t(n);else{t(n);var a=r;i||t((function e(){a.on.ready.unsubscribe(n),a.on.ready.unsubscribe(e)}))}}))}})),this.Collection=(o=this,Bg(Jg.prototype,(function(e,t){this.db=o;var n=Mg,r=null;if(t)try{n=t()}catch(e){r=e}var i=e._ctx,a=i.table,u=a.hook.reading.fire;this._ctx={table:a,index:i.index,isPrimKey:!i.index||a.schema.primKey.keyPath&&i.index===a.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:i.or,valueMapper:u!==vm?u:null}}))),this.Table=function(e){return Bg(Ug.prototype,(function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:Vg(null,{creating:[gm,pm],reading:[ym,vm],updating:[wm,pm],deleting:[bm,pm]})}))}(this),this.Transaction=function(e){return Bg(hb.prototype,(function(t,n,r,i,a){var o=this;this.db=e,this.mode=t,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=i,this.idbtrans=null,this.on=Vg(this,"complete","error","abort"),this.parent=a||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Hm((function(e,t){o._resolve=e,o._reject=t})),this._completion.then((function(){o.active=!1,o.on.complete.fire()}),(function(e){var t=o.active;return o.active=!1,o.on.error.fire(e),o.parent?o.parent._reject(e):t&&o.idbtrans&&o.idbtrans.abort(),Tg(e)}))}))}(this),this.Version=function(e){return Bg(Ab.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return Bg(sb.prototype,(function(t,n,r){this.db=e,this._ctx={table:t,index:":id"===n?null:n,or:r};var i=e._deps.indexedDB;if(!i)throw new fm.MissingAPI;this._cmp=this._ascending=i.cmp.bind(i),this._descending=function(e,t){return i.cmp(t,e)},this._max=function(e,t){return i.cmp(e,t)>0?e:t},this._min=function(e,t){return i.cmp(e,t)<0?e:t},this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(r.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(r.name,"'. Closing db now to resume the delete request.")),r.close()})),this.on("blocked",(function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('".concat(r.name,"') was blocked")):console.warn("Upgrade '".concat(r.name,"' blocked by other connection holding version ").concat(e.oldVersion/10))})),this._maxKey=yb(n.IDBKeyRange),this._createTransaction=function(e,t,n,i){return new r.Transaction(e,t,n,r._options.chromeTransactionDurability,i)},this._fireOnBlocked=function(e){r.on("blocked").fire(e),Ng.filter((function(e){return e.name===r.name&&e!==r&&!e._state.vcFired})).map((function(t){return t.on("versionchange").fire(e)}))},this.use(Vb),this.use(zb),this.use(Zb),this.use(qb),this.vip=Object.create(this,{_vip:{value:!0}}),a.forEach((function(e){return e(r)}))}return Ht(e,[{key:"version",value:function(e){if(isNaN(e)||e<.1)throw new fm.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new fm.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,n=t.filter((function(t){return t._cfg.version===e}))[0];return n||(n=new this.Version(e),t.push(n),t.sort(Sb),n.stores({}),this._state.autoSchema=!1,n)}},{key:"_whenReady",value:function(e){var t=this;return this.idbdb&&(this._state.openComplete||zm.letThrough||this._vip)?e():new Hm((function(e,n){if(t._state.openComplete)return n(new fm.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return void n(new fm.DatabaseClosed);t.open().catch(pm)}t._state.dbReadyPromise.then(e,n)})).then(e)}},{key:"use",value:function(e){var t=e.stack,n=e.create,r=e.level,i=e.name;i&&this.unuse({stack:t,name:i});var a=this._middlewares[t]||(this._middlewares[t]=[]);return a.push({stack:t,create:n,level:null==r?10:r,name:i}),a.sort((function(e,t){return e.level-t.level})),this}},{key:"unuse",value:function(e){var t=e.stack,n=e.name,r=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter((function(e){return r?e.create!==r:!!n&&e.name!==n}))),this}},{key:"open",value:function(){return Lb(this)}},{key:"_close",value:function(){var e=this._state,t=Ng.indexOf(this);if(t>=0&&Ng.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}e.dbReadyPromise=new Hm((function(t){e.dbReadyResolve=t})),e.openCanceller=new Hm((function(t,n){e.cancelOpen=n}))}},{key:"close",value:function(){this._close();var e=this._state;this._options.autoOpen=!1,e.dbOpenError=new fm.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}},{key:"delete",value:function(){var e=this,t=arguments.length>0,n=this._state;return new Hm((function(r,i){var a=function(){e.close();var t=e._deps.indexedDB.deleteDatabase(e.name);t.onsuccess=ug((function(){!function(e,t){var n=e.indexedDB,r=e.IDBKeyRange;!Pb(n)&&"__dbnames"!==t&&Nb(n,r).delete(t).catch(pm)}(e._deps,e.name),r()})),t.onerror=lb(i),t.onblocked=e._fireOnBlocked};if(t)throw new fm.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(a):a()}))}},{key:"backendDB",value:function(){return this.idbdb}},{key:"isOpen",value:function(){return null!==this.idbdb}},{key:"hasBeenClosed",value:function(){var e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}},{key:"hasFailed",value:function(){return null!==this._state.dbOpenError}},{key:"dynamicallyOpened",value:function(){return this._state.autoSchema}},{key:"tables",get:function(){var e=this;return vy(this._allTables).map((function(t){return e._allTables[t]}))}},{key:"transaction",value:function(){var e=Mb.apply(this,arguments);return this._transaction.apply(this,e)}},{key:"_transaction",value:function(e,t,n){var r=this,i=zm.trans;i&&i.db===this&&-1===e.indexOf("!")||(i=null);var a,o,u=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{if(o=t.map((function(e){var t=e instanceof r.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||"readonly"===e)a="readonly";else{if("rw"!=e&&"readwrite"!=e)throw new fm.InvalidArgument("Invalid transaction mode: "+e);a="readwrite"}if(i){if("readonly"===i.mode&&"readwrite"===a){if(!u)throw new fm.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&o.forEach((function(e){if(i&&-1===i.storeNames.indexOf(e)){if(!u)throw new fm.SubTransaction("Table "+e+" not included in parent transaction.");i=null}})),u&&i&&!i.active&&(i=null)}}catch(e){return i?i._promise(null,(function(t,n){n(e)})):Tg(e)}var s=Fb.bind(null,this,a,o,i,n);return i?i._promise(a,s,"lock"):zm.trans?_g(zm.transless,(function(){return r._whenReady(s)})):this._whenReady(s)}},{key:"table",value:function(e){if(!wy(this._allTables,e))throw new fm.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]}}]),e}(),tw="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable",nw=function(){function e(t){qt(this,e),this._subscribe=t}return Ht(e,[{key:"subscribe",value:function(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})}},{key:tw,value:function(){return this}}]),e}();function rw(e,t){return vy(t).forEach((function(n){Gb(e[n]||(e[n]=new Hb),t[n])})),e}try{Jb={indexedDB:py.indexedDB||py.mozIndexedDB||py.webkitIndexedDB||py.msIndexedDB,IDBKeyRange:py.IDBKeyRange||py.webkitIDBKeyRange}}catch(m_){Jb={indexedDB:null,IDBKeyRange:null}}var iw=ew;function aw(e){var t=ow;try{ow=!0,fb.storagemutated.fire(e)}finally{ow=t}}ky(iw,Ee(Ee({},dm),{},{delete:function(e){return new iw(e,{addons:[]}).delete()},exists:function(e){return new iw(e,{addons:[]}).open().then((function(e){return e.close(),!0})).catch("NoSuchDatabaseError",(function(){return!1}))},getDatabaseNames:function(e){try{return function(e){var t=e.indexedDB,n=e.IDBKeyRange;return Pb(t)?Promise.resolve(t.databases()).then((function(e){return e.map((function(e){return e.name})).filter((function(e){return"__dbnames"!==e}))})):Nb(t,n).toCollection().primaryKeys()}(iw.dependencies).then(e)}catch(e){return Tg(new fm.MissingAPI)}},defineClass:function(){return function(e){my(this,e)}},ignoreTransaction:function(e){return zm.trans?_g(zm.transless,e):e()},vip:Db,async:function(e){return function(){try{var t=jb(e.apply(this,arguments));return t&&"function"==typeof t.then?t:Hm.resolve(t)}catch(e){return Tg(e)}}},spawn:function(e,t,n){try{var r=jb(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:Hm.resolve(r)}catch(e){return Tg(e)}},currentTransaction:{get:function(){return zm.trans||null}},waitFor:function(e,t){var n=Hm.resolve("function"==typeof e?iw.ignoreTransaction(e):e).timeout(t||6e4);return zm.trans?zm.trans.waitFor(n):n},Promise:Hm,debug:{get:function(){return Yy},set:function(e){Xy(e,"dexie"===e?function(){return!0}:Lg)}},derive:Sy,extend:my,props:ky,override:Oy,Events:Vg,on:fb,liveQuery:function(e){return new nw((function(t){var n=$y(e),r=!1,i={},a={},o={get closed(){return r},unsubscribe:function(){r=!0,fb.storagemutated.unsubscribe(c)}};t.start&&t.start(o);var u=!1,s=!1;function l(){return vy(a).some((function(e){return i[e]&&function(e,t){var n=$b(t),r=n.next();if(r.done)return!1;for(var i=r.value,a=$b(e),o=a.next(i.from),u=o.value;!r.done&&!o.done;){if($g(u.from,i.to)<=0&&$g(u.to,i.from)>=0)return!0;$g(i.from,u.from)<0?i=(r=n.next(u.from)).value:u=(o=a.next(i.from)).value}return!1}(i[e],a[e])}))}var c=function(e){rw(i,e),l()&&f()},f=function f(){if(!u&&!r){i={};var h={},d=function(t){n&&vg();var r=function(){return pg(e,{subscr:t,trans:null})},i=zm.trans?_g(zm.transless,r):r();return n&&i.then(yg,yg),i}(h);s||(fb("storagemutated",c),s=!0),u=!0,Promise.resolve(d).then((function(e){u=!1,r||(l()?f():(i={},a=h,t.next&&t.next(e)))}),(function(e){u=!1,t.error&&t.error(e),o.unsubscribe()}))}};return f(),o}))},extendObservabilitySet:rw,getByKeyPath:Dy,setByKeyPath:Ry,delByKeyPath:function(e,t){"string"==typeof t?Ry(e,t,void 0):"length"in t&&[].map.call(t,(function(t){Ry(e,t,void 0)}))},shallowClone:Ly,deepClone:By,getObjectDiff:Bb,cmp:$g,asap:Ny,minKey:-1/0,addons:[],connections:Ng,errnames:lm,dependencies:Jb,semVer:"3.2.2",version:"3.2.2".split(".").map((function(e){return parseInt(e)})).reduce((function(e,t,n){return e+t/Math.pow(10,2*n)}))})),iw.maxKey=yb(iw.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(fb("storagemutated",(function(e){var t;ow||(Pg?(t=document.createEvent("CustomEvent")).initCustomEvent("x-storagemutated-1",!0,!0,e):t=new CustomEvent("x-storagemutated-1",{detail:e}),ow=!0,dispatchEvent(t),ow=!1)})),addEventListener("x-storagemutated-1",(function(e){var t=e.detail;ow||aw(t)})));var ow=!1;if("undefined"!=typeof BroadcastChannel){var uw=new BroadcastChannel("x-storagemutated-1");fb("storagemutated",(function(e){ow||uw.postMessage(e)})),uw.onmessage=function(e){e.data&&aw(e.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){fb("storagemutated",(function(e){try{ow||("undefined"!=typeof localStorage&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:e})),"object"==typeof self.clients&&wt(self.clients.matchAll({includeUncontrolled:!0})).forEach((function(t){return t.postMessage({type:"x-storagemutated-1",changedParts:e})})))}catch(e){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(function(e){if("x-storagemutated-1"===e.key){var t=JSON.parse(e.newValue);t&&aw(t.changedParts)}}));var sw=self.document&&navigator.serviceWorker;sw&&sw.addEventListener("message",(function(e){var t=e.data;t&&"x-storagemutated-1"===t.type&&aw(t.changedParts)}))}Hm.rejectionMapper=function(e,t){if(!e||e instanceof am||e instanceof TypeError||e instanceof SyntaxError||!e.name||!hm[e.name])return e;var n=new hm[e.name](t||e.message,e);return"stack"in e&&Ey(n,"stack",{get:function(){return this.inner.stack}}),n},Xy(Yy,Lg);var lw=new(function(e){Vt(n,e);var t=Kt(n);function n(){var e;return qt(this,n),(e=t.call(this,"OfflineCache")).rauchmelder=void 0,e.wohnungen=void 0,e.auftraggeber=void 0,e.objekte=void 0,e.pruefungen=void 0,e.gepruefteRauchmelder=void 0,e.version(1).stores({rauchmelder:"id,auftraggeber,objekt,produktionsdatum,raum,seriennr,wohnung",wohnungen:"id,auftraggeber,objekt,etage,haus,lage,mieter",auftraggeber:"id,adresse,email,name,telefon",objekte:"id,adresse,auftraggeber,beschreibung,objektname",pruefungen:"id,auftraggeber,objekt,etage,haus,lage,mieter",gepruefteRauchmelder:"id,pruefung,pruefungsId,anmerkungGesamt,anmerkungPruefung,timestamp"}),e}return Ht(n)}(ew));function cw(){return(cw=Pt(At().mark((function e(){var t,n,r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sp(Dv,"rauchmelder").withConverter(Bv),e.next=3,Ov(t);case 3:return n=e.sent,r=n.docs.map((function(e){return e.data()})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fw(){return fw=Pt(At().mark((function e(t,n){var r,i,a,o;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sp(Dv,"rauchmelder").withConverter(Bv),i=vv(r,mv(t,"==",n)),e.next=4,Ov(i);case 4:return a=e.sent,o=a.docs.map((function(e){return e.data()})),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)}))),fw.apply(this,arguments)}function hw(){return hw=Pt(At().mark((function e(t){var n,r,i,a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Sp(Dv,"rauchmelder").withConverter(Bv),r=vv.apply(void 0,[n].concat(wt(t.map((function(e){return mv(e.key,e.operator,e.value)}))))),e.next=4,Ov(r);case 4:return i=e.sent,a=i.docs.map((function(e){return e.data()})),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)}))),hw.apply(this,arguments)}function dw(){return dw=Pt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Av(Sp(Dv,"rauchmelder"),t);case 2:e.sent.withConverter(Bv);case 4:case"end":return e.stop()}}),e)}))),dw.apply(this,arguments)}var pw,vw={getRauchmelder:function(){return cw.apply(this,arguments)},getRauchmelderWithParam:function(e,t){return fw.apply(this,arguments)},getRauchmelderWithParams:function(e){return hw.apply(this,arguments)},addRauchmelder:function(e){return dw.apply(this,arguments)}},yw=vw,mw=(ke(pw={},gt.offline,{pruefungen:{create:function(e){return lw.table("pruefungen").add(e,e.id)},getPruefungen:function(){return lw.table("pruefungen").toArray()},deletePruefung:function(e){return lw.table("pruefungen").delete(e.id)}},rauchmelder:{addRauchmelder:function(e){return lw.table("gepruefteRauchmelder").add(e,e.id)},deleteRauchmelder:function(e){return lw.table("gepruefteRauchmelder").delete(e.id)},getAllRauchmelder:function(){return lw.table("gepruefteRauchmelder").toArray()},getRauchmelderWithParams:function(){return lw.table("gepruefteRauchmelder").toArray()}}}),ke(pw,gt.online,{pruefungen:{},rauchmelder:{get:yw.getRauchmelder,getWithParam:yw.getRauchmelderWithParam,getWithParams:yw.getRauchmelderWithParams},user:{get:ty.getUsers,getWithParam:ty.getUsersWithParam,getWithParams:ty.getUsersWithParams},auftraggeber:{get:Yv.getAuftraggeber,getWithParam:Yv.getAuftraggeberWithParam,getWithParams:Yv.getAuftraggeberWithParams},wohnungen:{get:dy.getWohnung,getWithParam:dy.getWohnungWithParam,getWithParams:dy.getWohnungWithParams},objekte:{get:uy.getObjekte,getWithParam:uy.getObjekteWithParam,getWithParams:uy.getObjekteWithParams},prepareOffline:function(){var e=Pt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lw.table("wohnungen").clear().then((function(e){return console.log("successfully deleted old data")})).catch((function(e){return console.error(e.message)})),lw.table("objekte").clear().then((function(e){return console.log("successfully deleted old data")})).catch((function(e){return console.error(e.message)})),lw.table("rauchmelder").clear().then((function(e){return console.log("successfully deleted old data")})).catch((function(e){return console.error(e.message)})),e.next=5,dy.getWohnungWithParam("objekt.id",t.id);case 5:return e.sent.every((function(e){return lw.table("wohnungen").add(e,e.id)})),e.next=9,yw.getRauchmelderWithParam("objekt.id",t.id);case 9:e.sent.every((function(e){return lw.table("rauchmelder").add(e,e.id)})),lw.table("objekte").add(t);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),syncPruefungen:function(){var e=Pt(At().mark((function e(){var t;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lw.table("gepruefteRauchmelder").toArray();case 2:return t=e.sent.map((function(e){return e})),e.next=5,lw.table("pruefungen").toArray();case 5:return e.sent.map((function(e){return e})).at(1),t.at(1),e.abrupt("return",1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),pw),gw=mw,bw=function(){function e(){qt(this,e),this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return Ht(e,[{key:"start",value:function(){return this._dataLength=0,this._bufferLength=0,this._state.set(e.stateIdentity),this}},{key:"appendStr",value:function(t){var n,r,i=this._buffer8,a=this._buffer32,o=this._bufferLength;for(r=0;r<t.length;r+=1){if((n=t.charCodeAt(r))<128)i[o++]=n;else if(n<2048)i[o++]=192+(n>>>6),i[o++]=63&n|128;else if(n<55296||n>56319)i[o++]=224+(n>>>12),i[o++]=n>>>6&63|128,i[o++]=63&n|128;else{if((n=1024*(n-55296)+(t.charCodeAt(++r)-56320)+65536)>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");i[o++]=240+(n>>>18),i[o++]=n>>>12&63|128,i[o++]=n>>>6&63|128,i[o++]=63&n|128}o>=64&&(this._dataLength+=64,e._md5cycle(this._state,a),o-=64,a[0]=a[16])}return this._bufferLength=o,this}},{key:"appendAsciiStr",value:function(t){for(var n,r=this._buffer8,i=this._buffer32,a=this._bufferLength,o=0;;){for(n=Math.min(t.length-o,64-a);n--;)r[a++]=t.charCodeAt(o++);if(a<64)break;this._dataLength+=64,e._md5cycle(this._state,i),a=0}return this._bufferLength=a,this}},{key:"appendByteArray",value:function(t){for(var n,r=this._buffer8,i=this._buffer32,a=this._bufferLength,o=0;;){for(n=Math.min(t.length-o,64-a);n--;)r[a++]=t[o++];if(a<64)break;this._dataLength+=64,e._md5cycle(this._state,i),a=0}return this._bufferLength=a,this}},{key:"getState",value:function(){var e=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}}},{key:"setState",value:function(e){var t,n=e.buffer,r=e.state,i=this._state;for(this._dataLength=e.length,this._bufferLength=e.buflen,i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],t=0;t<n.length;t+=1)this._buffer8[t]=n.charCodeAt(t)}},{key:"end",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this._bufferLength,r=this._buffer8,i=this._buffer32,a=1+(n>>2);this._dataLength+=n;var o=8*this._dataLength;if(r[n]=128,r[n+1]=r[n+2]=r[n+3]=0,i.set(e.buffer32Identity.subarray(a),a),n>55&&(e._md5cycle(this._state,i),i.set(e.buffer32Identity)),o<=4294967295)i[14]=o;else{var u=o.toString(16).match(/(.*?)(.{0,8})$/);if(null===u)return;var s=parseInt(u[2],16),l=parseInt(u[1],16)||0;i[14]=s,i[15]=l}return e._md5cycle(this._state,i),t?this._state:e._hex(this._state)}}],[{key:"hashStr",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.onePassHasher.start().appendStr(e).end(t)}},{key:"hashAsciiStr",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.onePassHasher.start().appendAsciiStr(e).end(t)}},{key:"_hex",value:function(t){var n,r,i,a,o=e.hexChars,u=e.hexOut;for(a=0;a<4;a+=1)for(r=8*a,n=t[a],i=0;i<8;i+=2)u[r+1+i]=o.charAt(15&n),n>>>=4,u[r+0+i]=o.charAt(15&n),n>>>=4;return u.join("")}},{key:"_md5cycle",value:function(e,t){var n=e[0],r=e[1],i=e[2],a=e[3];r=((r+=((i=((i+=((a=((a+=((n=((n+=(r&i|~r&a)+t[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&i)+t[1]-389564586|0)<<12|a>>>20)+n|0)&n|~a&r)+t[2]+606105819|0)<<17|i>>>15)+a|0)&a|~i&n)+t[3]-1044525330|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r&i|~r&a)+t[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&i)+t[5]+1200080426|0)<<12|a>>>20)+n|0)&n|~a&r)+t[6]-1473231341|0)<<17|i>>>15)+a|0)&a|~i&n)+t[7]-45705983|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r&i|~r&a)+t[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&i)+t[9]-1958414417|0)<<12|a>>>20)+n|0)&n|~a&r)+t[10]-42063|0)<<17|i>>>15)+a|0)&a|~i&n)+t[11]-1990404162|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r&i|~r&a)+t[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&i)+t[13]-40341101|0)<<12|a>>>20)+n|0)&n|~a&r)+t[14]-1502002290|0)<<17|i>>>15)+a|0)&a|~i&n)+t[15]+1236535329|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r&a|i&~a)+t[1]-165796510|0)<<5|n>>>27)+r|0)&i|r&~i)+t[6]-1069501632|0)<<9|a>>>23)+n|0)&r|n&~r)+t[11]+643717713|0)<<14|i>>>18)+a|0)&n|a&~n)+t[0]-373897302|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r&a|i&~a)+t[5]-701558691|0)<<5|n>>>27)+r|0)&i|r&~i)+t[10]+38016083|0)<<9|a>>>23)+n|0)&r|n&~r)+t[15]-660478335|0)<<14|i>>>18)+a|0)&n|a&~n)+t[4]-405537848|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r&a|i&~a)+t[9]+568446438|0)<<5|n>>>27)+r|0)&i|r&~i)+t[14]-1019803690|0)<<9|a>>>23)+n|0)&r|n&~r)+t[3]-187363961|0)<<14|i>>>18)+a|0)&n|a&~n)+t[8]+1163531501|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r&a|i&~a)+t[13]-1444681467|0)<<5|n>>>27)+r|0)&i|r&~i)+t[2]-51403784|0)<<9|a>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0)<<14|i>>>18)+a|0)&n|a&~n)+t[12]-1926607734|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r^i^a)+t[5]-378558|0)<<4|n>>>28)+r|0)^r^i)+t[8]-2022574463|0)<<11|a>>>21)+n|0)^n^r)+t[11]+1839030562|0)<<16|i>>>16)+a|0)^a^n)+t[14]-35309556|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r^i^a)+t[1]-1530992060|0)<<4|n>>>28)+r|0)^r^i)+t[4]+1272893353|0)<<11|a>>>21)+n|0)^n^r)+t[7]-155497632|0)<<16|i>>>16)+a|0)^a^n)+t[10]-1094730640|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r^i^a)+t[13]+681279174|0)<<4|n>>>28)+r|0)^r^i)+t[0]-358537222|0)<<11|a>>>21)+n|0)^n^r)+t[3]-722521979|0)<<16|i>>>16)+a|0)^a^n)+t[6]+76029189|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r^i^a)+t[9]-640364487|0)<<4|n>>>28)+r|0)^r^i)+t[12]-421815835|0)<<11|a>>>21)+n|0)^n^r)+t[15]+530742520|0)<<16|i>>>16)+a|0)^a^n)+t[2]-995338651|0)<<23|r>>>9)+i|0,r=((r+=((a=((a+=(r^((n=((n+=(i^(r|~a))+t[0]-198630844|0)<<6|n>>>26)+r|0)|~i))+t[7]+1126891415|0)<<10|a>>>22)+n|0)^((i=((i+=(n^(a|~r))+t[14]-1416354905|0)<<15|i>>>17)+a|0)|~n))+t[5]-57434055|0)<<21|r>>>11)+i|0,r=((r+=((a=((a+=(r^((n=((n+=(i^(r|~a))+t[12]+1700485571|0)<<6|n>>>26)+r|0)|~i))+t[3]-1894986606|0)<<10|a>>>22)+n|0)^((i=((i+=(n^(a|~r))+t[10]-1051523|0)<<15|i>>>17)+a|0)|~n))+t[1]-2054922799|0)<<21|r>>>11)+i|0,r=((r+=((a=((a+=(r^((n=((n+=(i^(r|~a))+t[8]+1873313359|0)<<6|n>>>26)+r|0)|~i))+t[15]-30611744|0)<<10|a>>>22)+n|0)^((i=((i+=(n^(a|~r))+t[6]-1560198380|0)<<15|i>>>17)+a|0)|~n))+t[13]+1309151649|0)<<21|r>>>11)+i|0,r=((r+=((a=((a+=(r^((n=((n+=(i^(r|~a))+t[4]-145523070|0)<<6|n>>>26)+r|0)|~i))+t[11]-1120210379|0)<<10|a>>>22)+n|0)^((i=((i+=(n^(a|~r))+t[2]+718787259|0)<<15|i>>>17)+a|0)|~n))+t[9]-343485551|0)<<21|r>>>11)+i|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=i+e[2]|0,e[3]=a+e[3]|0}}]),e}();if(bw.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),bw.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),bw.hexChars="0123456789abcdef",bw.hexOut=[],bw.onePassHasher=new bw,"5d41402abc4b2a76b9719d911017c592"!==bw.hashStr("hello"))throw new Error("Md5 self test failed.");var ww=function(){var t=e.createRef(),n=e.createRef(),r=It(),i=function(e){if(!t.current||!n.current||!o())return r(Et({type:"warning",title:"Login Failed",message:"Benutzernamen und Passwort eingeben!"})),void setTimeout((function(){return r(St())}),3e3);gw[gt.online].user.getWithParam("full_name",t.current.value).then((function(e){0<e.length&&e.length<2&&u(e[0].full_name,e[0].password)?(console.log("right password"),r(xt({isSuccessfull:!0,username:e[0].full_name}))):(r(xt({isSuccessfull:!1})),r(Et({type:"warning",title:"Login Failed",message:"Benutzername oder Passwort ist falsch."})),setTimeout((function(){return r(St())}),3e3))}))},a=function(e){"Enter"===e.key&&(o()?i():r(Et({type:"error",message:"Entweder das Passwort oder der Benutzername sind Falsch",title:"Login Failed!"})))},o=function(){return!(!t.current||!n.current||""===t.current.value||""===n.current.value)},u=function(e,r){var i;return e===(null===(i=t.current)||void 0===i?void 0:i.value)&&bw.hashStr(n.current.value)===r};return(0,s.jsxs)("div",{className:c.container,children:[(0,s.jsx)("div",{className:c.header,children:(0,s.jsx)("h1",{children:"Martin Herhold SuD"})}),(0,s.jsx)("div",{className:c.loginboxcontainer,children:(0,s.jsxs)("div",{className:c.loginbox,children:[(0,s.jsx)("div",{className:c.headertext,children:(0,s.jsx)("h2",{children:"Welcome Back"})}),(0,s.jsx)("div",{className:c.divider}),(0,s.jsxs)("div",{className:c.usereingabe,children:[(0,s.jsx)("div",{className:c.username,children:(0,s.jsx)(l,{ref:t,placeholder:"Benutzername",onKeyDown:a,icon:(0,s.jsx)(g,{})})}),(0,s.jsx)("div",{className:c.password,children:(0,s.jsx)(l,{placeholder:"Passwort",type:"password",icon:(0,s.jsx)(b,{}),onKeyDown:a,ref:n})}),(0,s.jsx)("div",{className:c.loginbuttoncontainer,children:(0,s.jsx)("button",{tabIndex:0,onClick:i,className:c.loginButton,children:"Login"})})]})]})})]})},kw="navbarlink_container__NFyzY",_w="navbarlink_flexi__ipexF",Ew="navbarlink_icon__KY+IL";var Sw=function(e){var t=e.name;return e&&e.name&&e.name.split("").length>15&&(t=t.split("").slice(0,15).join("")),(0,s.jsxs)("div",{onClick:e.onClick,className:kw+(e&&e.flexi?" "+_w:""),children:[e.icon?(0,s.jsx)("div",{className:Ew,children:e.icon}):(0,s.jsx)(s.Fragment,{}),t]})};function xw(e){return y({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M313.6 304c-28.7 0-42.5 16-89.6 16-47.1 0-60.8-16-89.6-16C60.2 304 0 364.2 0 438.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-25.6c0-74.2-60.2-134.4-134.4-134.4zM400 464H48v-25.6c0-47.6 38.8-86.4 86.4-86.4 14.6 0 38.3 16 89.6 16 51.7 0 74.9-16 89.6-16 47.6 0 86.4 38.8 86.4 86.4V464zM224 288c79.5 0 144-64.5 144-144S303.5 0 224 0 80 64.5 80 144s64.5 144 144 144zm0-240c52.9 0 96 43.1 96 96s-43.1 96-96 96-96-43.1-96-96 43.1-96 96-96z"}}]})(e)}function Cw(e){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16 13v-2H7V8l-5 4 5 4v-3z"}},{tag:"path",attr:{d:"M20 3h-9c-1.103 0-2 .897-2 2v4h2V5h9v14h-9v-4H9v4c0 1.103.897 2 2 2h9c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2z"}}]})(e)}var Tw="navbar_container__GqHI+",Iw="navbar_links__9svkR",Ow="navbar_topnavbarcontainer__CQm4e",Aw="navbar_burgermenu__dnV7W",Nw="navbar_bmcontainer__5k-gl",Pw="navbar_auth__-gLLy",Dw=[{name:"Home",route:"/"},{name:"Pr\xfcfungen",route:"/pruefungen"},{name:"Rauchmelder",route:"/rauchmelder"},{name:"Wohnungen",route:"/wohnungen"},{name:"Objekte",route:"/objekte"},{name:"Auftraggeber",route:"/auftraggeber"}];var Rw=function(e){var t=lt((function(e){return e.authentication.username})),n=It();return(0,s.jsxs)("div",{className:Tw,children:[(0,s.jsx)("div",{className:Iw,children:Dw.map((function(t,n){return(0,s.jsx)(Sw,{name:t.name,onClick:function(){return e.changeComponent(t.route)}},n)}))}),(0,s.jsxs)("div",{className:Pw,children:[(0,s.jsx)(Sw,{name:t||"",icon:(0,s.jsx)(xw,{}),flexi:!0,onClick:function(){return e.changeComponent("/profile")}}),(0,s.jsx)(Sw,{name:"Logout",flexi:!0,icon:(0,s.jsx)(Cw,{}),onClick:function(){return n(Ct())}})]})]})};var Lw=function(e){return(0,s.jsx)("div",{className:Ow,children:(0,s.jsx)("div",{className:Nw,onClick:e&&e.onMenuChange?e.onMenuChange:void 0,children:(0,s.jsx)("div",{className:Aw})})})};var jw=function(){return(0,s.jsx)("div",{children:"OverviewComponent"})};function Mw(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var Fw,Uw="homescreen_activeElement__mks0+",Vw="homescreen_anwendung__Qtkh5";function Bw(){return Bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bw.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Fw||(Fw={}));var zw,Kw="popstate";function qw(e){return{usr:e.state,key:e.key}}function Ww(e,t,n,r){return void 0===n&&(n=null),Bw({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?Qw(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function Hw(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function Qw(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Gw(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,u=i.v5Compat,s=void 0!==u&&u,l=o.history,c=Fw.Pop,f=null;function h(){c=Fw.Pop,f&&f({action:c,location:d.location})}var d={get action(){return c},get location(){return e(o,l)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(Kw,h),f=e,function(){o.removeEventListener(Kw,h),f=null}},createHref:function(e){return t(o,e)},push:function(e,t){c=Fw.Push;var r=Ww(d.location,e,t);n&&n(r,e);var i=qw(r),a=d.createHref(r);try{l.pushState(i,"",a)}catch(u){o.location.assign(a)}s&&f&&f({action:c,location:r})},replace:function(e,t){c=Fw.Replace;var r=Ww(d.location,e,t);n&&n(r,e);var i=qw(r),a=d.createHref(r);l.replaceState(i,"",a),s&&f&&f({action:c,location:r})},go:function(e){return l.go(e)}};return d}function $w(e,t,n){void 0===n&&(n="/");var r=nk(("string"===typeof t?Qw(t):t).pathname||"/",n);if(null==r)return null;var i=Yw(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=ek(i[o],r);return a}function Yw(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(rk(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));var o=uk([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(rk(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),Yw(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:Zw(o,e.index),routesMeta:u})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(zw||(zw={}));var Xw=/^:\w+$/,Jw=function(e){return"*"===e};function Zw(e,t){var n=e.split("/"),r=n.length;return n.some(Jw)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!Jw(e)})).reduce((function(e,t){return e+(Xw.test(t)?3:""===t?1:10)}),r)}function ek(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=tk({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},l);if(!c)return null;Object.assign(r,c.params);var f=u.route;a.push({params:r,pathname:uk([i,c.pathname]),pathnameBase:sk(uk([i,c.pathnameBase])),route:f}),"/"!==c.pathnameBase&&(i=uk([i,c.pathnameBase]))}return a}function tk(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);ik("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=o(n,2),i=r[0],a=r[1],u=t.match(i);if(!u)return null;var s=u[0],l=s.replace(/(.)\/+$/,"$1"),c=u.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";l=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return ik(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:s,pathnameBase:l,pattern:e}}function nk(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function rk(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function ik(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(m_){}}}function ak(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ok(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=Qw(e):(rk(!(i=Bw({},e)).pathname||!i.pathname.includes("?"),ak("?","pathname","search",i)),rk(!i.pathname||!i.pathname.includes("#"),ak("#","pathname","hash",i)),rk(!i.search||!i.search.includes("#"),ak("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var l=u.split("/");".."===l[0];)l.shift(),s-=1;i.pathname=l.join("/")}a=s>=0?t[s]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?Qw(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:lk(a),hash:ck(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return c.pathname.endsWith("/")||!f&&!h||(c.pathname+="/"),c}var uk=function(e){return e.join("/").replace(/\/\/+/g,"/")},sk=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},lk=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ck=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},fk=function(e){Vt(n,e);var t=Kt(n);function n(){return qt(this,n),t.apply(this,arguments)}return Ht(n)}(Qt(Error));var hk=Ht((function e(t,n,r){qt(this,e),this.status=t,this.statusText=n||"",this.data=r}));function dk(e){return e instanceof hk}function pk(){return pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pk.apply(this,arguments)}var vk="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},yk=e.useState,mk=e.useEffect,gk=e.useLayoutEffect,bk=e.useDebugValue;function wk(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!vk(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,t.useSyncExternalStore;var kk=e.createContext(null);var _k=e.createContext(null);var Ek=e.createContext(null);var Sk=e.createContext(null);var xk=e.createContext(null);var Ck=e.createContext(null);var Tk=e.createContext({outlet:null,matches:[]});var Ik=e.createContext(null);function Ok(){return null!=e.useContext(Ck)}function Ak(){return Ok()||rk(!1),e.useContext(Ck).location}function Nk(e){return e.filter((function(t,n){return 0===n||!t.route.index&&t.pathnameBase!==e[n-1].pathnameBase}))}function Pk(){Ok()||rk(!1);var t=e.useContext(xk),n=t.basename,r=t.navigator,i=e.useContext(Tk).matches,a=Ak().pathname,o=JSON.stringify(Nk(i).map((function(e){return e.pathnameBase}))),u=e.useRef(!1);e.useEffect((function(){u.current=!0}));var s=e.useCallback((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=ok(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:uk([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return s}function Dk(){var t=function(){var t,n=e.useContext(Ik),r=Uk(Lk.UseRouteError),i=e.useContext(Tk),a=i.matches[i.matches.length-1];if(n)return n;return i||rk(!1),!a.route.id&&rk(!1),null==(t=r.errors)?void 0:t[a.route.id]}(),n=dk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unhandled Thrown Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:a},r):null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",e.createElement("code",{style:o},"errorElement")," props on\xa0",e.createElement("code",{style:o},"<Route>")))}var Rk,Lk,jk=function(t){Vt(r,t);var n=Kt(r);function r(e){var t;return qt(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return Ht(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?e.createElement(Ik.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(e.Component);function Mk(t){var n=t.routeContext,r=t.match,i=t.children,a=e.useContext(kk);return a&&r.route.errorElement&&(a._deepestRenderedBoundaryId=r.route.id),e.createElement(Tk.Provider,{value:n},i)}function Fk(t,n,r){if(void 0===n&&(n=[]),null==t){if(null==r||!r.errors)return null;t=r.matches}var i=t,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||rk(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(t,o,u){var s=o.route.id?null==a?void 0:a[o.route.id]:null,l=r?o.route.errorElement||e.createElement(Dk,null):null,c=function(){return e.createElement(Mk,{match:o,routeContext:{outlet:t,matches:n.concat(i.slice(0,u+1))}},s?l:void 0!==o.route.element?o.route.element:t)};return r&&(o.route.errorElement||0===u)?e.createElement(jk,{location:r.location,component:l,error:s,children:c()}):c()}),null)}function Uk(t){var n=e.useContext(Ek);return n||rk(!1),n}!function(e){e.UseRevalidator="useRevalidator"}(Rk||(Rk={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Lk||(Lk={}));var Vk;function Bk(e){rk(!1)}function zk(t){var n=t.basename,r=void 0===n?"/":n,i=t.children,a=void 0===i?null:i,o=t.location,u=t.navigationType,s=void 0===u?Fw.Pop:u,l=t.navigator,c=t.static,f=void 0!==c&&c;Ok()&&rk(!1);var h=r.replace(/^\/*/,"/"),d=e.useMemo((function(){return{basename:h,navigator:l,static:f}}),[h,l,f]);"string"===typeof o&&(o=Qw(o));var p=o,v=p.pathname,y=void 0===v?"/":v,m=p.search,g=void 0===m?"":m,b=p.hash,w=void 0===b?"":b,k=p.state,_=void 0===k?null:k,E=p.key,S=void 0===E?"default":E,x=e.useMemo((function(){var e=nk(y,h);return null==e?null:{pathname:e,search:g,hash:w,state:_,key:S}}),[h,y,g,w,_,S]);return null==x?null:e.createElement(xk.Provider,{value:d},e.createElement(Ck.Provider,{children:a,value:{location:x,navigationType:s}}))}function Kk(t){var n=t.children,r=t.location,i=e.useContext(_k);return function(t,n){Ok()||rk(!1);var r,i=e.useContext(Ek),a=e.useContext(Tk).matches,o=a[a.length-1],u=o?o.params:{},s=(o&&o.pathname,o?o.pathnameBase:"/"),l=(o&&o.route,Ak());if(n){var c,f="string"===typeof n?Qw(n):n;"/"===s||(null==(c=f.pathname)?void 0:c.startsWith(s))||rk(!1),r=f}else r=l;var h=r.pathname||"/",d=$w(t,{pathname:"/"===s?h:h.slice(s.length)||"/"}),p=Fk(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:uk([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:uk([s,e.pathnameBase])})})),a,i||void 0);return n?e.createElement(Ck.Provider,{value:{location:pk({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:Fw.Pop}},p):p}(i&&!n?i.router.routes:Wk(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Vk||(Vk={}));var qk=new Promise((function(){}));e.Component;function Wk(t,n){void 0===n&&(n=[]);var r=[];return e.Children.forEach(t,(function(t,i){if(e.isValidElement(t))if(t.type!==e.Fragment){t.type!==Bk&&rk(!1),t.props.index&&t.props.children&&rk(!1);var a=[].concat(wt(n),[i]),o={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,hasErrorBoundary:null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle};t.props.children&&(o.children=Wk(t.props.children,a)),r.push(o)}else r.push.apply(r,Wk(t.props.children,n))})),r}var Hk=function(){return(0,s.jsx)("div",{children:"ProfileComponent"})},Qk="addbutton_container__5MC3m";function Gk(e){return y({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M368.5 240H272v-96.5c0-8.8-7.2-16-16-16s-16 7.2-16 16V240h-96.5c-8.8 0-16 7.2-16 16 0 4.4 1.8 8.4 4.7 11.3 2.9 2.9 6.9 4.7 11.3 4.7H240v96.5c0 4.4 1.8 8.4 4.7 11.3 2.9 2.9 6.9 4.7 11.3 4.7 8.8 0 16-7.2 16-16V272h96.5c8.8 0 16-7.2 16-16s-7.2-16-16-16z"}}]})(e)}var $k=function(e){var t=Pk();return(0,s.jsx)("div",{className:Qk,onClick:function(n){return t("/add/"+e.routeParam)},children:(0,s.jsx)(Gk,{})})},Yk={gesamtContainer:"datatable_gesamtContainer__jsl2e",headline:"datatable_headline__qHH9H",columns:"datatable_columns__AQfXC",dataRow:"datatable_dataRow__MKq29",datarowelement:"datatable_datarowelement__M2Uvt"};var Xk=function(e){return e&&e.rows&&e.columns?(0,s.jsxs)("div",{className:Yk.gesamtContainer,children:[(0,s.jsx)("div",{className:Yk.headline,children:e.headline}),(0,s.jsx)("div",{className:Yk.columns,children:e.columns.map((function(e,t){return(0,s.jsx)("div",{className:Yk.columnsegment,children:e},t)}))}),(0,s.jsx)("div",{className:Yk.dataRow,children:e.rows.map((function(t,n){return(0,s.jsx)("div",{className:Yk.datarowelement+" datarow"+n,onClick:function(n){return e.handleEdit(t.id)},children:Object.keys(t).map((function(n,r){var i=e.columns.findIndex((function(e){return e===n}));return i>=0?(0,s.jsx)("div",{className:Yk.rowsegment,children:t[n].toString()},r):(0,s.jsx)(s.Fragment,{})}))},n)}))})]}):(0,s.jsx)("div",{})},Jk={};var Zk=function(e){return(0,s.jsx)("div",{className:Jk.spinnerwrapper,children:(0,s.jsx)("div",{className:e&&e.size?Jk.spinner+" "+Jk[e.size+"spinner"]:Jk.spinner+" "+Jk.Mediumspinner})})},e_="objekte_datatable__UdWYL";var t_=function(){var t=o((0,e.useState)(),2),n=t[0],r=t[1],i=Pk();return(0,e.useEffect)((function(){function e(){return(e=Pt(At().mark((function e(){var t;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gw[gt.online].objekte.get();case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n?(console.log(n[0].adresse.toString()),(0,s.jsxs)("div",{className:e_,children:[(0,s.jsx)("div",{children:(0,s.jsx)(Xk,{rows:n,columns:["id","adresse","auftraggeber","beschreibung","objektname"],headline:"Objekte",handleEdit:function(e){return i("/edit/objekte/"+e)}})}),(0,s.jsx)($k,{routeParam:"objekt"})]})):(0,s.jsx)("div",{children:(0,s.jsx)(Zk,{size:"Big"})})};var n_=function(){var t=o((0,e.useState)(),2),n=t[0],r=t[1],i=Pk();return(0,e.useEffect)((function(){function e(){return(e=Pt(At().mark((function e(){var t;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gw[gt.online].rauchmelder.get();case 2:t=e.sent,r(t),console.log(t[0]);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n?(0,s.jsx)("div",{children:(0,s.jsx)("div",{children:(0,s.jsx)(Xk,{rows:n,columns:["id","auftraggeber","objekt","produktionsdatum","raum","seriennr","wohnung"],headline:"Rauchmelder",handleEdit:function(e){return i("/edit/rauchmelder/"+e)}})})}):(0,s.jsx)("div",{children:(0,s.jsx)(Zk,{size:"Big"})})};var r_=function(){var t=o((0,e.useState)(void 0),2),n=t[0],r=t[1],i=Pk();return(0,e.useEffect)((function(){gw[gt.online].wohnungen.get().then((function(e){return r(e)}))})),(0,s.jsx)("div",{children:(0,s.jsx)("div",{children:(0,s.jsx)(Xk,{rows:n,columns:["id","etage"],headline:"Wohnungen",handleEdit:function(e){return i("/edit/wohnungen/"+e)}})})})};var i_=function(){var t=o((0,e.useState)(),2),n=t[0],r=t[1],i=Pk();return(0,e.useEffect)((function(){function e(){return(e=Pt(At().mark((function e(){var t;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gw[gt.online].auftraggeber.get();case 2:t=e.sent,r(t),console.log(t[0]);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n?(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{children:(0,s.jsx)(Xk,{rows:n,columns:["id","adresse","email","name","telefon"],headline:"Auftraggeber",handleEdit:function(e){return i("/edit/auftraggeber/"+e)}})}),(0,s.jsx)($k,{routeParam:"auftraggeber"})]}):(0,s.jsx)("div",{children:(0,s.jsx)(Zk,{size:"Big"})})};var a_=function(){return(0,s.jsx)("div",{children:"PruefungenComponent"})};var o_=function(t){var n=o((0,e.useState)(!0),2),r=n[0],i=n[1],a=function(){var t=o((0,e.useState)(Mw()),2),n=t[0],r=t[1];return(0,e.useEffect)((function(){function e(){r(Mw())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}(),u=a.width,l=Pk();return(0,s.jsxs)("div",{className:Vw,children:[r?(0,s.jsx)(Rw,{isShown:r,changeComponent:function(e){return function(e){u<600&&i(!1),l(e)}(e)}}):(0,s.jsx)(s.Fragment,{}),(0,s.jsxs)("div",{className:Uw,children:[(0,s.jsx)(Lw,{onMenuChange:function(){return i(!r)}}),(0,s.jsxs)(Kk,{children:[(0,s.jsx)(Bk,{path:"/",element:(0,s.jsx)(jw,{})}),(0,s.jsx)(Bk,{path:"/profile",element:(0,s.jsx)(Hk,{})}),(0,s.jsx)(Bk,{path:"/objekte",element:(0,s.jsx)(t_,{})}),(0,s.jsx)(Bk,{path:"/rauchmelder",element:(0,s.jsx)(n_,{})}),(0,s.jsx)(Bk,{path:"/wohnungen",element:(0,s.jsx)(r_,{})}),(0,s.jsx)(Bk,{path:"/auftraggeber",element:(0,s.jsx)(i_,{})}),(0,s.jsx)(Bk,{path:"/pruefungen",element:(0,s.jsx)(a_,{})})]})]})]})};var u_=function(e){var t=Ee({},e),n=t.children,r=t.wrapperId;r||(r="error-portal-wrapper");var i=document.getElementById(r);return i||(i=function(e){var t=document.createElement("div");return t.setAttribute("id",e),document.body.appendChild(t),t}(r)),(0,et.createPortal)(n,i)},s_={"error-wrapper":"errorcomponent_error-wrapper__T-OVL","error-box":"errorcomponent_error-box__U+Ubt","error-box-title":"errorcomponent_error-box-title__RVPl5",error:"errorcomponent_error__SRHAL",success:"errorcomponent_success__MA3ht",warning:"errorcomponent_warning__qRde7",log:"errorcomponent_log__srZsT","loading-bar-content":"errorcomponent_loading-bar-content__4fpV6",errorloadinganimation:"errorcomponent_errorloadinganimation__qqtq6","loading-bar-container":"errorcomponent_loading-bar-container__dg8qx"};var l_=function(e){return e&&e.errorListe?(0,s.jsx)(u_,{wrapperId:s_["react-portal-modal-container"],children:(0,s.jsx)("div",{className:s_["error-wrapper"],children:e.errorListe.map((function(e,t){return(0,s.jsxs)("div",{className:s_[e.type]+" "+s_["error-box"]+" "+s_["show-vertical"],children:[(0,s.jsx)("div",{className:s_["error-box-title"],children:e.title}),(0,s.jsx)("p",{children:e.message}),(0,s.jsx)("div",{className:s_["loading-bar-container"],children:(0,s.jsx)("div",{className:s_["loading-bar-content"]})})]},t)}))})}):null};function c_(t){var n,r=t.basename,i=t.children,a=t.window,u=e.useRef();null==u.current&&(u.current=(void 0===(n={window:a,v5Compat:!0})&&(n={}),Gw((function(e,t){var n=e.location;return Ww("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:Hw(t)}),null,n)));var s=u.current,l=o(e.useState({action:s.action,location:s.location}),2),c=l[0],f=l[1];return e.useLayoutEffect((function(){return s.listen(f)}),[s]),e.createElement(zk,{basename:r,children:i,location:c.location,navigationType:c.action,navigator:s})}var f_,h_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(f_||(f_={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(h_||(h_={}));var d_=function(t){var n=lt((function(e){return e.authentication.isSignedIn})),r=lt((function(e){return e.errorListe}));return(0,e.useEffect)((function(){})),(0,s.jsxs)(s.Fragment,{children:[n?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(c_,{children:"online"===t.status?(0,s.jsx)(o_,{clientstatus:gt.online}):(0,s.jsx)(o_,{clientstatus:gt.offline})})}):(0,s.jsx)(ww,{}),(0,s.jsx)(l_,{errorListe:r})]})},p_=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function v_(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var y_=n(757);r.createRoot(document.getElementById("root")).render((0,s.jsx)(dt,{store:Tt,children:(0,s.jsxs)(e.StrictMode,{children:[(0,s.jsx)(y_.vk,{children:(0,s.jsx)(d_,{status:"online"})}),(0,s.jsx)(y_.B6,{children:(0,s.jsx)(d_,{status:"offline"})})]})})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),function(e){if("serviceWorker"in navigator){if(new URL("/pwa-rauchmelder",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/pwa-rauchmelder","/service-worker.js");p_?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):v_(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):v_(t,e)}))}}()}()}();
//# sourceMappingURL=main.d21dfa69.js.map